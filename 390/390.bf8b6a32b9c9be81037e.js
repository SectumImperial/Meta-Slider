"use strict";(self.webpackChunkmeta_slider=self.webpackChunkmeta_slider||[]).push([[390],{390:function(t,e,s){var i=s(755),r=s.n(i);var h=class{constructor(){this.observers={}}addSubscriber(t,e){if(this.observers[t]){const s=this.observers[t];this.observers[t]=[...s,e]}else this.observers[t]=[e]}removeSubscriber(t,e){this.observers[t].filter((t=>t!==e))}emit(t,e){(this.observers[t]||[]).forEach((s=>{s.update(e,t)}))}};const a="VALUE_CHANGED",o="VALUE_START_CHANGE",n="DATA_COLLECTED",c="VALUE_CHANGED",l=" SCALE_CLICKED",u="KEY_DOWN",m="MARK_CLICKED";var d=class extends h{constructor(t,e){super(),this.isVertical=e,this.direction=this.isVertical?"clientY":"clientX",this.startPoint=this.isVertical?"top":"left",this.size=this.isVertical?"height":"width",this.mod=this.isVertical?"vertical":"horizontal",this.root=t}static createElement(t){const e=document.createElement("div");return e.className=t,e}performMouseMove(t,e){const s=s=>{s.preventDefault();const i=this.root.getBoundingClientRect()[this.startPoint],r=s[this.direction]-t-i;this.emit(o,{coordsMove:r,thumbId:e})},i=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)}performTouchMove(t,e){const s=s=>{s.stopImmediatePropagation();const i=this.root.getBoundingClientRect()[this.startPoint],r=s.touches[0][this.direction]-t-i;this.emit(o,{coordsMove:r,thumbId:e})},i=()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",s),document.addEventListener("touchend",i)}performKeyDown(t,e){this.emit(u,{keyEvent:t,thumbId:e})}performClickMark(t,e){this.emit(m,{percent:t,value:e})}};var v=class extends d{constructor(t){const{root:e,positionStart:s,positionEnd:i,isVertical:r}=t;super(e,r),this.positionStart=s,this.positionEnd=i,this.progress=d.createElement("plugin-slider__progress"),this.setProgress()}setProgress(){this.progress.style[this.startPoint]="".concat(this.positionStart,"%"),this.progress.style[this.size]="".concat(this.positionEnd,"%"),this.root.append(this.progress)}setProgressPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;this.progress.style[this.startPoint]="".concat(t,"%"),this.progress.style[this.size]="".concat(e,"%")}};var b=class extends d{constructor(t,e){super(t,e),this.initScale()}getScale(){return this.scale||(this.scale=d.createElement("plugin-slider__scale")),this.scale}initScale(){this.scale=d.createElement("plugin-slider__scale"),this.isVertical&&this.scale.classList.add("plugin-slider__scale_vertical"),this.isVertical||this.scale.classList.add("plugin-slider__scale_horizontal"),this.addScale(),this.addListeners()}addScale(){this.root.append(this.scale)}addListeners(){this.scale.addEventListener("click",this.handleScaleClick.bind(this))}handleScaleClick(t){const{target:e}=t;if(!e.closest(".plugin-slider__scale"))return;if(e.classList.contains("plugin-slider__mark-value"))return;const s=this.scale.getBoundingClientRect()[this.size],i=this.scale.getBoundingClientRect()[this.startPoint],r=t[this.direction]-i;r>s||r<0||this.emitData(r,s)}emitData(t,e){const s={coordsMove:t,scaleSize:e};this.emit(l,s)}};var p=class extends d{constructor(t,e,s){super(t,s),this.marks=e,this.init()}init(){this.createMarks(),this.addListeners()}addListeners(){this.root.addEventListener("click",this.handleRootClick.bind(this))}handleRootClick(t){const e=t.target;if(null===e)return;const{value:s,percent:i}=e.dataset;e.classList.contains("plugin-slider__mark-value")&&void 0!==i&&this.performClickMark(Number(i),Number(s))}createMarks(){this.marks.forEach(((t,e)=>this.createMark(t,e)))}createMark(t,e){const s=d.createElement("plugin-slider__mark");s.classList.add("plugin-slider__mark_".concat(this.mod)),s.style[this.startPoint]="".concat(t,"%");const i=document.createElement("span");i.className="plugin-slider__mark-value",i.classList.add("plugin-slider__mark-value_".concat(this.mod)),i.dataset.value="".concat(e),i.dataset.percent="".concat(t),i.innerText="".concat(e),s.append(i),this.root.append(s)}};var g=class extends d{constructor(t){const{root:e,thumbPercent:s=0,id:i="valueFrom",isVertical:r}=t;super(e,r),this.thumbPercent=s,this.thumbId=i,this.initThumb()}initThumb(){this.thumbElement=d.createElement("plugin-slider__thumb"),this.thumbElement.id=this.thumbId,this.thumbElement.tabIndex=1,this.root.append(this.thumbElement),this.setPosition(this.thumbPercent),this.addListeners()}setPosition(t){this.thumbPercent=t,this.checkZInd(),this.thumbElement.style[this.startPoint]="".concat(this.thumbPercent,"%")}getThumb(){return this.thumbElement}getThumbId(){return this.thumbId}checkZInd(){"valueFrom"===this.thumbId&&100===this.thumbPercent&&(this.thumbElement.style.zIndex="10"),"valueFrom"===this.thumbId&&this.thumbPercent<100&&(this.thumbElement.style.zIndex="5"),"valueTo"===this.thumbId&&0===this.thumbPercent&&(this.thumbElement.style.zIndex="10"),"valueTo"===this.thumbId&&this.thumbPercent>0&&(this.thumbElement.style.zIndex="5")}addListeners(){this.thumbElement.addEventListener("mousedown",this.handleThumbMouseDown.bind(this)),this.thumbElement.addEventListener("keydown",this.handleThumbKeyDown.bind(this)),this.thumbElement.addEventListener("touchstart",this.handleThumbTouch.bind(this))}handleThumbTouch(t){t.preventDefault();const e=this.thumbElement.getBoundingClientRect()[this.startPoint];this.moved=t.touches[0][this.direction]-(e+this.thumbElement.getBoundingClientRect()[this.size]/2),super.performTouchMove(this.moved,this.thumbId)}handleThumbMouseDown(t){t.preventDefault(),this.moved=t[this.direction]-(this.thumbElement.getBoundingClientRect()[this.startPoint]+this.thumbElement.getBoundingClientRect()[this.size]/2),this.checkZInd(),super.performMouseMove(this.moved,this.thumbId)}handleThumbKeyDown(t){t.preventDefault();const{key:e}=t;"ArrowLeft"!==e&&"ArrowUp"!==e&&"ArrowRight"!==e&&"ArrowDown"!==e||t.preventDefault(),("ArrowLeft"===e&&!this.isVertical||"ArrowUp"===e&&this.isVertical)&&super.performKeyDown("decrement",this.thumbId),("ArrowRight"===e&&!this.isVertical||"ArrowDown"===e&&this.isVertical)&&super.performKeyDown("increment",this.thumbId)}};var P=class extends d{constructor(t){const{root:e,percentPosition:s,valueTip:i,isVertical:r}=t;super(e,r),this.percentPosition=s,this.valueTip=i,this.tip=this.createTip(),this.addTip()}setValueTip(t){this.tip.innerText="".concat(t)}hideTip(){this.tip.style.display="none"}showTip(){this.tip.style.display=""}setPosition(t,e){this.tip.style[this.startPoint]="".concat(t,"%"),this.tip.innerText="".concat(e)}createTip(){const t=d.createElement("plugin-slider__tip");return t.classList.add("plugin-slider__tip_".concat(this.mod)),t.innerText="".concat(this.valueTip),t.style[super.startPoint]="".concat(this.percentPosition,"%"),t}addTip(){this.root.append(this.tip)}};class T extends h{constructor(t,e){super(),this.state=e,this.createVariables(t,e),this.initSlider(),this.setState(e)}static createSlider(){const t=document.createElement("div");return t.className="plugin-slider",t}update(t,e){const{size:s}=this.sliderComponents,i=this.scaleElement.getBoundingClientRect()[s];if(e===o){const e=Object.assign(Object.assign({},t),{scaleSize:i});this.emit(n,e)}else this.emit(n,t)}setState(t){const{thumbPercentFrom:e,valueFrom:s,isRange:i,thumbPercentTo:r,valueTo:h}=t;this.setThumbs(e,r,i),this.setTips(s,h,i),this.setProgress(e,r,i)}setThumbs(t,e,s){if(this.thumbPercentFrom=t,this.thumbFrom.setPosition(this.thumbPercentFrom),s){null===this.slider.querySelector("#valueTo")&&void 0!==e&&this.setThumb("valueTo",e)}s&&void 0!==e&&this.thumbTo&&(this.thumbPercentTo=e,this.thumbTo.setPosition(this.thumbPercentTo))}setThumb(t,e){this["valueTo"===t?"thumbTo":"thumbFrom"]=new g({root:this.scaleElement,thumbPercent:e,id:t,isVertical:this.isVertical})}setTips(t,e,s){var i,r,h;const{isTip:a}=this;a&&this.tipFrom&&(this.tipValueFrom=t,this.tipFrom.setPosition(this.thumbPercentFrom,this.tipValueFrom)),this.isNeedDoubleTip()?(null===(i=this.tipFrom)||void 0===i||i.setValueTip("".concat(t," - ").concat(e)),null===(r=this.tipTo)||void 0===r||r.hideTip()):null===(h=this.tipTo)||void 0===h||h.showTip(),s&&this.tipTo&&void 0!==e&&this.thumbPercentTo&&(this.tipValueTo=e,this.tipTo.setPosition(this.thumbPercentTo,this.tipValueTo))}setTip(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"valueFrom";const e="valueFrom"===t?"tipValueFrom":"tipValueTo",s="valueFrom"===t?"tipFrom":"tipTo",i="valueFrom"===t?"thumbPercentFrom":"thumbPercentTo";"valueTo"===t&&void 0===this[i]||(this[s]=new P({root:this.scaleElement,percentPosition:this[i],valueTip:e,isVertical:this.isVertical}))}setProgress(t,e,s){var i,r,h;if(null===this.slider.querySelector(".plugin-slider__progress")){const t="number"==typeof e?e:0;this.progress=new v({root:this.scaleElement,positionStart:this.thumbPercentFrom,positionEnd:t,isVertical:this.isVertical})}this.isProgress&&s&&e&&(null===(i=this.progress)||void 0===i||i.setProgressPosition(this.thumbPercentFrom,e-t)),this.isProgress&&e===t&&(null===(r=this.progress)||void 0===r||r.setProgressPosition(0,0)),this.isProgress&&!s&&(null===(h=this.progress)||void 0===h||h.setProgressPosition(0,this.thumbPercentFrom))}initSlider(){this.slider=T.createSlider(),this.createElements(),this.addSlider()}createVariables(t,e){const{isTip:s,valueFrom:i,valueTo:r,thumbPercentFrom:h,thumbPercentTo:a,isProgress:o,isRange:n,scaleMap:c,isVertical:l,scaleMarks:u}=e;this.thumbPercentFrom=h,a&&(this.thumbPercentTo=a),this.isTip=s||!1,this.tipValueFrom=i||0,this.tipValueTo=r||0,this.isProgress=o||!1,this.isRange=n||!1,this.isVertical=l||!1,this.scaleMap=c,this.isScaleMarks=u,this.root=t}createElements(){this.sliderComponents=new d(this.slider,this.isVertical),this.scale=new b(this.slider,this.isVertical),this.scaleElement=this.scale.getScale(),this.setThumb("valueFrom",this.thumbPercentFrom),this.isRange&&void 0!==this.thumbPercentTo&&this.setThumb("valueTo",this.thumbPercentTo),this.isTip&&this.setTip("valueFrom"),this.isTip&&this.thumbPercentTo&&this.isRange&&void 0!==this.tipValueTo&&this.setTip("valueTo"),this.setProgress(this.thumbPercentFrom,0,this.isRange),this.scaleMap&&this.isScaleMarks&&(this.scaleMarks=new p(this.scaleElement,this.scaleMap,this.isVertical))}addSlider(){this.root.append(this.slider)}isNeedDoubleTip(){return this.isTip&&this.isRange&&void 0!==this.thumbPercentTo&&(this.thumbPercentTo-this.thumbPercentFrom<=2||0===this.thumbPercentTo&&0===this.thumbPercentFrom)}}var F=T;var S=class extends h{constructor(t,e){super(),this.state=e,this.initView(t,e)}updateSlider(t){this.slider.setState(t)}update(t,e){e===n&&this.emit(c,t),e===c&&this.updateSlider(t)}initView(t,e){const{isRange:s}=e;this.root=t,this.isRange=s,this.slider=new F(t,e),this.addSubscribeSlider()}addSubscribeSlider(){this.slider.thumbFrom.addSubscriber(o,this.slider),this.slider.thumbFrom.addSubscriber(u,this.slider),this.isRange&&this.slider.thumbTo&&(this.slider.thumbTo.addSubscriber(o,this.slider),this.slider.thumbTo.addSubscriber(u,this.slider)),this.slider.scale.addSubscriber(l,this.slider),this.slider.isScaleMarks&&this.slider.scaleMarks.addSubscriber(m,this.slider),this.slider.addSubscriber(l,this),this.slider.addSubscriber(n,this)}};const f={valueFrom:"thumbPercentFrom",valueTo:"thumbPercentTo"};var M=class{constructor(t){this.state=t,this.init()}setState(t){const e=this.state;this.state=Object.assign(Object.assign({},e),t)}getState(){return this.state}updateStateMove(t,e){this.findSuitablePercent(t,e)}getValue(t){return this.state["".concat(t)]}getPercentVal(){const{valueFrom:t,min:e,max:s}=this.state;return Number((t/(s-e)*100).toFixed(3))}init(){this.stepPercent=Number(this.state.step/this.findValPercent())}findSuitablePercent(t,e){const{step:s,max:i,min:r}=this.state,h=Math.floor(t/this.stepPercent),a=Math.ceil(t/this.stepPercent),o=r+s*h,n=r+s*a,c=this.stepPercent*h,l=this.stepPercent*a,u=Number((this.stepPercent/2).toFixed(3));let m,d;Number((t%this.stepPercent).toFixed(3))<u?(m=o,d=c):(m=n,d=l);const v=Math.ceil((i-r)/s),b=this.stepPercent*(v-1);(100===t||100-(100-b)/2<t)&&(m=i,d=100),void 0===d&&(d=this.stepPercent*h),this.handleMove({value:m,thumb:e,percent:d})}handleMove(t){const{value:e,thumb:s,percent:i}=t;"valueFrom"===s&&this.handleMoveFrom({value:e,thumb:s,percent:i}),"valueTo"===s&&this.handleMoveTo({value:e,thumb:s,percent:i})}handleMoveFrom(t){const{value:e,thumb:s,percent:i}=t,{valueTo:r,thumbPercentTo:h}=this.state;this.isValTheSamePos({value:e,valueAnotherThumb:r,thumbPercent:h,thumb:s,idVal:"valueFrom"})&&void 0!==r&&void 0!==h?this.updateMoved(r,h,s):void 0!==e&&this.updateMoved(e,i,s)}handleMoveTo(t){const{value:e,thumb:s,percent:i}=t,{valueFrom:r,thumbPercentFrom:h}=this.state;this.isValTheSamePos({value:e,valueAnotherThumb:r,thumbPercent:h,thumb:s,idVal:"valueTo"})&&void 0!==r?this.updateMoved(r,h,s):void 0!==e&&this.updateMoved(e,i,s)}isValTheSamePos(t){const{value:e,valueAnotherThumb:s,thumbPercent:i,thumb:r,idVal:h}=t,{isRange:a}=this.state;let o=!1;return void 0!==e&&void 0!==s&&(o="valueFrom"===h?e>s:e<s),a&&void 0!==i&&r===h&&o}findValPercent(){return this.findRange()/100}findRange(){return this.state.max-this.state.min}updateMoved(t,e,s){if(Number.isNaN(t)||void 0===e)throw new Error("Something wrong with setting new values");const i=f[s];this.setState({[s]:t,[i]:e})}};var E=class{constructor(t){this.data=t,this.DEFAULT_GAP=20,this.validateData(t)}validateData(t){const e=this.setBooleans(t);return this.setData(t),this.resultObject=Object.assign(Object.assign(Object.assign({},t),e),{thumbPercentFrom:0,thumbPercentTo:void 0}),this.checkRange(),this.checkStep(),this.checkValues(),this.checkPercents(),this.resultObject}performMoveToPercent(t){const{coordsMove:e,scaleSize:s,keyEvent:i,thumbId:r}=t;if(i){if("increment"===i&&"valueFrom"===r)return this.thumbPercentFrom+this.stepPercent;if("decrement"===i&&"valueFrom"===r)return this.thumbPercentFrom-this.stepPercent;if("increment"===i&&"valueTo"===r&&void 0!==this.thumbPercentTo)return this.thumbPercentTo+this.stepPercent;if("decrement"===i&&"valueTo"===r&&void 0!==this.thumbPercentTo)return this.thumbPercentTo-this.stepPercent}if(void 0===e||void 0===s)return 0;let h=Number((e/(s/100)).toFixed(2));return h<0&&(h=0),h>100&&(h=100),h}validateMarks(t){const{step:e,max:s,min:i,gap:r}=t,h=new Map,a=this.validateGap(r),o=this.findRange()/100,n=e/o,c=e*Math.ceil(a/n),l=Math.ceil(c/o);for(let t=0;t<=100;t+=l)if(t<=100-l){const s=e*Math.round(t/n),r=s/o,a=i+s;h.set(a,r)}return h.set(s,100),h}validateThumbId(t){if(!this.isRange)return"valueFrom";if(t<this.thumbPercentFrom)return"valueFrom";if(void 0!==this.thumbPercentTo&&t>this.thumbPercentTo)return"valueTo";if(t>this.thumbPercentFrom&&void 0!==this.thumbPercentTo&&t<this.thumbPercentTo){const e=t-this.thumbPercentFrom,s=this.thumbPercentTo-t;if(e===s||e<s)return"valueFrom";if(e>s)return"valueTo"}return"valueTo"}validatePercent(t,e,s){const{isRange:i}=s;if(!i){const i=Object.assign(Object.assign({},s),{valueFrom:e,thumbPercentFrom:t});return this.validateData(i)}if(i&&void 0!==s.thumbPercentTo){const{thumbPercentFrom:i,thumbPercentTo:r}=s;let h="thumbPercentFrom",a="valueFrom";if(Number(t)>r&&(h="thumbPercentTo",a="valueTo"),Number(t)>i&&Number(t)<r){t-i>=(r-i)/2&&(h="thumbPercentTo",a="valueTo")}const o=Object.assign(Object.assign({},s),{[a]:e,[h]:t});return this.validateData(o)}return s}setData(t){const{min:e,max:s,valueFrom:i,step:r,scalePercentGap:h,valueTo:a}=t;this.min=e,this.max=s,this.valueFrom=i,this.step=r,this.scalePercentGap=h,void 0!==this.scalePercentGap&&"number"!=typeof this.scalePercentGap&&(this.scalePercentGap=void 0),this.isRange&&void 0!==a&&(this.valueTo=a),this.stepPercent=this.step/(this.findRange()/100)}setBooleans(t){const{isRange:e,isTip:s,isVertical:i,isProgress:r,scaleMarks:h}=t;return this.isRange="boolean"==typeof e&&e,this.isTip="boolean"==typeof s&&s,this.isVertical="boolean"==typeof i&&i,this.isProgress="boolean"==typeof r&&r,this.scaleMarks="boolean"==typeof h&&h,{isRange:this.isRange,isTip:this.isTip,isVertical:this.isVertical,isProgress:this.isProgress,scaleMarks:this.scaleMarks}}validateGap(t){let e=t;return(e<0||e>100)&&(e=this.DEFAULT_GAP),e}checkRange(){Number.isNaN(this.min)&&(this.min=0),Number.isNaN(this.max)&&(this.max=10),this.min===this.max&&(this.max=this.min+this.step),this.min>this.max&&([this.min,this.max]=[this.max,this.min]),this.resultObject.min=this.min,this.resultObject.max=this.max}checkStep(){Number.isNaN(this.step)&&(this.step=1);const t=this.findRange();this.step>t&&(this.step=t),this.step<.001&&(this.step=.001),this.step||(this.step=1),this.resultObject.step=this.step}findRange(){return this.max-this.min}checkValues(){this.valueFrom=this.checkValue(this.valueFrom),this.isRange&&(this.valueTo=this.checkValue(this.valueTo)),void 0!==this.valueTo&&this.valueFrom>this.valueTo&&this.isRange&&([this.valueFrom,this.valueTo]=[this.valueTo,this.valueFrom]),this.resultObject.valueFrom=this.valueFrom,this.isRange&&(this.resultObject.valueTo=this.valueTo)}checkValue(t){let e=t;if(Number.isNaN(e)&&(e=0),e===this.max)return e=this.max,e;if(e%this.step!=0&&e!==this.min){const t=Math.round((e-this.min)/this.step);e=this.min+this.step*t}return e>this.max&&(e=this.max),e<this.min&&(e=this.min),e}checkPercents(){this.thumbPercentFrom=this.checkPercent("valueFrom"),this.resultObject.thumbPercentFrom=this.thumbPercentFrom,this.isRange&&(this.thumbPercentTo=this.checkPercent("valueTo"),this.resultObject.thumbPercentTo=this.thumbPercentTo)}checkPercent(){const t=this[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"valueFrom"]-this.min;return Number((t/(this.findRange()/100)).toFixed(3))}};var V=class extends h{constructor(t){super(),this.validator=new E(t),this.validState=this.validator.validateData(t),this.model=new M(this.validState)}setState(t){const e=this.validator.validateData(t);this.model.setState(e)}getState(){if(this.model.getState().scaleMarks){const t=this.validGapMarks();return Object.assign(Object.assign({},this.model.getState()),{scaleMap:t})}return this.model.getState()}getModel(){return this.model}getValidator(){return this.validator}getValue(t){return this.model.getState()["".concat(t)]}update(t){const e=void 0===t.percent?"scaleMove":"markMove";if("scaleMove"===e){const e=this.validator.performMoveToPercent(t);let{thumbId:s}=t;if(void 0===s&&(s=this.validator.validateThumbId(e)),e===this.prevMove)return;this.prevMove=e,this.model.updateStateMove(e,s);const i=this.model.getState(),r=this.validator.validateData(i);this.model.setState(r),i.scaleMarks?this.emit(a,Object.assign(Object.assign({},this.model.getState()),{scaleMap:this.validGapMarks()})):this.emit(a,this.model.getState())}if(void 0!==t.percent&&void 0!==t.value&&"markMove"===e){const{percent:e,value:s}=t,i=this.model.getState(),r=this.validator.validatePercent(e,s,i);this.model.setState(r),this.emit(a,this.model.getState())}}setValue(t,e){const s=this.model.getState(),i=Object.assign(Object.assign({},s),{[t]:e}),r=this.validator.validateData(i);this.model.setState(r),this.emit(a,this.model.getState())}validGapMarks(){const t=this.model.getState().scalePercentGap||20,{min:e,max:s,step:i}=this.model.getState();return this.validator.validateMarks({min:e,max:s,step:i,gap:t})}};var k=class extends h{constructor(t,e){super(),this.modelFacade=new V(e),this.view=new S(t,this.modelFacade.getState()),this.subscribeModel(),this.subscribeSlider()}getState(){return this.modelFacade.getState()}setNewState(t){this.modelFacade.setState(t)}setValue(t,e){this.modelFacade.setValue(t,e)}getValue(t){return this.modelFacade.getValue(t)}subscribeSlider(){this.view.addSubscriber(c,this.modelFacade)}subscribeModel(){this.modelFacade.addSubscriber(a,this.view)}};var _={min:0,max:100,valueFrom:0,valueTo:0,step:1,scalePercentGap:10,scaleMarks:!1,isTip:!1,isProgress:!1,isRange:!1,isVertical:!1};r().fn.sliderPlugin=function(t){const e=Object.assign(Object.assign({},_),t);return new k(this[0],e)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S3RCaEIsWUFBWWlCLEVBQW1CK0YsR0FDN0I3RixRQUNBZCxLQUFLMFAsWUFBYyxJQUFJQyxFQUFZaEosR0FDbkMzRyxLQUFLNFAsS0FBTyxJQUFJQyxFQUFLalAsRUFBTVosS0FBSzBQLFlBQVk3RixZQUM1QzdKLEtBQUs4UCxpQkFDTDlQLEtBQUsrUCxpQkFDTixDQUVNbEcsV0FDTCxPQUFPN0osS0FBSzBQLFlBQVk3RixVQUN6QixDQUVNbUcsWUFBWXJKLEdBQ2pCM0csS0FBSzBQLFlBQVk1SSxTQUFTSCxFQUMzQixDQUVNNkksU0FBU0MsRUFBaUIzTSxHQUMvQjlDLEtBQUswUCxZQUFZRixTQUFTQyxFQUFPM00sRUFDbEMsQ0FFTW9ILFNBQVN1RixHQUNkLE9BQU96UCxLQUFLMFAsWUFBWXhGLFNBQVN1RixFQUNsQyxDQUVPTSxrQkFDTi9QLEtBQUs0UCxLQUFLL1AsY0FBY2EsRUFBNkJWLEtBQUswUCxZQUMzRCxDQUVPSSxpQkFDTjlQLEtBQUswUCxZQUFZN1AsY0FBY1ksRUFBNEJULEtBQUs0UCxLQUNqRSxHQzNCSCxNQWRxQixDQUNuQnZGLElBQUssRUFDTEMsSUFBSyxJQUNMbEQsVUFBVyxFQUNYRyxRQUFTLEVBQ1RrRCxLQUFNLEVBQ04wRCxnQkFBaUIsR0FDakJoRixZQUFZLEVBQ1puQixPQUFPLEVBQ1BjLFlBQVksRUFDWnpCLFNBQVMsRUFDVHhHLFlBQVksR0NEZG9QLElBQUFBLEdBQUFBLGFBQW9CLFNBQXNCakQsR0FDeEMsTUFBTXJHLEVBQVEsT0FBSCx3QkFBUXVKLEdBQWlCbEQsR0FFcEMsT0FEZSxJQUFJbUQsRUFBVW5RLEtBQUssR0FBSTJHLEVBRXZDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9PYnNlcnZlci9PYnNlcnZlci50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9PYnNlcnZlci9ldmVudHMudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9WaWV3L3N1YlZpZXdzL1NsaWRlckNvbXBvbmVudHMvU2xpZGVyQ29tcG9uZW50cy50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9jb21wb25lbnRzL1ZpZXcvc3ViVmlld3MvUHJvZ3Jlc3MvUHJvZ3Jlc3MudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9WaWV3L3N1YlZpZXdzL1NjYWxlL1NjYWxlLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9TY2FsZU1hcmtzL1NjYWxlTWFya3MudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9WaWV3L3N1YlZpZXdzL1RodW1iL1RodW1iLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9UaXAvVGlwLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9TbGlkZXIvU2xpZGVyLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9WaWV3LnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvSW50ZXJmYWNlcy50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9jb21wb25lbnRzL01vZGVsL01vZGVsLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvTW9kZWwvVmFsaWRhdG9yLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvTW9kZWwvTW9kZWxGYWNhZGUudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9QcmVzZW50ZXIvUHJlc2VudGVyLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL3N0YXRlLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL3NsaWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgVmFsdWVPYnNlcnZlckVudHJ5IHtcbiAgdXBkYXRlKGRhdGE6IG9iamVjdCwgZXZlbnQ6IHN0cmluZyk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBPYnNlcnZlcnMge1xuICBbaW5kZXg6IHN0cmluZ106IFZhbHVlT2JzZXJ2ZXJFbnRyeVtdXG59XG5cbmFic3RyYWN0IGNsYXNzIE9ic2VydmVyIHtcbiAgcHVibGljIG9ic2VydmVyczogT2JzZXJ2ZXJzID0ge307XG5cbiAgcHVibGljIGFkZFN1YnNjcmliZXIoZXZlbnQ6IHN0cmluZywgb2JzZXJ2ZXI6IFZhbHVlT2JzZXJ2ZXJFbnRyeSk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9ic2VydmVyc1tldmVudF0pIHtcbiAgICAgIGNvbnN0IGtleXMgPSB0aGlzLm9ic2VydmVyc1tldmVudF07XG4gICAgICB0aGlzLm9ic2VydmVyc1tldmVudF0gPSBbLi4ua2V5cywgb2JzZXJ2ZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9ic2VydmVyc1tldmVudF0gPSBbb2JzZXJ2ZXJdO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVTdWJzY3JpYmVyKGV2ZW50OiBzdHJpbmcsIG9ic2VydmVyOiBWYWx1ZU9ic2VydmVyRW50cnkpOiB2b2lkIHtcbiAgICB0aGlzLm9ic2VydmVyc1tldmVudF0uZmlsdGVyKChvYnMpID0+IG9icyAhPT0gb2JzZXJ2ZXIpO1xuICB9XG5cbiAgcHVibGljIGVtaXQoZXZlbnQ6IHN0cmluZywgZGF0YTogb2JqZWN0KTogdm9pZCB7XG4gICAgY29uc3Qgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdIHx8IFtdO1xuICAgIG9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcikgPT4ge1xuICAgICAgb2JzZXJ2ZXIudXBkYXRlKGRhdGEsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZlcjtcbiIsImNvbnN0IE1PREVMX0VWRU5UUyA9IHtcbiAgVkFMVUVfQ0hBTkdFRDogJ1ZBTFVFX0NIQU5HRUQnLFxufTtcblxuY29uc3QgU0xJREVSX0VWRU5UUyA9IHtcbiAgVkFMVUVfU1RBUlRfQ0hBTkdFOiAnVkFMVUVfU1RBUlRfQ0hBTkdFJyxcbiAgREFUQV9DT0xMRUNURUQ6ICdEQVRBX0NPTExFQ1RFRCcsXG4gIFZBTFVFX0NIQU5HRUQ6ICdWQUxVRV9DSEFOR0VEJyxcbiAgU0NBTEVfQ0xJQ0tFRDogJyBTQ0FMRV9DTElDS0VEJyxcbiAgS0VZX0RPV046ICdLRVlfRE9XTicsXG4gIE1BUktfQ0xJQ0tFRDogJ01BUktfQ0xJQ0tFRCcsXG59O1xuXG5leHBvcnQgeyBNT0RFTF9FVkVOVFMsIFNMSURFUl9FVkVOVFMgfTtcbiIsImltcG9ydCBPYnNlcnZlciBmcm9tICcuLi8uLi8uLi8uLi9PYnNlcnZlci9PYnNlcnZlcic7XG5pbXBvcnQge1xuICBLZXlFdmVudCxcbiAgU2l6ZVR5cGUsXG4gIFN0YXJ0UG9pbnRUeXBlLFxuICBUaHVtYklELFxufSBmcm9tICcuLi8uLi8uLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IFNMSURFUl9FVkVOVFMgfSBmcm9tICcuLi8uLi8uLi8uLi9PYnNlcnZlci9ldmVudHMnO1xuXG5jbGFzcyBTbGlkZXJDb21wb25lbnRzIGV4dGVuZHMgT2JzZXJ2ZXIge1xuICBwcm90ZWN0ZWQgc2NhbGVFbGVtZW50ITogSFRNTERpdkVsZW1lbnQ7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHJvb3Q6IEVsZW1lbnQ7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGRpcmVjdGlvbjogJ2NsaWVudFknIHwgJ2NsaWVudFgnO1xuXG4gIHByb3RlY3RlZCByZWFkb25seSBzdGFydFBvaW50OiBTdGFydFBvaW50VHlwZTtcblxuICByZWFkb25seSBzaXplOiBTaXplVHlwZTtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbW9kOiAndmVydGljYWwnIHwgJ2hvcml6b250YWwnO1xuXG4gIHByb3RlY3RlZCByZWFkb25seSBpc1ZlcnRpY2FsOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEVsZW1lbnQsIGlzVmVydGljYWw6IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmlzVmVydGljYWwgPyAnY2xpZW50WScgOiAnY2xpZW50WCc7XG4gICAgdGhpcy5zdGFydFBvaW50ID0gdGhpcy5pc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgdGhpcy5zaXplID0gdGhpcy5pc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICAgIHRoaXMubW9kID0gdGhpcy5pc1ZlcnRpY2FsID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJztcbiAgICB0aGlzLnJvb3QgPSByb290O1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUVsZW1lbnQoY2xhc3NOYW1lOiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcHJvdGVjdGVkIHBlcmZvcm1Nb3VzZU1vdmUodGh1bWJQb3M6IG51bWJlciwgaWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGhhbmRsZVRodW1iTW91c2VNb3ZlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGVsZW1TaXplID0gdGhpcy5yb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc3RhcnRQb2ludF07XG4gICAgICBjb25zdCBuZXdQb3MgPSBlW3RoaXMuZGlyZWN0aW9uXSAtIHRodW1iUG9zIC0gZWxlbVNpemU7XG4gICAgICB0aGlzLmVtaXQoU0xJREVSX0VWRU5UUy5WQUxVRV9TVEFSVF9DSEFOR0UsIHtcbiAgICAgICAgY29vcmRzTW92ZTogbmV3UG9zLFxuICAgICAgICB0aHVtYklkOiBpZCxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVUaHVtYk1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVUaHVtYk1vdXNlTW92ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlVGh1bWJNb3VzZVVwKTtcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlVGh1bWJNb3VzZU1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVUaHVtYk1vdXNlVXApO1xuICB9XG5cbiAgcHJvdGVjdGVkIHBlcmZvcm1Ub3VjaE1vdmUodGh1bWJQb3M6IG51bWJlciwgaWQ6IFRodW1iSUQpOiB2b2lkIHtcbiAgICBjb25zdCBoYW5kbGVUaHVtYlRvdWNoTW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgZWxlbVNpemUgPSB0aGlzLnJvb3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5zdGFydFBvaW50XTtcbiAgICAgIGNvbnN0IG5ld1BvcyA9IGUudG91Y2hlc1swXVt0aGlzLmRpcmVjdGlvbl0gLSB0aHVtYlBvcyAtIGVsZW1TaXplO1xuICAgICAgdGhpcy5lbWl0KFNMSURFUl9FVkVOVFMuVkFMVUVfU1RBUlRfQ0hBTkdFLCB7XG4gICAgICAgIGNvb3Jkc01vdmU6IG5ld1BvcyxcbiAgICAgICAgdGh1bWJJZDogaWQsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlVGh1bWJUb3VjaEVuZCA9ICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRodW1iVG91Y2hNb3ZlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgaGFuZGxlVGh1bWJUb3VjaEVuZCk7XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRodW1iVG91Y2hNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRodW1iVG91Y2hFbmQpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHBlcmZvcm1LZXlEb3duKGtleUV2ZW50OiBLZXlFdmVudCwgaWQ6IFRodW1iSUQpOiB2b2lkIHtcbiAgICB0aGlzLmVtaXQoU0xJREVSX0VWRU5UUy5LRVlfRE9XTiwge1xuICAgICAga2V5RXZlbnQsXG4gICAgICB0aHVtYklkOiBpZCxcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwZXJmb3JtQ2xpY2tNYXJrKHBlcmNlbnQ6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLk1BUktfQ0xJQ0tFRCwge1xuICAgICAgcGVyY2VudCxcbiAgICAgIHZhbHVlLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlckNvbXBvbmVudHM7XG4iLCJpbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xuaW1wb3J0IHsgUHJvZ3Jlc3NEYXRhIH0gZnJvbSAnLi4vLi4vLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgJy4vcHJvZ3Jlc3Muc2Nzcyc7XG5cbmNsYXNzIFByb2dyZXNzIGV4dGVuZHMgU2xpZGVyQ29tcG9uZW50cyB7XG4gIHByaXZhdGUgcG9zaXRpb25TdGFydDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcG9zaXRpb25FbmQ6IG51bWJlcjtcblxuICBwcml2YXRlIHByb2dyZXNzOiBIVE1MRGl2RWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihkYXRhOiBQcm9ncmVzc0RhdGEpIHtcbiAgICBjb25zdCB7XG4gICAgICByb290LFxuICAgICAgcG9zaXRpb25TdGFydCxcbiAgICAgIHBvc2l0aW9uRW5kLFxuICAgICAgaXNWZXJ0aWNhbCxcbiAgICB9ID0gZGF0YTtcblxuICAgIHN1cGVyKHJvb3QsIGlzVmVydGljYWwpO1xuICAgIHRoaXMucG9zaXRpb25TdGFydCA9IHBvc2l0aW9uU3RhcnQ7XG4gICAgdGhpcy5wb3NpdGlvbkVuZCA9IHBvc2l0aW9uRW5kO1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBTbGlkZXJDb21wb25lbnRzLmNyZWF0ZUVsZW1lbnQoJ3BsdWdpbi1zbGlkZXJfX3Byb2dyZXNzJyk7XG4gICAgdGhpcy5zZXRQcm9ncmVzcygpO1xuICB9XG5cbiAgcHVibGljIHNldFByb2dyZXNzKCk6IHZvaWQge1xuICAgIHRoaXMucHJvZ3Jlc3Muc3R5bGVbdGhpcy5zdGFydFBvaW50XSA9IGAke3RoaXMucG9zaXRpb25TdGFydH0lYDtcbiAgICB0aGlzLnByb2dyZXNzLnN0eWxlW3RoaXMuc2l6ZV0gPSBgJHt0aGlzLnBvc2l0aW9uRW5kfSVgO1xuICAgIHRoaXMucm9vdC5hcHBlbmQodGhpcy5wcm9ncmVzcyk7XG4gIH1cblxuICBwdWJsaWMgc2V0UHJvZ3Jlc3NQb3NpdGlvbihwb3NpdGlvblN0YXJ0ID0gMCwgcG9zaXRpb25FbmQgPSAxMDApOiB2b2lkIHtcbiAgICB0aGlzLnByb2dyZXNzLnN0eWxlW3RoaXMuc3RhcnRQb2ludF0gPSBgJHtwb3NpdGlvblN0YXJ0fSVgO1xuICAgIHRoaXMucHJvZ3Jlc3Muc3R5bGVbdGhpcy5zaXplXSA9IGAke3Bvc2l0aW9uRW5kfSVgO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzO1xuIiwiaW1wb3J0IHsgU0xJREVSX0VWRU5UUyB9IGZyb20gJy4uLy4uLy4uLy4uL09ic2VydmVyL2V2ZW50cyc7XG5pbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xuaW1wb3J0ICcuL3NjYWxlLnNjc3MnO1xuXG5jbGFzcyBTY2FsZSBleHRlbmRzIFNsaWRlckNvbXBvbmVudHMge1xuICBzY2FsZSE6IEhUTUxEaXZFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEhUTUxEaXZFbGVtZW50LCBpc1ZlcnRpY2FsOiBib29sZWFuKSB7XG4gICAgc3VwZXIocm9vdCwgaXNWZXJ0aWNhbCk7XG4gICAgdGhpcy5pbml0U2NhbGUoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTY2FsZSgpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgaWYgKCF0aGlzLnNjYWxlKSB0aGlzLnNjYWxlID0gU2xpZGVyQ29tcG9uZW50cy5jcmVhdGVFbGVtZW50KCdwbHVnaW4tc2xpZGVyX19zY2FsZScpO1xuICAgIHJldHVybiB0aGlzLnNjYWxlO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0U2NhbGUoKTogdm9pZCB7XG4gICAgdGhpcy5zY2FsZSA9IFNsaWRlckNvbXBvbmVudHMuY3JlYXRlRWxlbWVudCgncGx1Z2luLXNsaWRlcl9fc2NhbGUnKTtcbiAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB0aGlzLnNjYWxlLmNsYXNzTGlzdC5hZGQoJ3BsdWdpbi1zbGlkZXJfX3NjYWxlX3ZlcnRpY2FsJyk7XG4gICAgaWYgKCF0aGlzLmlzVmVydGljYWwpIHRoaXMuc2NhbGUuY2xhc3NMaXN0LmFkZCgncGx1Z2luLXNsaWRlcl9fc2NhbGVfaG9yaXpvbnRhbCcpO1xuICAgIHRoaXMuYWRkU2NhbGUoKTtcbiAgICB0aGlzLmFkZExpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRTY2FsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJvb3QuYXBwZW5kKHRoaXMuc2NhbGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy5zY2FsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlU2NhbGVDbGljay5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlU2NhbGVDbGljayhlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgeyB0YXJnZXQgfSA9IGU7XG4gICAgaWYgKCEodGFyZ2V0IGFzIEVsZW1lbnQpLmNsb3Nlc3QoJy5wbHVnaW4tc2xpZGVyX19zY2FsZScpKSByZXR1cm47XG4gICAgaWYgKCh0YXJnZXQgYXMgRWxlbWVudCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbHVnaW4tc2xpZGVyX19tYXJrLXZhbHVlJykpIHJldHVybjtcblxuICAgIGNvbnN0IHNjYWxlU2l6ZSA9IHRoaXMuc2NhbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5zaXplXTtcblxuICAgIGNvbnN0IHNjYWxlU3RhcnQgPSB0aGlzLnNjYWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc3RhcnRQb2ludF07XG4gICAgY29uc3QgY29vcmRzTW92ZSA9IGVbdGhpcy5kaXJlY3Rpb25dIC0gc2NhbGVTdGFydDtcblxuICAgIGlmIChjb29yZHNNb3ZlID4gc2NhbGVTaXplIHx8IGNvb3Jkc01vdmUgPCAwKSByZXR1cm47XG4gICAgdGhpcy5lbWl0RGF0YShjb29yZHNNb3ZlLCBzY2FsZVNpemUpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0RGF0YShjb29yZHNNb3ZlOiBudW1iZXIsIHNjYWxlU2l6ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGNvb3Jkc01vdmUsXG4gICAgICBzY2FsZVNpemUsXG4gICAgfTtcblxuICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLlNDQUxFX0NMSUNLRUQsIGRhdGEpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxlO1xuIiwiaW1wb3J0IFNsaWRlckNvbXBvbmVudHMgZnJvbSAnLi4vU2xpZGVyQ29tcG9uZW50cy9TbGlkZXJDb21wb25lbnRzJztcbmltcG9ydCAnLi9zY2FsZU1hcmtzLnNjc3MnO1xuXG5jbGFzcyBTY2FsZU1hcmtzIGV4dGVuZHMgU2xpZGVyQ29tcG9uZW50cyB7XG4gIG1hcmtzOiBNYXA8bnVtYmVyLCBudW1iZXI+O1xuXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEhUTUxEaXZFbGVtZW50LCBtYXJrczogTWFwPG51bWJlciwgbnVtYmVyPiwgaXNWZXJ0aWNhbDogYm9vbGVhbikge1xuICAgIHN1cGVyKHJvb3QsIGlzVmVydGljYWwpO1xuICAgIHRoaXMubWFya3MgPSBtYXJrcztcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNyZWF0ZU1hcmtzKCk7XG4gICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIHRoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUm9vdENsaWNrLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVSb290Q2xpY2soZTogRXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0ID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3QgeyB2YWx1ZSwgcGVyY2VudCB9ID0gdGFyZ2V0LmRhdGFzZXQ7XG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsdWdpbi1zbGlkZXJfX21hcmstdmFsdWUnKSkge1xuICAgICAgaWYgKHBlcmNlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBlcmZvcm1DbGlja01hcmsoTnVtYmVyKHBlcmNlbnQpLCBOdW1iZXIodmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU1hcmtzKCk6IHZvaWQge1xuICAgIHRoaXMubWFya3MuZm9yRWFjaCgodmFsdWU6IG51bWJlciwgcGVyY2VudDogbnVtYmVyKSA9PiB0aGlzLmNyZWF0ZU1hcmsodmFsdWUsIHBlcmNlbnQpKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTWFyayhwZXJjZW50OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBtYXJrID0gU2xpZGVyQ29tcG9uZW50cy5jcmVhdGVFbGVtZW50KCdwbHVnaW4tc2xpZGVyX19tYXJrJyk7XG4gICAgbWFyay5jbGFzc0xpc3QuYWRkKGBwbHVnaW4tc2xpZGVyX19tYXJrXyR7dGhpcy5tb2R9YCk7XG4gICAgbWFyay5zdHlsZVt0aGlzLnN0YXJ0UG9pbnRdID0gYCR7cGVyY2VudH0lYDtcblxuICAgIGNvbnN0IG1hcmtWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBtYXJrVmFsdWUuY2xhc3NOYW1lID0gJ3BsdWdpbi1zbGlkZXJfX21hcmstdmFsdWUnO1xuICAgIG1hcmtWYWx1ZS5jbGFzc0xpc3QuYWRkKGBwbHVnaW4tc2xpZGVyX19tYXJrLXZhbHVlXyR7dGhpcy5tb2R9YCk7XG4gICAgbWFya1ZhbHVlLmRhdGFzZXQudmFsdWUgPSBgJHt2YWx1ZX1gO1xuICAgIG1hcmtWYWx1ZS5kYXRhc2V0LnBlcmNlbnQgPSBgJHtwZXJjZW50fWA7XG4gICAgbWFya1ZhbHVlLmlubmVyVGV4dCA9IGAke3ZhbHVlfWA7XG4gICAgbWFyay5hcHBlbmQobWFya1ZhbHVlKTtcblxuICAgIHRoaXMucm9vdC5hcHBlbmQobWFyayk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NhbGVNYXJrcztcbiIsImltcG9ydCBTbGlkZXJDb21wb25lbnRzIGZyb20gJy4uL1NsaWRlckNvbXBvbmVudHMvU2xpZGVyQ29tcG9uZW50cyc7XG5pbXBvcnQgeyBUaHVtYkFyZ3MsIFRodW1iSUQgfSBmcm9tICcuLi8uLi8uLi9JbnRlcmZhY2VzJztcbmltcG9ydCAnLi90aHVtYi5zY3NzJztcblxuY2xhc3MgVGh1bWIgZXh0ZW5kcyBTbGlkZXJDb21wb25lbnRzIHtcbiAgbW92ZWQhOiBudW1iZXI7XG5cbiAgdGh1bWJQZXJjZW50OiBudW1iZXI7XG5cbiAgdGh1bWJFbGVtZW50ITogSFRNTERpdkVsZW1lbnQ7XG5cbiAgdGh1bWJJZDogVGh1bWJJRDtcblxuICBjb25zdHJ1Y3Rvcih2YWx1ZXM6IFRodW1iQXJncykge1xuICAgIGNvbnN0IHtcbiAgICAgIHJvb3QsXG4gICAgICB0aHVtYlBlcmNlbnQgPSAwLFxuICAgICAgaWQgPSAndmFsdWVGcm9tJyxcbiAgICAgIGlzVmVydGljYWwsXG4gICAgfSA9IHZhbHVlcztcblxuICAgIHN1cGVyKHJvb3QsIGlzVmVydGljYWwpO1xuICAgIHRoaXMudGh1bWJQZXJjZW50ID0gdGh1bWJQZXJjZW50O1xuICAgIHRoaXMudGh1bWJJZCA9IGlkO1xuICAgIHRoaXMuaW5pdFRodW1iKCk7XG4gIH1cblxuICBwcml2YXRlIGluaXRUaHVtYigpOiB2b2lkIHtcbiAgICB0aGlzLnRodW1iRWxlbWVudCA9IFNsaWRlckNvbXBvbmVudHMuY3JlYXRlRWxlbWVudCgncGx1Z2luLXNsaWRlcl9fdGh1bWInKTtcbiAgICB0aGlzLnRodW1iRWxlbWVudC5pZCA9IHRoaXMudGh1bWJJZDtcbiAgICB0aGlzLnRodW1iRWxlbWVudC50YWJJbmRleCA9IDE7XG4gICAgdGhpcy5yb290LmFwcGVuZCh0aGlzLnRodW1iRWxlbWVudCk7XG4gICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnRodW1iUGVyY2VudCk7XG4gICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRQb3NpdGlvbih0aHVtYlBlcmNlbnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGh1bWJQZXJjZW50ID0gdGh1bWJQZXJjZW50O1xuICAgIHRoaXMuY2hlY2taSW5kKCk7XG4gICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGVbdGhpcy5zdGFydFBvaW50XSA9IGAke3RoaXMudGh1bWJQZXJjZW50fSVgO1xuICB9XG5cbiAgcHVibGljIGdldFRodW1iKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy50aHVtYkVsZW1lbnQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0VGh1bWJJZCgpOiBUaHVtYklEIHtcbiAgICByZXR1cm4gdGhpcy50aHVtYklkO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1pJbmQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGh1bWJJZCA9PT0gJ3ZhbHVlRnJvbScgJiYgdGhpcy50aHVtYlBlcmNlbnQgPT09IDEwMCkge1xuICAgICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUuekluZGV4ID0gJzEwJztcbiAgICB9XG4gICAgaWYgKHRoaXMudGh1bWJJZCA9PT0gJ3ZhbHVlRnJvbScgJiYgdGhpcy50aHVtYlBlcmNlbnQgPCAxMDApIHtcbiAgICAgIHRoaXMudGh1bWJFbGVtZW50LnN0eWxlLnpJbmRleCA9ICc1JztcbiAgICB9XG4gICAgaWYgKHRoaXMudGh1bWJJZCA9PT0gJ3ZhbHVlVG8nICYmIHRoaXMudGh1bWJQZXJjZW50ID09PSAwKSB7XG4gICAgICB0aGlzLnRodW1iRWxlbWVudC5zdHlsZS56SW5kZXggPSAnMTAnO1xuICAgIH1cbiAgICBpZiAodGhpcy50aHVtYklkID09PSAndmFsdWVUbycgJiYgdGhpcy50aHVtYlBlcmNlbnQgPiAwKSB7XG4gICAgICB0aGlzLnRodW1iRWxlbWVudC5zdHlsZS56SW5kZXggPSAnNSc7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy50aHVtYkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVUaHVtYk1vdXNlRG93bi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnRodW1iRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVUaHVtYktleURvd24uYmluZCh0aGlzKSk7XG4gICAgdGhpcy50aHVtYkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaHN0YXJ0JyxcbiAgICAgIHRoaXMuaGFuZGxlVGh1bWJUb3VjaC5iaW5kKHRoaXMpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVRodW1iVG91Y2goZTogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBzaXplRWxlbWVudCA9IHRoaXMudGh1bWJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc3RhcnRQb2ludF07XG4gICAgdGhpcy5tb3ZlZCA9IGUudG91Y2hlc1swXVt0aGlzLmRpcmVjdGlvbl0gLSAoc2l6ZUVsZW1lbnRcbiAgICAgICsgKHRoaXMudGh1bWJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc2l6ZV0gLyAyKSk7XG4gICAgc3VwZXIucGVyZm9ybVRvdWNoTW92ZSh0aGlzLm1vdmVkLCB0aGlzLnRodW1iSWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUaHVtYk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMubW92ZWQgPSBlW3RoaXMuZGlyZWN0aW9uXSAtICh0aGlzLnRodW1iRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVt0aGlzLnN0YXJ0UG9pbnRdXG4gICAgICArICh0aGlzLnRodW1iRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVt0aGlzLnNpemVdIC8gMikpO1xuICAgIHRoaXMuY2hlY2taSW5kKCk7XG4gICAgc3VwZXIucGVyZm9ybU1vdXNlTW92ZSh0aGlzLm1vdmVkLCB0aGlzLnRodW1iSWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUaHVtYktleURvd24oZTogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGtleSB9ID0gZTtcbiAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdBcnJvd1VwJyB8fCBrZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBrZXkgPT09ICdBcnJvd0Rvd24nKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKChrZXkgPT09ICdBcnJvd0xlZnQnICYmICF0aGlzLmlzVmVydGljYWwpIHx8IChrZXkgPT09ICdBcnJvd1VwJyAmJiB0aGlzLmlzVmVydGljYWwpKSB7XG4gICAgICBzdXBlci5wZXJmb3JtS2V5RG93bignZGVjcmVtZW50JywgdGhpcy50aHVtYklkKTtcbiAgICB9XG5cbiAgICBpZiAoKGtleSA9PT0gJ0Fycm93UmlnaHQnICYmICF0aGlzLmlzVmVydGljYWwpIHx8IChrZXkgPT09ICdBcnJvd0Rvd24nICYmIHRoaXMuaXNWZXJ0aWNhbCkpIHtcbiAgICAgIHN1cGVyLnBlcmZvcm1LZXlEb3duKCdpbmNyZW1lbnQnLCB0aGlzLnRodW1iSWQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaHVtYjtcbiIsImltcG9ydCB7IFRpcERhdGEgfSBmcm9tICcuLi8uLi8uLi9JbnRlcmZhY2VzJztcbmltcG9ydCBTbGlkZXJDb21wb25lbnRzIGZyb20gJy4uL1NsaWRlckNvbXBvbmVudHMvU2xpZGVyQ29tcG9uZW50cyc7XG5pbXBvcnQgJy4vdGlwLnNjc3MnO1xuXG5jbGFzcyBUaXAgZXh0ZW5kcyBTbGlkZXJDb21wb25lbnRzIHtcbiAgdGlwOiBIVE1MRGl2RWxlbWVudDtcblxuICBwcml2YXRlIHBlcmNlbnRQb3NpdGlvbjogbnVtYmVyO1xuXG4gIHZhbHVlVGlwOiBudW1iZXIgfCBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZGF0YTogVGlwRGF0YSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHJvb3QsXG4gICAgICBwZXJjZW50UG9zaXRpb24sXG4gICAgICB2YWx1ZVRpcCxcbiAgICAgIGlzVmVydGljYWwsXG4gICAgfSA9IGRhdGE7XG5cbiAgICBzdXBlcihyb290LCBpc1ZlcnRpY2FsKTtcbiAgICB0aGlzLnBlcmNlbnRQb3NpdGlvbiA9IHBlcmNlbnRQb3NpdGlvbjtcbiAgICB0aGlzLnZhbHVlVGlwID0gdmFsdWVUaXA7XG5cbiAgICB0aGlzLnRpcCA9IHRoaXMuY3JlYXRlVGlwKCk7XG4gICAgdGhpcy5hZGRUaXAoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWYWx1ZVRpcCh2YWx1ZVRpcDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy50aXAuaW5uZXJUZXh0ID0gYCR7dmFsdWVUaXB9YDtcbiAgfVxuXG4gIHB1YmxpYyBoaWRlVGlwKCk6IHZvaWQge1xuICAgIHRoaXMudGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBwdWJsaWMgc2hvd1RpcCgpOiB2b2lkIHtcbiAgICB0aGlzLnRpcC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIH1cblxuICBwdWJsaWMgc2V0UG9zaXRpb24ocGVyY2VudFBvc2l0aW9uOiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpcC5zdHlsZVt0aGlzLnN0YXJ0UG9pbnRdID0gYCR7cGVyY2VudFBvc2l0aW9ufSVgO1xuICAgIHRoaXMudGlwLmlubmVyVGV4dCA9IGAke3ZhbHVlfWA7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVRpcCgpOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgY29uc3QgdGlwID0gU2xpZGVyQ29tcG9uZW50cy5jcmVhdGVFbGVtZW50KCdwbHVnaW4tc2xpZGVyX190aXAnKTtcbiAgICB0aXAuY2xhc3NMaXN0LmFkZChgcGx1Z2luLXNsaWRlcl9fdGlwXyR7dGhpcy5tb2R9YCk7XG4gICAgdGlwLmlubmVyVGV4dCA9IGAke3RoaXMudmFsdWVUaXB9YDtcbiAgICB0aXAuc3R5bGVbc3VwZXIuc3RhcnRQb2ludF0gPSBgJHt0aGlzLnBlcmNlbnRQb3NpdGlvbn0lYDtcbiAgICByZXR1cm4gdGlwO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRUaXAoKSB7XG4gICAgdGhpcy5yb290LmFwcGVuZCh0aGlzLnRpcCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGlwO1xuIiwiaW1wb3J0IE9ic2VydmVyIGZyb20gJy4uLy4uLy4uLy4uL09ic2VydmVyL09ic2VydmVyJztcbmltcG9ydCB7XG4gIFNsaWRlckludGVyZmFjZSxcbiAgU2xpZGVyRXZlbnRWYWxDaGFuZ2VkRGF0YSxcbiAgU2NhbGVDbGlja0RhdGEsXG4gIFRodW1iSUQsXG59IGZyb20gJy4uLy4uLy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgU0xJREVSX0VWRU5UUyB9IGZyb20gJy4uLy4uLy4uLy4uL09ic2VydmVyL2V2ZW50cyc7XG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi4vUHJvZ3Jlc3MvUHJvZ3Jlc3MnO1xuaW1wb3J0IFNjYWxlIGZyb20gJy4uL1NjYWxlL1NjYWxlJztcbmltcG9ydCBTY2FsZU1hcmtzIGZyb20gJy4uL1NjYWxlTWFya3MvU2NhbGVNYXJrcyc7XG5pbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xuaW1wb3J0IFRodW1iIGZyb20gJy4uL1RodW1iL1RodW1iJztcbmltcG9ydCBUaXAgZnJvbSAnLi4vVGlwL1RpcCc7XG5pbXBvcnQgJy4vc2xpZGVyLnNjc3MnO1xuXG5jbGFzcyBTbGlkZXIgZXh0ZW5kcyBPYnNlcnZlciB7XG4gIHRpcFZhbHVlRnJvbSE6IG51bWJlcjtcblxuICB0aHVtYlBlcmNlbnRGcm9tITogbnVtYmVyO1xuXG4gIHRodW1iUGVyY2VudFRvPzogbnVtYmVyO1xuXG4gIHRpcFZhbHVlVG8/OiBudW1iZXI7XG5cbiAgcm9vdCE6IEVsZW1lbnQ7XG5cbiAgc2xpZGVyITogSFRNTERpdkVsZW1lbnQ7XG5cbiAgc2NhbGVFbGVtZW50ITogSFRNTERpdkVsZW1lbnQ7XG5cbiAgaXNQcm9ncmVzcyE6IGJvb2xlYW47XG5cbiAgaXNSYW5nZSE6IGJvb2xlYW47XG5cbiAgaXNWZXJ0aWNhbCE6IGJvb2xlYW47XG5cbiAgaXNUaXAhOiBib29sZWFuO1xuXG4gIHNjYWxlTWFwOiBNYXA8bnVtYmVyLCBudW1iZXI+IHwgdW5kZWZpbmVkO1xuXG4gIHRodW1iRnJvbSE6IFRodW1iO1xuXG4gIHRodW1iVG8/OiBUaHVtYjtcblxuICBzY2FsZSE6IFNjYWxlO1xuXG4gIHNjYWxlTWFya3MhOiBTY2FsZU1hcmtzO1xuXG4gIHRpcEZyb20/OiBUaXA7XG5cbiAgdGlwVG8/OiBUaXA7XG5cbiAgcHJvZ3Jlc3M/OiBQcm9ncmVzcztcblxuICBzbGlkZXJDb21wb25lbnRzITogU2xpZGVyQ29tcG9uZW50cztcblxuICBpc1NjYWxlTWFya3MhOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEVsZW1lbnQsIHByb3RlY3RlZCByZWFkb25seSBzdGF0ZTogU2xpZGVySW50ZXJmYWNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNyZWF0ZVZhcmlhYmxlcyhyb290LCBzdGF0ZSk7XG4gICAgdGhpcy5pbml0U2xpZGVyKCk7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlU2xpZGVyKCk6IEhUTUxEaXZFbGVtZW50IHtcbiAgICBjb25zdCBzbGlkZXJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2xpZGVyV3JhcHBlci5jbGFzc05hbWUgPSAncGx1Z2luLXNsaWRlcic7XG4gICAgcmV0dXJuIHNsaWRlcldyYXBwZXI7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKFxuICAgIGRhdGE6IFNsaWRlckV2ZW50VmFsQ2hhbmdlZERhdGEgfCBTY2FsZUNsaWNrRGF0YSxcbiAgICBldmVudDogc3RyaW5nLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IHNpemUgfSA9IHRoaXMuc2xpZGVyQ29tcG9uZW50cztcbiAgICBjb25zdCBzY2FsZVNpemUgPSB0aGlzLnNjYWxlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtzaXplXTtcblxuICAgIGlmIChldmVudCA9PT0gU0xJREVSX0VWRU5UUy5WQUxVRV9TVEFSVF9DSEFOR0UpIHtcbiAgICAgIGNvbnN0IHNsaWRlckRhdGEgPSB7IC4uLmRhdGEsIHNjYWxlU2l6ZSB9O1xuICAgICAgdGhpcy5lbWl0KFNMSURFUl9FVkVOVFMuREFUQV9DT0xMRUNURUQsIHNsaWRlckRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVtaXQoU0xJREVSX0VWRU5UUy5EQVRBX0NPTExFQ1RFRCwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNldFN0YXRlKGRhdGE6IFNsaWRlckludGVyZmFjZSk6IHZvaWQge1xuICAgIGNvbnN0IHtcbiAgICAgIHRodW1iUGVyY2VudEZyb20sXG4gICAgICB2YWx1ZUZyb20sXG4gICAgICBpc1JhbmdlLFxuICAgICAgdGh1bWJQZXJjZW50VG8sXG4gICAgICB2YWx1ZVRvLFxuICAgIH0gPSBkYXRhO1xuXG4gICAgdGhpcy5zZXRUaHVtYnModGh1bWJQZXJjZW50RnJvbSwgdGh1bWJQZXJjZW50VG8sIGlzUmFuZ2UpO1xuICAgIHRoaXMuc2V0VGlwcyh2YWx1ZUZyb20sIHZhbHVlVG8sIGlzUmFuZ2UpO1xuICAgIHRoaXMuc2V0UHJvZ3Jlc3ModGh1bWJQZXJjZW50RnJvbSwgdGh1bWJQZXJjZW50VG8sIGlzUmFuZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRUaHVtYnMoXG4gICAgdGh1bWJQZXJjZW50RnJvbTogbnVtYmVyLFxuICAgIHRodW1iUGVyY2VudFRvOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gICAgaXNSYW5nZTogYm9vbGVhbixcbiAgKSB7XG4gICAgdGhpcy50aHVtYlBlcmNlbnRGcm9tID0gdGh1bWJQZXJjZW50RnJvbTtcbiAgICB0aGlzLnRodW1iRnJvbS5zZXRQb3NpdGlvbih0aGlzLnRodW1iUGVyY2VudEZyb20pO1xuXG4gICAgaWYgKGlzUmFuZ2UpIHtcbiAgICAgIGNvbnN0IHNlY29uZFRodW1iID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcignI3ZhbHVlVG8nKTtcbiAgICAgIGlmIChzZWNvbmRUaHVtYiA9PT0gbnVsbCAmJiB0aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2V0VGh1bWIoJ3ZhbHVlVG8nLCB0aHVtYlBlcmNlbnRUbyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzUmFuZ2UgJiYgdGh1bWJQZXJjZW50VG8gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRodW1iVG8pIHtcbiAgICAgIHRoaXMudGh1bWJQZXJjZW50VG8gPSB0aHVtYlBlcmNlbnRUbztcbiAgICAgIHRoaXMudGh1bWJUby5zZXRQb3NpdGlvbih0aGlzLnRodW1iUGVyY2VudFRvKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldFRodW1iKGlkOiBUaHVtYklELCB0aHVtYlBlcmNlbnQ6IG51bWJlcikge1xuICAgIGNvbnN0IHRodW1iID0gaWQgPT09ICd2YWx1ZVRvJyA/ICd0aHVtYlRvJyA6ICd0aHVtYkZyb20nO1xuICAgIHRoaXNbdGh1bWJdID0gbmV3IFRodW1iKHtcbiAgICAgIHJvb3Q6IHRoaXMuc2NhbGVFbGVtZW50LFxuICAgICAgdGh1bWJQZXJjZW50LFxuICAgICAgaWQsXG4gICAgICBpc1ZlcnRpY2FsOiB0aGlzLmlzVmVydGljYWwsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNldFRpcHModmFsdWVGcm9tOiBudW1iZXIsIHZhbHVlVG86IG51bWJlciB8IHVuZGVmaW5lZCwgaXNSYW5nZTogYm9vbGVhbikge1xuICAgIGNvbnN0IHsgaXNUaXAgfSA9IHRoaXM7XG4gICAgaWYgKGlzVGlwICYmIHRoaXMudGlwRnJvbSkge1xuICAgICAgdGhpcy50aXBWYWx1ZUZyb20gPSB2YWx1ZUZyb207XG4gICAgICB0aGlzLnRpcEZyb20uc2V0UG9zaXRpb24odGhpcy50aHVtYlBlcmNlbnRGcm9tLCB0aGlzLnRpcFZhbHVlRnJvbSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNOZWVkRG91YmxlVGlwKCkpIHtcbiAgICAgIHRoaXMudGlwRnJvbT8uc2V0VmFsdWVUaXAoYCR7dmFsdWVGcm9tfSAtICR7dmFsdWVUb31gKTtcbiAgICAgIHRoaXMudGlwVG8/LmhpZGVUaXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50aXBUbz8uc2hvd1RpcCgpO1xuICAgIH1cblxuICAgIGlmIChpc1JhbmdlICYmIHRoaXMudGlwVG8gJiYgdmFsdWVUbyAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGh1bWJQZXJjZW50VG8pIHtcbiAgICAgIHRoaXMudGlwVmFsdWVUbyA9IHZhbHVlVG87XG4gICAgICB0aGlzLnRpcFRvLnNldFBvc2l0aW9uKHRoaXMudGh1bWJQZXJjZW50VG8sIHRoaXMudGlwVmFsdWVUbyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRUaXAodmFsdWVEaXJlY3Rpb24gPSAndmFsdWVGcm9tJykge1xuICAgIGNvbnN0IHRpcFZhbHVlID0gdmFsdWVEaXJlY3Rpb24gPT09ICd2YWx1ZUZyb20nID8gJ3RpcFZhbHVlRnJvbScgOiAndGlwVmFsdWVUbyc7XG4gICAgY29uc3QgdGlwID0gdmFsdWVEaXJlY3Rpb24gPT09ICd2YWx1ZUZyb20nID8gJ3RpcEZyb20nIDogJ3RpcFRvJztcbiAgICBjb25zdCBwZXJjZW50UG9zaXRpb24gPSB2YWx1ZURpcmVjdGlvbiA9PT0gJ3ZhbHVlRnJvbScgPyAndGh1bWJQZXJjZW50RnJvbScgOiAndGh1bWJQZXJjZW50VG8nO1xuXG4gICAgaWYgKHZhbHVlRGlyZWN0aW9uID09PSAndmFsdWVUbycgJiYgdGhpc1twZXJjZW50UG9zaXRpb25dID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIHRoaXNbdGlwXSA9IG5ldyBUaXAoe1xuICAgICAgcm9vdDogdGhpcy5zY2FsZUVsZW1lbnQsXG4gICAgICBwZXJjZW50UG9zaXRpb246IHRoaXNbcGVyY2VudFBvc2l0aW9uXSBhcyBudW1iZXIsXG4gICAgICB2YWx1ZVRpcDogdGlwVmFsdWUsXG4gICAgICBpc1ZlcnRpY2FsOiB0aGlzLmlzVmVydGljYWwsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHNldFByb2dyZXNzKFxuICAgIHRodW1iUGVyY2VudEZyb206IG51bWJlcixcbiAgICB0aHVtYlBlcmNlbnRUbzogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICAgIGlzUmFuZ2U6IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IHByb2dyZXNzID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcignLnBsdWdpbi1zbGlkZXJfX3Byb2dyZXNzJyk7XG4gICAgaWYgKHByb2dyZXNzID09PSBudWxsKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbkVuZCA9IHR5cGVvZiB0aHVtYlBlcmNlbnRUbyA9PT0gJ251bWJlcicgPyB0aHVtYlBlcmNlbnRUbyA6IDA7XG4gICAgICB0aGlzLnByb2dyZXNzID0gbmV3IFByb2dyZXNzKHtcbiAgICAgICAgcm9vdDogdGhpcy5zY2FsZUVsZW1lbnQsXG4gICAgICAgIHBvc2l0aW9uU3RhcnQ6IHRoaXMudGh1bWJQZXJjZW50RnJvbSxcbiAgICAgICAgcG9zaXRpb25FbmQsXG4gICAgICAgIGlzVmVydGljYWw6IHRoaXMuaXNWZXJ0aWNhbCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc1Byb2dyZXNzICYmIGlzUmFuZ2UgJiYgdGh1bWJQZXJjZW50VG8pIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3M/LnNldFByb2dyZXNzUG9zaXRpb24odGhpcy50aHVtYlBlcmNlbnRGcm9tLCB0aHVtYlBlcmNlbnRUbyAtIHRodW1iUGVyY2VudEZyb20pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc1Byb2dyZXNzICYmIHRodW1iUGVyY2VudFRvID09PSB0aHVtYlBlcmNlbnRGcm9tKSB7XG4gICAgICB0aGlzLnByb2dyZXNzPy5zZXRQcm9ncmVzc1Bvc2l0aW9uKDAsIDApO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc1Byb2dyZXNzICYmICFpc1JhbmdlKSB7XG4gICAgICB0aGlzLnByb2dyZXNzPy5zZXRQcm9ncmVzc1Bvc2l0aW9uKDAsIHRoaXMudGh1bWJQZXJjZW50RnJvbSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0U2xpZGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2xpZGVyID0gU2xpZGVyLmNyZWF0ZVNsaWRlcigpO1xuICAgIHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcbiAgICB0aGlzLmFkZFNsaWRlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVWYXJpYWJsZXMocm9vdDogRWxlbWVudCwgc3RhdGU6IFNsaWRlckludGVyZmFjZSk6IHZvaWQge1xuICAgIGNvbnN0IHtcbiAgICAgIGlzVGlwLFxuICAgICAgdmFsdWVGcm9tLFxuICAgICAgdmFsdWVUbyxcbiAgICAgIHRodW1iUGVyY2VudEZyb20sXG4gICAgICB0aHVtYlBlcmNlbnRUbyxcbiAgICAgIGlzUHJvZ3Jlc3MsXG4gICAgICBpc1JhbmdlLFxuICAgICAgc2NhbGVNYXAsXG4gICAgICBpc1ZlcnRpY2FsLFxuICAgICAgc2NhbGVNYXJrcyxcbiAgICB9ID0gc3RhdGU7XG5cbiAgICB0aGlzLnRodW1iUGVyY2VudEZyb20gPSB0aHVtYlBlcmNlbnRGcm9tO1xuICAgIGlmICh0aHVtYlBlcmNlbnRUbykgdGhpcy50aHVtYlBlcmNlbnRUbyA9IHRodW1iUGVyY2VudFRvO1xuXG4gICAgdGhpcy5pc1RpcCA9IGlzVGlwIHx8IGZhbHNlO1xuICAgIHRoaXMudGlwVmFsdWVGcm9tID0gdmFsdWVGcm9tIHx8IDA7XG4gICAgdGhpcy50aXBWYWx1ZVRvID0gdmFsdWVUbyB8fCAwO1xuICAgIHRoaXMuaXNQcm9ncmVzcyA9IGlzUHJvZ3Jlc3MgfHwgZmFsc2U7XG4gICAgdGhpcy5pc1JhbmdlID0gaXNSYW5nZSB8fCBmYWxzZTtcbiAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsIHx8IGZhbHNlO1xuICAgIHRoaXMuc2NhbGVNYXAgPSBzY2FsZU1hcDtcbiAgICB0aGlzLmlzU2NhbGVNYXJrcyA9IHNjYWxlTWFya3M7XG4gICAgdGhpcy5yb290ID0gcm9vdDtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRWxlbWVudHMoKTogdm9pZCB7XG4gICAgdGhpcy5zbGlkZXJDb21wb25lbnRzID0gbmV3IFNsaWRlckNvbXBvbmVudHModGhpcy5zbGlkZXIsIHRoaXMuaXNWZXJ0aWNhbCk7XG4gICAgdGhpcy5zY2FsZSA9IG5ldyBTY2FsZSh0aGlzLnNsaWRlciwgdGhpcy5pc1ZlcnRpY2FsKTtcbiAgICB0aGlzLnNjYWxlRWxlbWVudCA9IHRoaXMuc2NhbGUuZ2V0U2NhbGUoKTtcbiAgICB0aGlzLnNldFRodW1iKCd2YWx1ZUZyb20nLCB0aGlzLnRodW1iUGVyY2VudEZyb20pO1xuXG4gICAgaWYgKHRoaXMuaXNSYW5nZSAmJiB0aGlzLnRodW1iUGVyY2VudFRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0VGh1bWIoJ3ZhbHVlVG8nLCB0aGlzLnRodW1iUGVyY2VudFRvKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1RpcCkge1xuICAgICAgdGhpcy5zZXRUaXAoJ3ZhbHVlRnJvbScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzVGlwICYmIHRoaXMudGh1bWJQZXJjZW50VG8gJiYgdGhpcy5pc1JhbmdlICYmIHRoaXMudGlwVmFsdWVUbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFRpcCgndmFsdWVUbycpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0UHJvZ3Jlc3ModGhpcy50aHVtYlBlcmNlbnRGcm9tLCAwLCB0aGlzLmlzUmFuZ2UpO1xuXG4gICAgaWYgKHRoaXMuc2NhbGVNYXAgJiYgdGhpcy5pc1NjYWxlTWFya3MpIHtcbiAgICAgIHRoaXMuc2NhbGVNYXJrcyA9IG5ldyBTY2FsZU1hcmtzKHRoaXMuc2NhbGVFbGVtZW50LCB0aGlzLnNjYWxlTWFwLCB0aGlzLmlzVmVydGljYWwpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkU2xpZGVyKCk6IHZvaWQge1xuICAgIHRoaXMucm9vdC5hcHBlbmQodGhpcy5zbGlkZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc05lZWREb3VibGVUaXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaXNUaXBcbiAgICAgICYmIHRoaXMuaXNSYW5nZVxuICAgICAgJiYgdGhpcy50aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkXG4gICAgICAmJiAoKHRoaXMudGh1bWJQZXJjZW50VG8gLSB0aGlzLnRodW1iUGVyY2VudEZyb20gPD0gMilcbiAgICAgICAgfHwgKHRoaXMudGh1bWJQZXJjZW50VG8gPT09IDAgJiYgdGhpcy50aHVtYlBlcmNlbnRGcm9tID09PSAwKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2xpZGVyO1xuIiwiaW1wb3J0IE9ic2VydmVyIGZyb20gJy4uLy4uL09ic2VydmVyL09ic2VydmVyJztcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9zdWJWaWV3cy9TbGlkZXIvU2xpZGVyJztcbmltcG9ydCB7IFNMSURFUl9FVkVOVFMgfSBmcm9tICcuLi8uLi9PYnNlcnZlci9ldmVudHMnO1xuaW1wb3J0IHsgU2xpZGVySW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5cbmNsYXNzIFZpZXcgZXh0ZW5kcyBPYnNlcnZlciB7XG4gIHJvb3QhOiBFbGVtZW50O1xuXG4gIHNsaWRlciE6IFNsaWRlcjtcblxuICBwcm90ZWN0ZWQgaXNSYW5nZSE6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iocm9vdDogRWxlbWVudCwgcHJvdGVjdGVkIHJlYWRvbmx5IHN0YXRlOiBTbGlkZXJJbnRlcmZhY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5pdFZpZXcocm9vdCwgc3RhdGUpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVNsaWRlcihkYXRhOiBTbGlkZXJJbnRlcmZhY2UpOiB2b2lkIHtcbiAgICB0aGlzLnNsaWRlci5zZXRTdGF0ZShkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoZGF0YTogU2xpZGVySW50ZXJmYWNlLCBldmVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGV2ZW50ID09PSBTTElERVJfRVZFTlRTLkRBVEFfQ09MTEVDVEVEKSB7XG4gICAgICB0aGlzLmVtaXQoU0xJREVSX0VWRU5UUy5WQUxVRV9DSEFOR0VELCBkYXRhKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50ID09PSBTTElERVJfRVZFTlRTLlZBTFVFX0NIQU5HRUQpIHtcbiAgICAgIHRoaXMudXBkYXRlU2xpZGVyKGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW5pdFZpZXcocm9vdDogRWxlbWVudCwgc3RhdGU6IFNsaWRlckludGVyZmFjZSk6IHZvaWQge1xuICAgIGNvbnN0IHsgaXNSYW5nZSB9ID0gc3RhdGU7XG4gICAgdGhpcy5yb290ID0gcm9vdDtcbiAgICB0aGlzLmlzUmFuZ2UgPSBpc1JhbmdlO1xuICAgIHRoaXMuc2xpZGVyID0gbmV3IFNsaWRlcihyb290LCBzdGF0ZSk7XG4gICAgdGhpcy5hZGRTdWJzY3JpYmVTbGlkZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkU3Vic2NyaWJlU2xpZGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2xpZGVyLnRodW1iRnJvbS5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuVkFMVUVfU1RBUlRfQ0hBTkdFLCB0aGlzLnNsaWRlcik7XG4gICAgdGhpcy5zbGlkZXIudGh1bWJGcm9tLmFkZFN1YnNjcmliZXIoU0xJREVSX0VWRU5UUy5LRVlfRE9XTiwgdGhpcy5zbGlkZXIpO1xuICAgIGlmICh0aGlzLmlzUmFuZ2UgJiYgdGhpcy5zbGlkZXIudGh1bWJUbykge1xuICAgICAgdGhpcy5zbGlkZXIudGh1bWJUby5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuVkFMVUVfU1RBUlRfQ0hBTkdFLCB0aGlzLnNsaWRlcik7XG4gICAgICB0aGlzLnNsaWRlci50aHVtYlRvLmFkZFN1YnNjcmliZXIoU0xJREVSX0VWRU5UUy5LRVlfRE9XTiwgdGhpcy5zbGlkZXIpO1xuICAgIH1cbiAgICB0aGlzLnNsaWRlci5zY2FsZS5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuU0NBTEVfQ0xJQ0tFRCwgdGhpcy5zbGlkZXIpO1xuICAgIGlmICh0aGlzLnNsaWRlci5pc1NjYWxlTWFya3MpIHtcbiAgICAgIHRoaXMuc2xpZGVyLnNjYWxlTWFya3MuYWRkU3Vic2NyaWJlcihTTElERVJfRVZFTlRTLk1BUktfQ0xJQ0tFRCwgdGhpcy5zbGlkZXIpO1xuICAgIH1cbiAgICB0aGlzLnNsaWRlci5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuU0NBTEVfQ0xJQ0tFRCwgdGhpcyk7XG4gICAgdGhpcy5zbGlkZXIuYWRkU3Vic2NyaWJlcihTTElERVJfRVZFTlRTLkRBVEFfQ09MTEVDVEVELCB0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIiwiaW50ZXJmYWNlIE1vZGVsSW50ZXJmYWNlIHtcbiAgbWluOiBudW1iZXIsXG4gIG1heDogbnVtYmVyLFxuICB2YWx1ZUZyb206IG51bWJlcixcbiAgdmFsdWVUbzogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICB0aHVtYlBlcmNlbnRGcm9tOiBudW1iZXIsXG4gIHRodW1iUGVyY2VudFRvOiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHN0ZXA6IG51bWJlcixcbiAgc2NhbGVNYXJrczogYm9vbGVhbixcbiAgc2NhbGVQZXJjZW50R2FwPzogbnVtYmVyLFxuICBpc1RpcDogYm9vbGVhbixcbiAgaXNQcm9ncmVzczogYm9vbGVhbixcbiAgaXNSYW5nZTogYm9vbGVhbixcbiAgaXNWZXJ0aWNhbDogYm9vbGVhbixcbn1cblxuaW50ZXJmYWNlIE1vZGVsSW5wdXRTdGF0ZSB7XG4gIG1pbjogbnVtYmVyLFxuICBtYXg6IG51bWJlcixcbiAgdmFsdWVGcm9tOiBudW1iZXIsXG4gIHZhbHVlVG86IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgc3RlcDogbnVtYmVyLFxuICBzY2FsZU1hcmtzOiBib29sZWFuLFxuICBzY2FsZVBlcmNlbnRHYXA/OiBudW1iZXIsXG4gIGlzVGlwOiBib29sZWFuLFxuICBpc1Byb2dyZXNzOiBib29sZWFuLFxuICBpc1JhbmdlOiBib29sZWFuLFxuICBpc1ZlcnRpY2FsOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBTbGlkZXJJbnRlcmZhY2UgZXh0ZW5kcyBNb2RlbEludGVyZmFjZSB7XG4gIHNjYWxlTWFwPzogTWFwPG51bWJlciwgbnVtYmVyPlxufVxuXG50eXBlIE1vZGVsVmFsID0gJ21pbicgfCAnbWF4JyB8ICd2YWx1ZUZyb20nIHwgJ3N0ZXAnIHwgJ3ZhbHVlVG8nIHwgJ3NjYWxlTWFya3MnIHwgJ3NjYWxlUGVyY2VudEdhcCdcbiAgfCAnaXNUaXAnIHwgJ2lzUHJvZ3Jlc3MnIHwgJ2lzUmFuZ2UnIHwgJ2lzVmVydGljYWwnO1xudHlwZSBUaHVtYklEID0gJ3ZhbHVlRnJvbScgfCAndmFsdWVUbydcbnR5cGUgU3RhcnRQb2ludFR5cGUgPSAndG9wJyB8ICdsZWZ0JztcbnR5cGUgU2l6ZVR5cGUgPSAnaGVpZ2h0JyB8ICd3aWR0aCc7XG5cbmNvbnN0IFRodW1iVmFsUGVyY2VudCA9IHtcbiAgdmFsdWVGcm9tOiAndGh1bWJQZXJjZW50RnJvbScsXG4gIHZhbHVlVG86ICd0aHVtYlBlcmNlbnRUbycsXG59O1xuXG5pbnRlcmZhY2UgSGFuZGxlTW92ZU1vZGVsIHtcbiAgdmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgdGh1bWI6IFRodW1iSUQsXG4gIHBlcmNlbnQ6IG51bWJlcixcbn1cblxuaW50ZXJmYWNlIEhhbmRsZU1vdmVNb2RlbEZyb20ge1xuICB2YWx1ZTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICB0aHVtYjogVGh1bWJJRCxcbiAgcGVyY2VudDogbnVtYmVyLFxufVxuXG5pbnRlcmZhY2UgSGFuZGxlTW92ZU1vZGVsVG8ge1xuICB2YWx1ZTogbnVtYmVyIHwgdW5kZWZpbmVkLFxuICB0aHVtYjogVGh1bWJJRCxcbiAgcGVyY2VudDogbnVtYmVyLFxufVxuXG50eXBlIEtleUV2ZW50ID0gJ2RlY3JlbWVudCcgfCAnaW5jcmVtZW50JztcblxuaW50ZXJmYWNlIFNsaWRlckV2ZW50VmFsQ2hhbmdlZERhdGEge1xuICBjb29yZHNNb3ZlOiBudW1iZXIsXG4gIHRodW1iSWQ6IFRodW1iSUQsXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXG4gIGtleUV2ZW50PzogS2V5RXZlbnQsXG59XG5cbmludGVyZmFjZSBWYWxpZGF0ZVNsaWRlckRhdGEge1xuICBjb29yZHNNb3ZlOiBudW1iZXIsXG4gIHNjYWxlU2l6ZTogbnVtYmVyLFxuICB0aHVtYklkPzogc3RyaW5nLFxuICBrZXlFdmVudD86IEtleUV2ZW50LFxuICBwZXJjZW50PzogbnVtYmVyLFxuICB2YWx1ZT86IG51bWJlcixcbn1cblxuaW50ZXJmYWNlIFNjYWxlQ2xpY2tEYXRhIHtcbiAgY2xpY2tQb3M6IG51bWJlcixcbiAgc2NhbGVTaXplOiBudW1iZXIsXG59XG5cbmludGVyZmFjZSBQcm9ncmVzc0RhdGEge1xuICByb290OiBFbGVtZW50LFxuICBwb3NpdGlvblN0YXJ0OiBudW1iZXIsXG4gIHBvc2l0aW9uRW5kOiBudW1iZXIsXG4gIGlzVmVydGljYWw6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBUaXBEYXRhIHtcbiAgcm9vdDogSFRNTERpdkVsZW1lbnQsXG4gIHBlcmNlbnRQb3NpdGlvbjogbnVtYmVyLFxuICB2YWx1ZVRpcDogbnVtYmVyIHwgc3RyaW5nLFxuICBpc1ZlcnRpY2FsOiBib29sZWFuLFxufVxuXG5pbnRlcmZhY2UgaXNWYWxUaGVTYW1lUG9zIHtcbiAgdmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgdmFsdWVBbm90aGVyVGh1bWI6IG51bWJlciB8IHVuZGVmaW5lZCxcbiAgdGh1bWJQZXJjZW50OiBudW1iZXIgfCB1bmRlZmluZWQsXG4gIHRodW1iOiBzdHJpbmcsXG4gIGlkVmFsOiBUaHVtYklEO1xufVxuXG50eXBlIFN0ZXBzTWFwID0gTWFwPG51bWJlciwgbnVtYmVyPjtcblxuaW50ZXJmYWNlIFRodW1iQXJncyB7XG4gIHJvb3Q6IEhUTUxFbGVtZW50LFxuICB0aHVtYlBlcmNlbnQ6IG51bWJlcixcbiAgaWQ6IFRodW1iSUQsXG4gIGlzVmVydGljYWw6IGJvb2xlYW4sXG59XG5cbmludGVyZmFjZSBNb2RlbFNldFZhbCB7XG4gIGhhbGZNb3ZlOiBudW1iZXIsXG4gIGhhbGZTdGVwOiBudW1iZXIsXG4gIG5lYXJTdGVwUGVyY2VudDogbnVtYmVyLFxuICB0aHVtYjogVGh1bWJJRFxufVxuXG5leHBvcnQge1xuICBNb2RlbEludGVyZmFjZSxcbiAgTW9kZWxWYWwsXG4gIFNsaWRlckludGVyZmFjZSxcbiAgVmFsaWRhdGVTbGlkZXJEYXRhLFxuICBUaHVtYklELFxuICBUaHVtYlZhbFBlcmNlbnQsXG4gIEhhbmRsZU1vdmVNb2RlbCxcbiAgSGFuZGxlTW92ZU1vZGVsRnJvbSxcbiAgSGFuZGxlTW92ZU1vZGVsVG8sXG4gIFNsaWRlckV2ZW50VmFsQ2hhbmdlZERhdGEsXG4gIFByb2dyZXNzRGF0YSxcbiAgVGlwRGF0YSxcbiAgaXNWYWxUaGVTYW1lUG9zLFxuICBTdGVwc01hcCxcbiAgU3RhcnRQb2ludFR5cGUsXG4gIFNpemVUeXBlLFxuICBUaHVtYkFyZ3MsXG4gIFNjYWxlQ2xpY2tEYXRhLFxuICBNb2RlbFNldFZhbCxcbiAgTW9kZWxJbnB1dFN0YXRlLFxuICBLZXlFdmVudCxcbn07XG4iLCJpbXBvcnQge1xuICBNb2RlbEludGVyZmFjZSxcbiAgTW9kZWxWYWwsXG4gIFRodW1iSUQsXG4gIFRodW1iVmFsUGVyY2VudCxcbiAgSGFuZGxlTW92ZU1vZGVsLFxuICBIYW5kbGVNb3ZlTW9kZWxGcm9tLFxuICBIYW5kbGVNb3ZlTW9kZWxUbyxcbiAgaXNWYWxUaGVTYW1lUG9zLFxufSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuY2xhc3MgTW9kZWwge1xuICBwcml2YXRlIHN0YXRlOiBNb2RlbEludGVyZmFjZTtcblxuICBwcml2YXRlIHN0ZXBQZXJjZW50ITogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHN0YXRlOiBNb2RlbEludGVyZmFjZSkge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTdGF0ZShzdGF0ZTogb2JqZWN0KTogdm9pZCB7XG4gICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuc3RhdGUgPSB7IC4uLm9sZFN0YXRlLCAuLi5zdGF0ZSB9O1xuICB9XG5cbiAgcHVibGljIGdldFN0YXRlKCk6IE1vZGVsSW50ZXJmYWNlIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVTdGF0ZU1vdmUobW92ZWRUbzogbnVtYmVyLCB0aHVtYjogVGh1bWJJRCk6IHZvaWQge1xuICAgIHRoaXMuZmluZFN1aXRhYmxlUGVyY2VudChtb3ZlZFRvLCB0aHVtYik7XG4gIH1cblxuICBwdWJsaWMgZ2V0VmFsdWUodmFsOiBNb2RlbFZhbCk6IG51bWJlciB8IHVuZGVmaW5lZCB8IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlW2Ake3ZhbH1gXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQZXJjZW50VmFsKCk6IG51bWJlciB7XG4gICAgY29uc3QgeyB2YWx1ZUZyb20sIG1pbiwgbWF4IH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJhbmdlOiBudW1iZXIgPSBtYXggLSBtaW47XG4gICAgY29uc3QgcGVyY2VudCA9IE51bWJlcigoKHZhbHVlRnJvbSAvIHJhbmdlKSAqIDEwMCkudG9GaXhlZCgzKSk7XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICBwcml2YXRlIGluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5zdGVwUGVyY2VudCA9IE51bWJlcigodGhpcy5zdGF0ZS5zdGVwIC8gdGhpcy5maW5kVmFsUGVyY2VudCgpKSk7XG4gIH1cblxuICBwcml2YXRlIGZpbmRTdWl0YWJsZVBlcmNlbnQocGVyY2VudE1vdmU6IG51bWJlciwgdGh1bWI6IFRodW1iSUQpIHtcbiAgICBjb25zdCB7XG4gICAgICBzdGVwLFxuICAgICAgbWF4LFxuICAgICAgbWluLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgbmVhcmVzdFByZXZDb3VudFN0ZXAgPSBNYXRoLmZsb29yKHBlcmNlbnRNb3ZlIC8gdGhpcy5zdGVwUGVyY2VudCk7XG4gICAgY29uc3QgbmVhcmVzdE5leHRDb3VudFN0ZXAgPSBNYXRoLmNlaWwocGVyY2VudE1vdmUgLyB0aGlzLnN0ZXBQZXJjZW50KTtcblxuICAgIGNvbnN0IHByZXZTdGVwID0gbWluICsgKHN0ZXAgKiBuZWFyZXN0UHJldkNvdW50U3RlcCk7XG4gICAgY29uc3QgbmV4dFN0ZXAgPSBtaW4gKyAoc3RlcCAqIG5lYXJlc3ROZXh0Q291bnRTdGVwKTtcblxuICAgIGNvbnN0IHByZXZQZXJjZW50ID0gdGhpcy5zdGVwUGVyY2VudCAqIG5lYXJlc3RQcmV2Q291bnRTdGVwO1xuICAgIGNvbnN0IG5leHRQZXJjZW50ID0gdGhpcy5zdGVwUGVyY2VudCAqIG5lYXJlc3ROZXh0Q291bnRTdGVwO1xuXG4gICAgY29uc3QgaGFsZlN0ZXAgPSBOdW1iZXIoKHRoaXMuc3RlcFBlcmNlbnQgLyAyKS50b0ZpeGVkKDMpKTtcbiAgICBjb25zdCBoYWxmTW92ZSA9IE51bWJlcigocGVyY2VudE1vdmUgJSB0aGlzLnN0ZXBQZXJjZW50KS50b0ZpeGVkKDMpKTtcblxuICAgIGxldCB2YWx1ZTogbnVtYmVyO1xuICAgIGxldCBwZXJjZW50OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAoaGFsZk1vdmUgPCBoYWxmU3RlcCkge1xuICAgICAgdmFsdWUgPSBwcmV2U3RlcDtcbiAgICAgIHBlcmNlbnQgPSBwcmV2UGVyY2VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBuZXh0U3RlcDtcbiAgICAgIHBlcmNlbnQgPSBuZXh0UGVyY2VudDtcbiAgICB9XG5cbiAgICBjb25zdCBhbGxTdGVwcyA9IE1hdGguY2VpbCgobWF4IC0gbWluKSAvIHN0ZXApO1xuICAgIGNvbnN0IGJlZm9yZUVuZFBlcmNlbnQgPSB0aGlzLnN0ZXBQZXJjZW50ICogKGFsbFN0ZXBzIC0gMSk7XG5cbiAgICBpZiAocGVyY2VudE1vdmUgPT09IDEwMCB8fCAxMDAgLSAoKDEwMCAtIGJlZm9yZUVuZFBlcmNlbnQpIC8gMikgPCBwZXJjZW50TW92ZSkge1xuICAgICAgdmFsdWUgPSBtYXg7XG4gICAgICBwZXJjZW50ID0gMTAwO1xuICAgIH1cbiAgICBpZiAocGVyY2VudCA9PT0gdW5kZWZpbmVkKSBwZXJjZW50ID0gdGhpcy5zdGVwUGVyY2VudCAqIG5lYXJlc3RQcmV2Q291bnRTdGVwO1xuXG4gICAgdGhpcy5oYW5kbGVNb3ZlKHtcbiAgICAgIHZhbHVlLFxuICAgICAgdGh1bWIsXG4gICAgICBwZXJjZW50LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb3ZlKHZhbHVlczogSGFuZGxlTW92ZU1vZGVsKTogdm9pZCB7XG4gICAgY29uc3Qge1xuICAgICAgdmFsdWUsXG4gICAgICB0aHVtYixcbiAgICAgIHBlcmNlbnQsXG4gICAgfSA9IHZhbHVlcztcblxuICAgIGlmICh0aHVtYiA9PT0gJ3ZhbHVlRnJvbScpIHtcbiAgICAgIHRoaXMuaGFuZGxlTW92ZUZyb20oe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdGh1bWIsXG4gICAgICAgIHBlcmNlbnQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGh1bWIgPT09ICd2YWx1ZVRvJykge1xuICAgICAgdGhpcy5oYW5kbGVNb3ZlVG8oe1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdGh1bWIsXG4gICAgICAgIHBlcmNlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vdmVGcm9tKHZhbHVlczogSGFuZGxlTW92ZU1vZGVsRnJvbSk6IHZvaWQge1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlLFxuICAgICAgdGh1bWIsXG4gICAgICBwZXJjZW50LFxuICAgIH0gPSB2YWx1ZXM7XG5cbiAgICBjb25zdCB7XG4gICAgICB2YWx1ZVRvLFxuICAgICAgdGh1bWJQZXJjZW50VG8sXG4gICAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAodGhpcy5pc1ZhbFRoZVNhbWVQb3Moe1xuICAgICAgdmFsdWUsXG4gICAgICB2YWx1ZUFub3RoZXJUaHVtYjogdmFsdWVUbyxcbiAgICAgIHRodW1iUGVyY2VudDogdGh1bWJQZXJjZW50VG8sXG4gICAgICB0aHVtYixcbiAgICAgIGlkVmFsOiAndmFsdWVGcm9tJyxcbiAgICB9KSAmJiB2YWx1ZVRvICE9PSB1bmRlZmluZWQgJiYgdGh1bWJQZXJjZW50VG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy51cGRhdGVNb3ZlZCh2YWx1ZVRvLCB0aHVtYlBlcmNlbnRUbywgdGh1bWIpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgdGhpcy51cGRhdGVNb3ZlZCh2YWx1ZSwgcGVyY2VudCwgdGh1bWIpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb3ZlVG8odmFsdWVzOiBIYW5kbGVNb3ZlTW9kZWxUbyk6IHZvaWQge1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlLFxuICAgICAgdGh1bWIsXG4gICAgICBwZXJjZW50LFxuICAgIH0gPSB2YWx1ZXM7XG5cbiAgICBjb25zdCB7XG4gICAgICB2YWx1ZUZyb20sXG4gICAgICB0aHVtYlBlcmNlbnRGcm9tLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHRoaXMuaXNWYWxUaGVTYW1lUG9zKHtcbiAgICAgIHZhbHVlLFxuICAgICAgdmFsdWVBbm90aGVyVGh1bWI6IHZhbHVlRnJvbSxcbiAgICAgIHRodW1iUGVyY2VudDogdGh1bWJQZXJjZW50RnJvbSxcbiAgICAgIHRodW1iLFxuICAgICAgaWRWYWw6ICd2YWx1ZVRvJyxcbiAgICB9KSAmJiB2YWx1ZUZyb20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy51cGRhdGVNb3ZlZCh2YWx1ZUZyb20sIHRodW1iUGVyY2VudEZyb20sIHRodW1iKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlTW92ZWQodmFsdWUsIHBlcmNlbnQsIHRodW1iKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzVmFsVGhlU2FtZVBvcyh2YWx1ZXM6IGlzVmFsVGhlU2FtZVBvcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHZhbHVlLFxuICAgICAgdmFsdWVBbm90aGVyVGh1bWIsXG4gICAgICB0aHVtYlBlcmNlbnQsXG4gICAgICB0aHVtYixcbiAgICAgIGlkVmFsLFxuICAgIH0gPSB2YWx1ZXM7XG5cbiAgICBjb25zdCB7IGlzUmFuZ2UgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBjaGVja1ZhbCA9IGlzUmFuZ2UgJiYgdGh1bWJQZXJjZW50ICE9PSB1bmRlZmluZWQgJiYgdGh1bWIgPT09IGlkVmFsO1xuICAgIGxldCBjb21wYXJlVmFsID0gZmFsc2U7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWVBbm90aGVyVGh1bWIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29tcGFyZVZhbCA9IGlkVmFsID09PSAndmFsdWVGcm9tJyA/IHZhbHVlID4gdmFsdWVBbm90aGVyVGh1bWIgOiB2YWx1ZSA8IHZhbHVlQW5vdGhlclRodW1iO1xuICAgIH1cblxuICAgIHJldHVybiBjaGVja1ZhbCAmJiBjb21wYXJlVmFsO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kVmFsUGVyY2VudCgpOiBudW1iZXIge1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5maW5kUmFuZ2UoKTtcbiAgICBjb25zdCBwZXJjZW50ID0gcmFuZ2UgLyAxMDA7XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICBwcml2YXRlIGZpbmRSYW5nZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5zdGF0ZS5tYXggLSB0aGlzLnN0YXRlLm1pbjtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZU1vdmVkKHZhbDogbnVtYmVyLCBwZXJjZW50OiBudW1iZXIsIHRodW1iOiBUaHVtYklEKTogdm9pZCB7XG4gICAgaWYgKE51bWJlci5pc05hTih2YWwpIHx8IHBlcmNlbnQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd3Jvbmcgd2l0aCBzZXR0aW5nIG5ldyB2YWx1ZXMnKTtcbiAgICBjb25zdCB0aHVtYlBlY2VudCA9IFRodW1iVmFsUGVyY2VudFt0aHVtYl07XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIFt0aHVtYl06IHZhbCxcbiAgICAgIFt0aHVtYlBlY2VudF06IHBlcmNlbnQsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XG4iLCJpbXBvcnQge1xuICBNb2RlbElucHV0U3RhdGUsXG4gIE1vZGVsSW50ZXJmYWNlLFxuICBTdGVwc01hcCxcbiAgVGh1bWJJRCxcbiAgVmFsaWRhdGVTbGlkZXJEYXRhLFxufSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuY2xhc3MgVmFsaWRhdG9yIHtcbiAgcHJpdmF0ZSBERUZBVUxUX0dBUCA9IDIwO1xuXG4gIHByaXZhdGUgbWluITogbnVtYmVyO1xuXG4gIHByaXZhdGUgbWF4ITogbnVtYmVyO1xuXG4gIHByaXZhdGUgdmFsdWVGcm9tITogbnVtYmVyO1xuXG4gIHByaXZhdGUgc3RlcCE6IG51bWJlcjtcblxuICBwcml2YXRlIHJlc3VsdE9iamVjdCE6IE1vZGVsSW50ZXJmYWNlO1xuXG4gIHByaXZhdGUgc3RlcFBlcmNlbnQhOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSB2YWx1ZVRvITogbnVtYmVyO1xuXG4gIHByaXZhdGUgdGh1bWJQZXJjZW50RnJvbSE6IG51bWJlcjtcblxuICBwcml2YXRlIHRodW1iUGVyY2VudFRvPzogbnVtYmVyO1xuXG4gIHByaXZhdGUgc2NhbGVQZXJjZW50R2FwOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBpc1RpcCE6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBpc1ZlcnRpY2FsITogYm9vbGVhbjtcblxuICBwcml2YXRlIGlzUHJvZ3Jlc3MhOiBib29sZWFuO1xuXG4gIHByaXZhdGUgc2NhbGVNYXJrcyE6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBpc1JhbmdlITogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBkYXRhOiBNb2RlbElucHV0U3RhdGUpIHtcbiAgICB0aGlzLnZhbGlkYXRlRGF0YShkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyB2YWxpZGF0ZURhdGEoZGF0YTogTW9kZWxJbnB1dFN0YXRlKTogTW9kZWxJbnRlcmZhY2Uge1xuICAgIGNvbnN0IHByZXZCb29sID0gdGhpcy5zZXRCb29sZWFucyhkYXRhKTtcbiAgICB0aGlzLnNldERhdGEoZGF0YSk7XG4gICAgdGhpcy5yZXN1bHRPYmplY3QgPSB7XG4gICAgICAuLi5kYXRhLCAuLi5wcmV2Qm9vbCwgdGh1bWJQZXJjZW50RnJvbTogMCwgdGh1bWJQZXJjZW50VG86IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja1JhbmdlKCk7XG4gICAgdGhpcy5jaGVja1N0ZXAoKTtcbiAgICB0aGlzLmNoZWNrVmFsdWVzKCk7XG4gICAgdGhpcy5jaGVja1BlcmNlbnRzKCk7XG4gICAgcmV0dXJuIHRoaXMucmVzdWx0T2JqZWN0O1xuICB9XG5cbiAgcHVibGljIHBlcmZvcm1Nb3ZlVG9QZXJjZW50KGRhdGE6IFZhbGlkYXRlU2xpZGVyRGF0YSk6IG51bWJlciB7XG4gICAgY29uc3Qge1xuICAgICAgY29vcmRzTW92ZSwgc2NhbGVTaXplLCBrZXlFdmVudCwgdGh1bWJJZCxcbiAgICB9ID0gZGF0YTtcblxuICAgIGlmIChrZXlFdmVudCkge1xuICAgICAgaWYgKGtleUV2ZW50ID09PSAnaW5jcmVtZW50JyAmJiB0aHVtYklkID09PSAndmFsdWVGcm9tJykge1xuICAgICAgICByZXR1cm4gdGhpcy50aHVtYlBlcmNlbnRGcm9tICsgdGhpcy5zdGVwUGVyY2VudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleUV2ZW50ID09PSAnZGVjcmVtZW50JyAmJiB0aHVtYklkID09PSAndmFsdWVGcm9tJykge1xuICAgICAgICByZXR1cm4gdGhpcy50aHVtYlBlcmNlbnRGcm9tIC0gdGhpcy5zdGVwUGVyY2VudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleUV2ZW50ID09PSAnaW5jcmVtZW50JyAmJiB0aHVtYklkID09PSAndmFsdWVUbycgJiYgdGhpcy50aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRodW1iUGVyY2VudFRvICsgdGhpcy5zdGVwUGVyY2VudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleUV2ZW50ID09PSAnZGVjcmVtZW50JyAmJiB0aHVtYklkID09PSAndmFsdWVUbycgJiYgdGhpcy50aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRodW1iUGVyY2VudFRvIC0gdGhpcy5zdGVwUGVyY2VudDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvb3Jkc01vdmUgPT09IHVuZGVmaW5lZCB8fCBzY2FsZVNpemUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDA7XG5cbiAgICBjb25zdCBwZXJjZW50ID0gc2NhbGVTaXplIC8gMTAwO1xuICAgIGxldCBwZXJjZW50TW92ZSA9IE51bWJlcigoY29vcmRzTW92ZSAvIHBlcmNlbnQpLnRvRml4ZWQoMikpO1xuICAgIGlmIChwZXJjZW50TW92ZSA8IDApIHBlcmNlbnRNb3ZlID0gMDtcbiAgICBpZiAocGVyY2VudE1vdmUgPiAxMDApIHBlcmNlbnRNb3ZlID0gMTAwO1xuICAgIHJldHVybiBwZXJjZW50TW92ZTtcbiAgfVxuXG4gIHB1YmxpYyB2YWxpZGF0ZU1hcmtzKG9wdGlvbnM6IHsgbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBzdGVwOiBudW1iZXIsIGdhcDogbnVtYmVyIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBzdGVwLFxuICAgICAgbWF4LFxuICAgICAgbWluLFxuICAgICAgZ2FwLFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgbWFwU3RlcHM6IFN0ZXBzTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHZhbGlkR2FwID0gdGhpcy52YWxpZGF0ZUdhcChnYXApO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5maW5kUmFuZ2UoKTtcbiAgICBjb25zdCBwZXJjZW50ID0gcmFuZ2UgLyAxMDA7XG4gICAgY29uc3Qgc3RlcFBlcmNlbnQgPSBzdGVwIC8gcGVyY2VudDtcbiAgICBjb25zdCBzdGVwQ291bnRHYXAgPSBzdGVwICogTWF0aC5jZWlsKHZhbGlkR2FwIC8gc3RlcFBlcmNlbnQpO1xuICAgIGNvbnN0IHBlcmNlbnRDb3VudHNHYXAgPSBNYXRoLmNlaWwoc3RlcENvdW50R2FwIC8gcGVyY2VudCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSAxMDA7IGkgKz0gcGVyY2VudENvdW50c0dhcCkge1xuICAgICAgaWYgKGkgPD0gKDEwMCAtIHBlcmNlbnRDb3VudHNHYXApKSB7XG4gICAgICAgIGNvbnN0IHN0ZXBDb3VudCA9IE1hdGgucm91bmQoaSAvIHN0ZXBQZXJjZW50KTtcbiAgICAgICAgY29uc3QgdmFsdWVTdGVwcyA9IHN0ZXAgKiBzdGVwQ291bnQ7XG4gICAgICAgIGNvbnN0IHBlcmNlbnRTY2FsZSA9IHZhbHVlU3RlcHMgLyBwZXJjZW50O1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG1pbiArIHZhbHVlU3RlcHM7XG5cbiAgICAgICAgbWFwU3RlcHMuc2V0KHZhbHVlLCBwZXJjZW50U2NhbGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1hcFN0ZXBzLnNldChtYXgsIDEwMCk7XG4gICAgcmV0dXJuIG1hcFN0ZXBzO1xuICB9XG5cbiAgcHVibGljIHZhbGlkYXRlVGh1bWJJZChtb3ZlZFRvOiBudW1iZXIpOiBUaHVtYklEIHtcbiAgICBpZiAoIXRoaXMuaXNSYW5nZSkgcmV0dXJuICd2YWx1ZUZyb20nO1xuICAgIGlmIChtb3ZlZFRvIDwgdGhpcy50aHVtYlBlcmNlbnRGcm9tKSByZXR1cm4gJ3ZhbHVlRnJvbSc7XG4gICAgaWYgKHRoaXMudGh1bWJQZXJjZW50VG8gIT09IHVuZGVmaW5lZCAmJiBtb3ZlZFRvID4gdGhpcy50aHVtYlBlcmNlbnRUbykgcmV0dXJuICd2YWx1ZVRvJztcblxuICAgIGlmIChtb3ZlZFRvID4gdGhpcy50aHVtYlBlcmNlbnRGcm9tXG4gICAgICAmJiB0aGlzLnRodW1iUGVyY2VudFRvICE9PSB1bmRlZmluZWRcbiAgICAgICYmIG1vdmVkVG8gPCB0aGlzLnRodW1iUGVyY2VudFRvKSB7XG4gICAgICBjb25zdCBkaWZmRnJvbSA9IG1vdmVkVG8gLSB0aGlzLnRodW1iUGVyY2VudEZyb207XG4gICAgICBjb25zdCBkaWZmVG8gPSB0aGlzLnRodW1iUGVyY2VudFRvIC0gbW92ZWRUbztcblxuICAgICAgaWYgKGRpZmZGcm9tID09PSBkaWZmVG8gfHwgZGlmZkZyb20gPCBkaWZmVG8pIHJldHVybiAndmFsdWVGcm9tJztcbiAgICAgIGlmIChkaWZmRnJvbSA+IGRpZmZUbykgcmV0dXJuICd2YWx1ZVRvJztcbiAgICB9XG4gICAgcmV0dXJuICd2YWx1ZVRvJztcbiAgfVxuXG4gIHB1YmxpYyB2YWxpZGF0ZVBlcmNlbnQocGVyY2VudDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBvbGRTdGF0ZTogTW9kZWxJbnRlcmZhY2UpIHtcbiAgICBjb25zdCB7IGlzUmFuZ2UgfSA9IG9sZFN0YXRlO1xuXG4gICAgaWYgKCFpc1JhbmdlKSB7XG4gICAgICBjb25zdCBuZXdEYXRlID0geyAuLi5vbGRTdGF0ZSwgdmFsdWVGcm9tOiB2YWx1ZSwgdGh1bWJQZXJjZW50RnJvbTogcGVyY2VudCB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZURhdGEobmV3RGF0ZSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChpc1JhbmdlICYmIG9sZFN0YXRlLnRodW1iUGVyY2VudFRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHsgdGh1bWJQZXJjZW50RnJvbSwgdGh1bWJQZXJjZW50VG8gfSA9IG9sZFN0YXRlO1xuICAgICAgbGV0IHRodW1iUGVyY2VudCA9ICd0aHVtYlBlcmNlbnRGcm9tJztcbiAgICAgIGxldCB0aHVtYlZhbHVlID0gJ3ZhbHVlRnJvbSc7XG5cbiAgICAgIGlmIChOdW1iZXIocGVyY2VudCkgPiB0aHVtYlBlcmNlbnRUbykge1xuICAgICAgICB0aHVtYlBlcmNlbnQgPSAndGh1bWJQZXJjZW50VG8nO1xuICAgICAgICB0aHVtYlZhbHVlID0gJ3ZhbHVlVG8nO1xuICAgICAgfVxuXG4gICAgICBpZiAoTnVtYmVyKHBlcmNlbnQpID4gdGh1bWJQZXJjZW50RnJvbSAmJiBOdW1iZXIocGVyY2VudCkgPCB0aHVtYlBlcmNlbnRUbykge1xuICAgICAgICBjb25zdCBkaWZmZXJlbnRQZXJjZW50ID0gdGh1bWJQZXJjZW50VG8gLSB0aHVtYlBlcmNlbnRGcm9tO1xuICAgICAgICBjb25zdCBwZXJjZW50VmFsdWUgPSBwZXJjZW50IC0gdGh1bWJQZXJjZW50RnJvbTtcbiAgICAgICAgY29uc3QgbWlkZGxlID0gZGlmZmVyZW50UGVyY2VudCAvIDI7XG5cbiAgICAgICAgaWYgKHBlcmNlbnRWYWx1ZSA+PSBtaWRkbGUpIHtcbiAgICAgICAgICB0aHVtYlBlcmNlbnQgPSAndGh1bWJQZXJjZW50VG8nO1xuICAgICAgICAgIHRodW1iVmFsdWUgPSAndmFsdWVUbyc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3RGF0ZSA9IHsgLi4ub2xkU3RhdGUsIFt0aHVtYlZhbHVlXTogdmFsdWUsIFt0aHVtYlBlcmNlbnRdOiBwZXJjZW50IH07XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnZhbGlkYXRlRGF0YShuZXdEYXRlKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9sZFN0YXRlO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXREYXRhKGRhdGE6IE1vZGVsSW5wdXRTdGF0ZSk6IHZvaWQge1xuICAgIGNvbnN0IHtcbiAgICAgIG1pbixcbiAgICAgIG1heCxcbiAgICAgIHZhbHVlRnJvbSxcbiAgICAgIHN0ZXAsXG4gICAgICBzY2FsZVBlcmNlbnRHYXAsXG4gICAgICB2YWx1ZVRvLFxuICAgIH0gPSBkYXRhO1xuXG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gICAgdGhpcy52YWx1ZUZyb20gPSB2YWx1ZUZyb207XG4gICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICB0aGlzLnNjYWxlUGVyY2VudEdhcCA9IHNjYWxlUGVyY2VudEdhcDtcbiAgICBpZiAodHlwZW9mIHRoaXMuc2NhbGVQZXJjZW50R2FwICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGhpcy5zY2FsZVBlcmNlbnRHYXAgIT09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLnNjYWxlUGVyY2VudEdhcCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlICYmIHZhbHVlVG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy52YWx1ZVRvID0gdmFsdWVUbztcbiAgICB9XG5cbiAgICB0aGlzLnN0ZXBQZXJjZW50ID0gdGhpcy5zdGVwIC8gKHRoaXMuZmluZFJhbmdlKCkgLyAxMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRCb29sZWFucyhkYXRhOiBNb2RlbElucHV0U3RhdGUpOiBvYmplY3Qge1xuICAgIGNvbnN0IHtcbiAgICAgIGlzUmFuZ2UsXG4gICAgICBpc1RpcCxcbiAgICAgIGlzVmVydGljYWwsXG4gICAgICBpc1Byb2dyZXNzLFxuICAgICAgc2NhbGVNYXJrcyxcbiAgICB9ID0gZGF0YTtcblxuICAgIHRoaXMuaXNSYW5nZSA9IHR5cGVvZiBpc1JhbmdlID09PSAnYm9vbGVhbicgPyBpc1JhbmdlIDogZmFsc2U7XG4gICAgdGhpcy5pc1RpcCA9IHR5cGVvZiBpc1RpcCA9PT0gJ2Jvb2xlYW4nID8gaXNUaXAgOiBmYWxzZTtcbiAgICB0aGlzLmlzVmVydGljYWwgPSB0eXBlb2YgaXNWZXJ0aWNhbCA9PT0gJ2Jvb2xlYW4nID8gaXNWZXJ0aWNhbCA6IGZhbHNlO1xuICAgIHRoaXMuaXNQcm9ncmVzcyA9IHR5cGVvZiBpc1Byb2dyZXNzID09PSAnYm9vbGVhbicgPyBpc1Byb2dyZXNzIDogZmFsc2U7XG4gICAgdGhpcy5zY2FsZU1hcmtzID0gdHlwZW9mIHNjYWxlTWFya3MgPT09ICdib29sZWFuJyA/IHNjYWxlTWFya3MgOiBmYWxzZTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc1JhbmdlOiB0aGlzLmlzUmFuZ2UsXG4gICAgICBpc1RpcDogdGhpcy5pc1RpcCxcbiAgICAgIGlzVmVydGljYWw6IHRoaXMuaXNWZXJ0aWNhbCxcbiAgICAgIGlzUHJvZ3Jlc3M6IHRoaXMuaXNQcm9ncmVzcyxcbiAgICAgIHNjYWxlTWFya3M6IHRoaXMuc2NhbGVNYXJrcyxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZUdhcChiYXNpc1BlcmNlbnQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHJlc3VsdCA9IGJhc2lzUGVyY2VudDtcbiAgICBpZiAocmVzdWx0IDwgMCB8fCByZXN1bHQgPiAxMDApIHJlc3VsdCA9IHRoaXMuREVGQVVMVF9HQVA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tSYW5nZSgpOiB2b2lkIHtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKHRoaXMubWluKSkgdGhpcy5taW4gPSAwO1xuICAgIGlmIChOdW1iZXIuaXNOYU4odGhpcy5tYXgpKSB0aGlzLm1heCA9IDEwO1xuICAgIGlmICh0aGlzLm1pbiA9PT0gdGhpcy5tYXgpIHtcbiAgICAgIHRoaXMubWF4ID0gdGhpcy5taW4gKyB0aGlzLnN0ZXA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubWluID4gdGhpcy5tYXgpIHtcbiAgICAgIFt0aGlzLm1pbiwgdGhpcy5tYXhdID0gW3RoaXMubWF4LCB0aGlzLm1pbl07XG4gICAgfVxuICAgIHRoaXMucmVzdWx0T2JqZWN0Lm1pbiA9IHRoaXMubWluO1xuICAgIHRoaXMucmVzdWx0T2JqZWN0Lm1heCA9IHRoaXMubWF4O1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1N0ZXAoKTogdm9pZCB7XG4gICAgaWYgKE51bWJlci5pc05hTih0aGlzLnN0ZXApKSB0aGlzLnN0ZXAgPSAxO1xuICAgIGNvbnN0IGFsbFJhbmdlID0gdGhpcy5maW5kUmFuZ2UoKTtcblxuICAgIGlmICh0aGlzLnN0ZXAgPiBhbGxSYW5nZSkge1xuICAgICAgdGhpcy5zdGVwID0gYWxsUmFuZ2U7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0ZXAgPCAwLjAwMSkgdGhpcy5zdGVwID0gMC4wMDE7XG4gICAgaWYgKCF0aGlzLnN0ZXApIHRoaXMuc3RlcCA9IDE7XG4gICAgdGhpcy5yZXN1bHRPYmplY3Quc3RlcCA9IHRoaXMuc3RlcDtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFJhbmdlKCk6IG51bWJlciB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5tYXggLSB0aGlzLm1pbjtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1ZhbHVlcygpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlRnJvbSA9IHRoaXMuY2hlY2tWYWx1ZSh0aGlzLnZhbHVlRnJvbSk7XG5cbiAgICBpZiAodGhpcy5pc1JhbmdlKSB7XG4gICAgICB0aGlzLnZhbHVlVG8gPSB0aGlzLmNoZWNrVmFsdWUodGhpcy52YWx1ZVRvKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZVRvICE9PSB1bmRlZmluZWQgJiYgdGhpcy52YWx1ZUZyb20gPiB0aGlzLnZhbHVlVG8gJiYgdGhpcy5pc1JhbmdlKSB7XG4gICAgICBbdGhpcy52YWx1ZUZyb20sIHRoaXMudmFsdWVUb10gPSBbdGhpcy52YWx1ZVRvLCB0aGlzLnZhbHVlRnJvbV07XG4gICAgfVxuXG4gICAgdGhpcy5yZXN1bHRPYmplY3QudmFsdWVGcm9tID0gdGhpcy52YWx1ZUZyb207XG4gICAgaWYgKHRoaXMuaXNSYW5nZSkgdGhpcy5yZXN1bHRPYmplY3QudmFsdWVUbyA9IHRoaXMudmFsdWVUbztcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tWYWx1ZSh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBsZXQgcmVzdWx0ID0gdmFsdWU7XG4gICAgaWYgKE51bWJlci5pc05hTihyZXN1bHQpKSByZXN1bHQgPSAwO1xuICAgIGlmIChyZXN1bHQgPT09IHRoaXMubWF4KSB7XG4gICAgICByZXN1bHQgPSB0aGlzLm1heDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdCAlIHRoaXMuc3RlcCAhPT0gMCAmJiByZXN1bHQgIT09IHRoaXMubWluKSB7XG4gICAgICBjb25zdCBjb3VudFN0ZXAgPSBNYXRoLnJvdW5kKChyZXN1bHQgLSB0aGlzLm1pbikgLyB0aGlzLnN0ZXApO1xuICAgICAgY29uc3QgY291bnRWYWwgPSB0aGlzLm1pbiArICh0aGlzLnN0ZXAgKiBjb3VudFN0ZXApO1xuICAgICAgcmVzdWx0ID0gY291bnRWYWw7XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdCA+IHRoaXMubWF4KSB7XG4gICAgICByZXN1bHQgPSB0aGlzLm1heDtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0IDwgdGhpcy5taW4pIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMubWluO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrUGVyY2VudHMoKTogdm9pZCB7XG4gICAgdGhpcy50aHVtYlBlcmNlbnRGcm9tID0gdGhpcy5jaGVja1BlcmNlbnQoJ3ZhbHVlRnJvbScpO1xuICAgIHRoaXMucmVzdWx0T2JqZWN0LnRodW1iUGVyY2VudEZyb20gPSB0aGlzLnRodW1iUGVyY2VudEZyb207XG4gICAgaWYgKHRoaXMuaXNSYW5nZSkge1xuICAgICAgdGhpcy50aHVtYlBlcmNlbnRUbyA9IHRoaXMuY2hlY2tQZXJjZW50KCd2YWx1ZVRvJyk7XG4gICAgICB0aGlzLnJlc3VsdE9iamVjdC50aHVtYlBlcmNlbnRUbyA9IHRoaXMudGh1bWJQZXJjZW50VG87XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1BlcmNlbnQodmFsdWU6IFRodW1iSUQgPSAndmFsdWVGcm9tJyk6IG51bWJlciB7XG4gICAgY29uc3QgdmFsT2ZSYW5nZSA9IHRoaXNbdmFsdWVdIC0gdGhpcy5taW47XG4gICAgY29uc3QgY3VycmVudFBlcmNlbnQgPSBOdW1iZXIoKHZhbE9mUmFuZ2UgLyAodGhpcy5maW5kUmFuZ2UoKSAvIDEwMCkpLnRvRml4ZWQoMykpO1xuICAgIHJldHVybiBjdXJyZW50UGVyY2VudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0b3I7XG4iLCJpbXBvcnQgTW9kZWwgZnJvbSAnLi9Nb2RlbCc7XG5pbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4vVmFsaWRhdG9yJztcbmltcG9ydCB7XG4gIE1vZGVsSW5wdXRTdGF0ZSxcbiAgTW9kZWxJbnRlcmZhY2UsXG4gIE1vZGVsVmFsLFxuICBTbGlkZXJJbnRlcmZhY2UsXG4gIFN0ZXBzTWFwLFxuICBUaHVtYklELFxuICBWYWxpZGF0ZVNsaWRlckRhdGEsXG59IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IE9ic2VydmVyIGZyb20gJy4uLy4uL09ic2VydmVyL09ic2VydmVyJztcbmltcG9ydCB7IE1PREVMX0VWRU5UUyB9IGZyb20gJy4uLy4uL09ic2VydmVyL2V2ZW50cyc7XG5cbmNsYXNzIE1vZGVsRmFjYWRlIGV4dGVuZHMgT2JzZXJ2ZXIge1xuICBwcml2YXRlIG1vZGVsOiBNb2RlbDtcblxuICBwcml2YXRlIHZhbGlkYXRvcjogVmFsaWRhdG9yO1xuXG4gIHByaXZhdGUgdmFsaWRTdGF0ZTogTW9kZWxJbnRlcmZhY2U7XG5cbiAgcHJpdmF0ZSBwcmV2TW92ZSE6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogTW9kZWxJbnB1dFN0YXRlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3Ioc3RhdGUpO1xuICAgIHRoaXMudmFsaWRTdGF0ZSA9IHRoaXMudmFsaWRhdG9yLnZhbGlkYXRlRGF0YShzdGF0ZSk7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCh0aGlzLnZhbGlkU3RhdGUpO1xuICB9XG5cbiAgcHVibGljIHNldFN0YXRlKHN0YXRlOiBNb2RlbElucHV0U3RhdGUpOiB2b2lkIHtcbiAgICBjb25zdCB2YWxpZFN0YXRlID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVEYXRhKHN0YXRlKTtcbiAgICB0aGlzLm1vZGVsLnNldFN0YXRlKHZhbGlkU3RhdGUpO1xuICB9XG5cbiAgcHVibGljIGdldFN0YXRlKCk6IFNsaWRlckludGVyZmFjZSB7XG4gICAgaWYgKHRoaXMubW9kZWwuZ2V0U3RhdGUoKS5zY2FsZU1hcmtzKSB7XG4gICAgICBjb25zdCBzbGlkZXJNYXJrcyA9IHRoaXMudmFsaWRHYXBNYXJrcygpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhpcy5tb2RlbC5nZXRTdGF0ZSgpLFxuICAgICAgICBzY2FsZU1hcDogc2xpZGVyTWFya3MsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tb2RlbC5nZXRTdGF0ZSgpO1xuICB9XG5cbiAgcHVibGljIGdldE1vZGVsKCk6IE1vZGVsIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRWYWxpZGF0b3IoKTogVmFsaWRhdG9yIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0b3I7XG4gIH1cblxuICBwdWJsaWMgZ2V0VmFsdWUodmFsdWU6IE1vZGVsVmFsKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWwuZ2V0U3RhdGUoKVtgJHt2YWx1ZX1gXTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoZGF0YTogVmFsaWRhdGVTbGlkZXJEYXRhKTogdm9pZCB7XG4gICAgY29uc3QgdHlwZURhdGEgPSBkYXRhLnBlcmNlbnQgPT09IHVuZGVmaW5lZCA/ICdzY2FsZU1vdmUnIDogJ21hcmtNb3ZlJztcblxuICAgIGlmICh0eXBlRGF0YSA9PT0gJ3NjYWxlTW92ZScpIHtcbiAgICAgIGNvbnN0IG1vdmVkVG8gPSB0aGlzLnZhbGlkYXRvci5wZXJmb3JtTW92ZVRvUGVyY2VudChkYXRhKTtcbiAgICAgIGxldCB7IHRodW1iSWQgfSA9IGRhdGE7XG4gICAgICBpZiAodGh1bWJJZCA9PT0gdW5kZWZpbmVkKSB0aHVtYklkID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVUaHVtYklkKG1vdmVkVG8pO1xuICAgICAgaWYgKG1vdmVkVG8gPT09IHRoaXMucHJldk1vdmUpIHJldHVybjtcblxuICAgICAgdGhpcy5wcmV2TW92ZSA9IG1vdmVkVG87XG4gICAgICB0aGlzLm1vZGVsLnVwZGF0ZVN0YXRlTW92ZShtb3ZlZFRvLCB0aHVtYklkIGFzIFRodW1iSUQpO1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLm1vZGVsLmdldFN0YXRlKCk7XG4gICAgICBjb25zdCB2YWxpZFN0YXRlID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVEYXRhKG5ld1N0YXRlKTtcbiAgICAgIHRoaXMubW9kZWwuc2V0U3RhdGUodmFsaWRTdGF0ZSk7XG5cbiAgICAgIGlmIChuZXdTdGF0ZS5zY2FsZU1hcmtzKSB7XG4gICAgICAgIHRoaXMuZW1pdChNT0RFTF9FVkVOVFMuVkFMVUVfQ0hBTkdFRCwge1xuICAgICAgICAgIC4uLnRoaXMubW9kZWwuZ2V0U3RhdGUoKSxcbiAgICAgICAgICBzY2FsZU1hcDogdGhpcy52YWxpZEdhcE1hcmtzKCksXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbWl0KE1PREVMX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB0aGlzLm1vZGVsLmdldFN0YXRlKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLnBlcmNlbnQgIT09IHVuZGVmaW5lZCAmJiBkYXRhLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZURhdGEgPT09ICdtYXJrTW92ZScpIHtcbiAgICAgIGNvbnN0IHsgcGVyY2VudCwgdmFsdWUgfSA9IGRhdGE7XG4gICAgICBjb25zdCBvbGRTdGF0ZSA9IHRoaXMubW9kZWwuZ2V0U3RhdGUoKTtcbiAgICAgIGNvbnN0IHBlcmZvcm1lZERhdGEgPSB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZVBlcmNlbnQocGVyY2VudCwgdmFsdWUsIG9sZFN0YXRlKTtcbiAgICAgIHRoaXMubW9kZWwuc2V0U3RhdGUocGVyZm9ybWVkRGF0YSk7XG4gICAgICB0aGlzLmVtaXQoTU9ERUxfRVZFTlRTLlZBTFVFX0NIQU5HRUQsIHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNldFZhbHVlKHBhcmFtOiBNb2RlbFZhbCwgdmFsdWU6IG51bWJlciB8IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBvbGRTdGF0ZSA9IHRoaXMubW9kZWwuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4ub2xkU3RhdGUsIFtwYXJhbV06IHZhbHVlIH07XG4gICAgY29uc3QgdmFsaWRTdGF0ZSA9IHRoaXMudmFsaWRhdG9yLnZhbGlkYXRlRGF0YShuZXdTdGF0ZSk7XG4gICAgdGhpcy5tb2RlbC5zZXRTdGF0ZSh2YWxpZFN0YXRlKTtcbiAgICB0aGlzLmVtaXQoTU9ERUxfRVZFTlRTLlZBTFVFX0NIQU5HRUQsIHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gIH1cblxuICBwcml2YXRlIHZhbGlkR2FwTWFya3MoKTogU3RlcHNNYXAge1xuICAgIGNvbnN0IGdhcCA9IHRoaXMubW9kZWwuZ2V0U3RhdGUoKS5zY2FsZVBlcmNlbnRHYXAgfHwgMjA7XG4gICAgY29uc3QgeyBtaW4sIG1heCwgc3RlcCB9ID0gdGhpcy5tb2RlbC5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHNsaWRlck1hcmtzID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVNYXJrcyh7XG4gICAgICBtaW4sIG1heCwgc3RlcCwgZ2FwLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNsaWRlck1hcmtzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGVsRmFjYWRlO1xuIiwiaW1wb3J0IHsgTW9kZWxJbnB1dFN0YXRlLCBNb2RlbFZhbCwgU2xpZGVySW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xuaW1wb3J0IE9ic2VydmVyIGZyb20gJy4uLy4uL09ic2VydmVyL09ic2VydmVyJztcbmltcG9ydCB7IE1PREVMX0VWRU5UUywgU0xJREVSX0VWRU5UUyB9IGZyb20gJy4uLy4uL09ic2VydmVyL2V2ZW50cyc7XG5pbXBvcnQgTW9kZWxGYWNhZGUgZnJvbSAnLi4vTW9kZWwvTW9kZWxGYWNhZGUnO1xuXG5jbGFzcyBQcmVzZW50ZXIgZXh0ZW5kcyBPYnNlcnZlciB7XG4gIHByaXZhdGUgbW9kZWxGYWNhZGU6IE1vZGVsRmFjYWRlO1xuXG4gIHByaXZhdGUgdmlldzogVmlldztcblxuICBjb25zdHJ1Y3Rvcihyb290OiBIVE1MRWxlbWVudCwgc3RhdGU6IE1vZGVsSW5wdXRTdGF0ZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tb2RlbEZhY2FkZSA9IG5ldyBNb2RlbEZhY2FkZShzdGF0ZSk7XG4gICAgdGhpcy52aWV3ID0gbmV3IFZpZXcocm9vdCwgdGhpcy5tb2RlbEZhY2FkZS5nZXRTdGF0ZSgpKTtcbiAgICB0aGlzLnN1YnNjcmliZU1vZGVsKCk7XG4gICAgdGhpcy5zdWJzY3JpYmVTbGlkZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdGF0ZSgpOiBTbGlkZXJJbnRlcmZhY2Uge1xuICAgIHJldHVybiB0aGlzLm1vZGVsRmFjYWRlLmdldFN0YXRlKCk7XG4gIH1cblxuICBwdWJsaWMgc2V0TmV3U3RhdGUoc3RhdGU6IE1vZGVsSW5wdXRTdGF0ZSk6IHZvaWQge1xuICAgIHRoaXMubW9kZWxGYWNhZGUuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG5cbiAgcHVibGljIHNldFZhbHVlKHBhcmFtOiBNb2RlbFZhbCwgdmFsdWU6IG51bWJlciB8IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLm1vZGVsRmFjYWRlLnNldFZhbHVlKHBhcmFtLCB2YWx1ZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VmFsdWUocGFyYW06IE1vZGVsVmFsKTogbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubW9kZWxGYWNhZGUuZ2V0VmFsdWUocGFyYW0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJzY3JpYmVTbGlkZXIoKTogdm9pZCB7XG4gICAgdGhpcy52aWV3LmFkZFN1YnNjcmliZXIoU0xJREVSX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB0aGlzLm1vZGVsRmFjYWRlKTtcbiAgfVxuXG4gIHByaXZhdGUgc3Vic2NyaWJlTW9kZWwoKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbEZhY2FkZS5hZGRTdWJzY3JpYmVyKE1PREVMX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB0aGlzLnZpZXcpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRlcjtcbiIsImNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgbWluOiAwLFxuICBtYXg6IDEwMCxcbiAgdmFsdWVGcm9tOiAwLFxuICB2YWx1ZVRvOiAwLFxuICBzdGVwOiAxLFxuICBzY2FsZVBlcmNlbnRHYXA6IDEwLFxuICBzY2FsZU1hcmtzOiBmYWxzZSxcbiAgaXNUaXA6IGZhbHNlLFxuICBpc1Byb2dyZXNzOiBmYWxzZSxcbiAgaXNSYW5nZTogZmFsc2UsXG4gIGlzVmVydGljYWw6IGZhbHNlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5pdGlhbFN0YXRlO1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBQcmVzZW50ZXIgZnJvbSAnLi9jb21wb25lbnRzL1ByZXNlbnRlci9QcmVzZW50ZXInO1xuaW1wb3J0IGluaXRpYWxTdGF0ZSBmcm9tICcuL3N0YXRlJztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSlF1ZXJ5IHtcbiAgICBzbGlkZXJQbHVnaW4ob3B0aW9uczogb2JqZWN0KTogUHJlc2VudGVyXG4gIH1cbn1cblxuJC5mbi5zbGlkZXJQbHVnaW4gPSBmdW5jdGlvbiBzbGlkZXJQbHVnaW4ob3B0aW9uczogb2JqZWN0KTogUHJlc2VudGVyIHtcbiAgY29uc3Qgc3RhdGUgPSB7IC4uLmluaXRpYWxTdGF0ZSwgLi4ub3B0aW9ucyB9O1xuICBjb25zdCBzbGlkZXIgPSBuZXcgUHJlc2VudGVyKHRoaXNbMF0sIHN0YXRlKTtcbiAgcmV0dXJuIHNsaWRlcjtcbn07XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJvYnNlcnZlcnMiLCJhZGRTdWJzY3JpYmVyIiwiZXZlbnQiLCJvYnNlcnZlciIsInRoaXMiLCJrZXlzIiwicmVtb3ZlU3Vic2NyaWJlciIsImZpbHRlciIsIm9icyIsImVtaXQiLCJkYXRhIiwiZm9yRWFjaCIsInVwZGF0ZSIsIk1PREVMX0VWRU5UUyIsIlNMSURFUl9FVkVOVFMiLCJPYnNlcnZlciIsInJvb3QiLCJpc1ZlcnRpY2FsIiwic3VwZXIiLCJkaXJlY3Rpb24iLCJzdGFydFBvaW50Iiwic2l6ZSIsIm1vZCIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwZXJmb3JtTW91c2VNb3ZlIiwidGh1bWJQb3MiLCJpZCIsImhhbmRsZVRodW1iTW91c2VNb3ZlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZWxlbVNpemUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJuZXdQb3MiLCJjb29yZHNNb3ZlIiwidGh1bWJJZCIsImhhbmRsZVRodW1iTW91c2VVcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicGVyZm9ybVRvdWNoTW92ZSIsImhhbmRsZVRodW1iVG91Y2hNb3ZlIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwidG91Y2hlcyIsImhhbmRsZVRodW1iVG91Y2hFbmQiLCJwZXJmb3JtS2V5RG93biIsImtleUV2ZW50IiwicGVyZm9ybUNsaWNrTWFyayIsInBlcmNlbnQiLCJ2YWx1ZSIsIlNsaWRlckNvbXBvbmVudHMiLCJwb3NpdGlvblN0YXJ0IiwicG9zaXRpb25FbmQiLCJwcm9ncmVzcyIsInNldFByb2dyZXNzIiwic3R5bGUiLCJhcHBlbmQiLCJzZXRQcm9ncmVzc1Bvc2l0aW9uIiwiaW5pdFNjYWxlIiwiZ2V0U2NhbGUiLCJzY2FsZSIsImNsYXNzTGlzdCIsImFkZCIsImFkZFNjYWxlIiwiYWRkTGlzdGVuZXJzIiwiaGFuZGxlU2NhbGVDbGljayIsImJpbmQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiY29udGFpbnMiLCJzY2FsZVNpemUiLCJzY2FsZVN0YXJ0IiwiZW1pdERhdGEiLCJtYXJrcyIsImluaXQiLCJjcmVhdGVNYXJrcyIsImhhbmRsZVJvb3RDbGljayIsImRhdGFzZXQiLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJjcmVhdGVNYXJrIiwibWFyayIsIm1hcmtWYWx1ZSIsImlubmVyVGV4dCIsInZhbHVlcyIsInRodW1iUGVyY2VudCIsImluaXRUaHVtYiIsInRodW1iRWxlbWVudCIsInRhYkluZGV4Iiwic2V0UG9zaXRpb24iLCJjaGVja1pJbmQiLCJnZXRUaHVtYiIsImdldFRodW1iSWQiLCJ6SW5kZXgiLCJoYW5kbGVUaHVtYk1vdXNlRG93biIsImhhbmRsZVRodW1iS2V5RG93biIsImhhbmRsZVRodW1iVG91Y2giLCJzaXplRWxlbWVudCIsIm1vdmVkIiwia2V5IiwicGVyY2VudFBvc2l0aW9uIiwidmFsdWVUaXAiLCJ0aXAiLCJjcmVhdGVUaXAiLCJhZGRUaXAiLCJzZXRWYWx1ZVRpcCIsImhpZGVUaXAiLCJkaXNwbGF5Iiwic2hvd1RpcCIsIlNsaWRlciIsInN0YXRlIiwiY3JlYXRlVmFyaWFibGVzIiwiaW5pdFNsaWRlciIsInNldFN0YXRlIiwic2xpZGVyV3JhcHBlciIsInNsaWRlckNvbXBvbmVudHMiLCJzY2FsZUVsZW1lbnQiLCJzbGlkZXJEYXRhIiwidGh1bWJQZXJjZW50RnJvbSIsInZhbHVlRnJvbSIsImlzUmFuZ2UiLCJ0aHVtYlBlcmNlbnRUbyIsInZhbHVlVG8iLCJzZXRUaHVtYnMiLCJzZXRUaXBzIiwidGh1bWJGcm9tIiwic2xpZGVyIiwicXVlcnlTZWxlY3RvciIsInNldFRodW1iIiwidGh1bWJUbyIsIlRodW1iIiwiaXNUaXAiLCJ0aXBGcm9tIiwidGlwVmFsdWVGcm9tIiwiaXNOZWVkRG91YmxlVGlwIiwiX2EiLCJ0aXBUbyIsIl9iIiwiX2MiLCJ0aXBWYWx1ZVRvIiwic2V0VGlwIiwidmFsdWVEaXJlY3Rpb24iLCJ0aXBWYWx1ZSIsIlRpcCIsIlByb2dyZXNzIiwiaXNQcm9ncmVzcyIsImNyZWF0ZVNsaWRlciIsImNyZWF0ZUVsZW1lbnRzIiwiYWRkU2xpZGVyIiwic2NhbGVNYXAiLCJzY2FsZU1hcmtzIiwiaXNTY2FsZU1hcmtzIiwiU2NhbGUiLCJTY2FsZU1hcmtzIiwiaW5pdFZpZXciLCJ1cGRhdGVTbGlkZXIiLCJhZGRTdWJzY3JpYmVTbGlkZXIiLCJUaHVtYlZhbFBlcmNlbnQiLCJvbGRTdGF0ZSIsIk9iamVjdCIsImdldFN0YXRlIiwidXBkYXRlU3RhdGVNb3ZlIiwibW92ZWRUbyIsInRodW1iIiwiZmluZFN1aXRhYmxlUGVyY2VudCIsImdldFZhbHVlIiwidmFsIiwiZ2V0UGVyY2VudFZhbCIsIm1pbiIsIm1heCIsInRvRml4ZWQiLCJzdGVwUGVyY2VudCIsInN0ZXAiLCJmaW5kVmFsUGVyY2VudCIsInBlcmNlbnRNb3ZlIiwibmVhcmVzdFByZXZDb3VudFN0ZXAiLCJNYXRoIiwiZmxvb3IiLCJuZWFyZXN0TmV4dENvdW50U3RlcCIsImNlaWwiLCJwcmV2U3RlcCIsIm5leHRTdGVwIiwicHJldlBlcmNlbnQiLCJuZXh0UGVyY2VudCIsImhhbGZTdGVwIiwiYWxsU3RlcHMiLCJiZWZvcmVFbmRQZXJjZW50IiwiaGFuZGxlTW92ZSIsImhhbmRsZU1vdmVGcm9tIiwiaGFuZGxlTW92ZVRvIiwiaXNWYWxUaGVTYW1lUG9zIiwidmFsdWVBbm90aGVyVGh1bWIiLCJpZFZhbCIsInVwZGF0ZU1vdmVkIiwiY29tcGFyZVZhbCIsImZpbmRSYW5nZSIsImlzTmFOIiwiRXJyb3IiLCJ0aHVtYlBlY2VudCIsIkRFRkFVTFRfR0FQIiwidmFsaWRhdGVEYXRhIiwicHJldkJvb2wiLCJzZXRCb29sZWFucyIsInNldERhdGEiLCJyZXN1bHRPYmplY3QiLCJjaGVja1JhbmdlIiwiY2hlY2tTdGVwIiwiY2hlY2tWYWx1ZXMiLCJjaGVja1BlcmNlbnRzIiwicGVyZm9ybU1vdmVUb1BlcmNlbnQiLCJ2YWxpZGF0ZU1hcmtzIiwib3B0aW9ucyIsImdhcCIsIm1hcFN0ZXBzIiwiTWFwIiwidmFsaWRHYXAiLCJ2YWxpZGF0ZUdhcCIsInN0ZXBDb3VudEdhcCIsInBlcmNlbnRDb3VudHNHYXAiLCJpIiwidmFsdWVTdGVwcyIsInJvdW5kIiwicGVyY2VudFNjYWxlIiwic2V0IiwidmFsaWRhdGVUaHVtYklkIiwiZGlmZkZyb20iLCJkaWZmVG8iLCJ2YWxpZGF0ZVBlcmNlbnQiLCJuZXdEYXRlIiwidGh1bWJWYWx1ZSIsInNjYWxlUGVyY2VudEdhcCIsImJhc2lzUGVyY2VudCIsInJlc3VsdCIsImFsbFJhbmdlIiwiY2hlY2tWYWx1ZSIsImNvdW50U3RlcCIsImNoZWNrUGVyY2VudCIsInZhbE9mUmFuZ2UiLCJ2YWxpZGF0b3IiLCJWYWxpZGF0b3IiLCJ2YWxpZFN0YXRlIiwibW9kZWwiLCJNb2RlbCIsInNsaWRlck1hcmtzIiwidmFsaWRHYXBNYXJrcyIsImdldE1vZGVsIiwiZ2V0VmFsaWRhdG9yIiwidHlwZURhdGEiLCJwcmV2TW92ZSIsIm5ld1N0YXRlIiwicGVyZm9ybWVkRGF0YSIsInNldFZhbHVlIiwicGFyYW0iLCJtb2RlbEZhY2FkZSIsIk1vZGVsRmFjYWRlIiwidmlldyIsIlZpZXciLCJzdWJzY3JpYmVNb2RlbCIsInN1YnNjcmliZVNsaWRlciIsInNldE5ld1N0YXRlIiwiJCIsImluaXRpYWxTdGF0ZSIsIlByZXNlbnRlciJdLCJzb3VyY2VSb290IjoiIn0=