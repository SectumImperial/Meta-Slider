"use strict";(self.webpackChunkmeta_slider=self.webpackChunkmeta_slider||[]).push([[419],{419:function(e,t,s){var i=s(755),a=s.n(i);const r="VALUE_CHANGED",o="VALUE_START_CHANGE",n="DATA_COLLECTED",l="VALUE_CHANGED",h=" SCALE_CLICKED",m="KEY_DOWN",u="MARK_CLICKED";var c=class{constructor(){this.observers=Object.create(null)}addSubscriber(e,t){if(this.observers[e]){const s=this.observers[e];this.observers[e]=[...s,t]}else this.observers[e]=[t]}removeSubscriber(e,t){this.observers[e]=(this.observers[e]||[]).filter((e=>e!==t))}emit(e,t){(this.observers[e]||[]).forEach((s=>{s.update(t,e)}))}};var b=class extends c{constructor(e,t){super(),this.isVertical=t,this.direction=this.isVertical?"clientY":"clientX",this.startPoint=this.isVertical?"top":"left",this.size=this.isVertical?"height":"width",this.mod=this.isVertical?"vertical":"horizontal",this.root=e}static createElement(e){const t=document.createElement("div");return t.className=e,t}performPointerMove(e,t){const s=s=>{s.preventDefault();const i=this.root.getBoundingClientRect()[this.startPoint],a=s[this.direction]-e-i;this.emit(o,{coordsMove:a,ThumbAttr:t})},i=()=>{document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",i)};document.addEventListener("pointermove",s),document.addEventListener("pointerup",i)}performTouchMove(e,t){const s=s=>{s.stopImmediatePropagation();const i=this.root.getBoundingClientRect()[this.startPoint],a=s.touches[0][this.direction]-e-i;this.emit(o,{coordsMove:a,ThumbAttr:t})},i=()=>{document.removeEventListener("touchmove",s),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",s),document.addEventListener("touchend",i)}performKeyDown(e,t){this.emit(m,{keyEvent:e,ThumbAttr:t})}performClickMark(e,t){this.emit(u,{percent:e,value:t})}};var d=class extends b{constructor(e){const{root:t,positionStart:s,positionEnd:i,isVertical:a}=e;super(t,a),this.positionStart=s,this.positionEnd=i,this.progress=b.createElement("plugin-slider__progress js-plugin-slider__progress"),this.setProgress()}setProgress(){this.progress.style[this.startPoint]=`${this.positionStart}%`,this.progress.style[this.size]=`${this.positionEnd}%`,this.root.append(this.progress)}setProgressPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;this.progress.style[this.startPoint]=`${e}%`,this.progress.style[this.size]=`${t}%`}};var v=class extends b{constructor(e,t){super(e,t),this.scale=b.createElement("plugin-slider__scale js-plugin-slider__scale"),this.handleScalePointerDown=this.handleScalePointerDown.bind(this),this.init()}getScale(){return this.scale||(this.scale=b.createElement("plugin-slider__scale")),this.scale}init(){const e=this.isVertical?"plugin-slider__scale_orientation_vertical":"plugin-slider__scale_orientation_horizontal";this.scale.classList.add(e),this.addScale(),this.addListeners()}addScale(){this.root.append(this.scale)}addListeners(){this.scale.addEventListener("pointerdown",this.handleScalePointerDown)}handleScalePointerDown(e){const t=e.target;if(!t.closest(".plugin-slider__scale")||t.classList.contains("plugin-slider__mark-value"))return;const s=this.scale.getBoundingClientRect(),i=s[this.size],a=s[this.startPoint],r=e[this.direction]-a;r>i||r<0||this.emitData(r,i)}emitData(e,t){const s={coordsMove:e,scaleSize:t};this.emit(h,s)}};const p="plugin-slider__mark_hidden";var P=class extends b{constructor(e,t,s){super(e,s),this.marks=t,this.init()}init(){this.createMarks(),this.addListeners(),this.adjustMarkVisibility()}addListeners(){this.root.addEventListener("click",this.handleRootClick.bind(this))}handleRootClick(e){const t=e.target,{value:s,percent:i}=t.dataset;t.classList.contains("plugin-slider__mark-value")&&void 0!==i&&this.performClickMark(Number(i),Number(s))}createMarks(){this.marks.forEach(((e,t)=>{this.createMark(t,e)}))}createMark(e,t){const s=this.createMarkElement(t),i=this.createMarkValueElement(e,t);s.append(i),this.root.append(s)}createMarkElement(e){const t=b.createElement("plugin-slider__mark js-plugin-slider__mark");return t.classList.add(`plugin-slider__mark_${this.mod}`),t.style[this.startPoint]=`${e}%`,t}createMarkValueElement(e,t){const s=document.createElement("span");return s.className=`plugin-slider__mark-value plugin-slider__mark-value_${this.mod}`,s.dataset.value=`${e}`,s.dataset.percent=`${t}`,s.innerText=`${e}`,s}adjustMarkVisibility(){const e=Array.from(this.root.querySelectorAll(".plugin-slider__mark"));let t=null;e.forEach((e=>{const s=e.querySelector(".plugin-slider__mark-value"),i=s?Number(s.getAttribute("data-percent")):null;if(null===t)return e.classList.remove(p),void(t=i);(null!==i?i-t:0)<5?e.classList.add(p):(e.classList.remove(p),t=i)}))}};var g=class extends b{constructor(e){const{root:t,thumbPercent:s=0,attr:i="valueFrom",isVertical:a,minValue:r,maxValue:o}=e;super(t,a),this.thumbPercent=s,this.thumbAttr=i,this.minValue=r,this.maxValue=o,this.handleThumbPointerDown=this.handleThumbPointerDown.bind(this),this.handleThumbKeyDown=this.handleThumbKeyDown.bind(this),this.handleThumbTouch=this.handleThumbTouch.bind(this),this.init()}init(){this.thumbElement=this.createThumb(),this.thumbElement.setAttribute("data-thumb-attr",this.thumbAttr),this.thumbElement.tabIndex=1,this.root.append(this.thumbElement),this.setPosition(this.thumbPercent),this.addListeners()}setPosition(e){if(this.thumbPercent=e,this.checkZInd(),void 0!==this.thumbElement){this.thumbElement.style[this.startPoint]=`${this.thumbPercent}%`;const e=this.minValue+this.thumbPercent/100*(this.maxValue-this.minValue);this.thumbElement.setAttribute("aria-valuenow",e.toString())}}getThumb(){return this.thumbElement}getThumbAttr(){return this.thumbAttr}addListeners(){void 0!==this.thumbElement&&(this.thumbElement.addEventListener("pointerdown",this.handleThumbPointerDown),this.thumbElement.addEventListener("keydown",this.handleThumbKeyDown),this.thumbElement.addEventListener("touchstart",this.handleThumbTouch))}createThumb(){const e=b.createElement("plugin-slider__thumb js-plugin-slider__thumb");return e.setAttribute("role","slider"),e.setAttribute("aria-valuemin",this.minValue.toString()),e.setAttribute("aria-valuemax",this.maxValue.toString()),e.setAttribute("aria-valuenow",this.thumbPercent.toString()),e.setAttribute("aria-label","Value slider"),e}checkZInd(){void 0!==this.thumbElement&&("valueFrom"===this.thumbAttr&&100===this.thumbPercent&&(this.thumbElement.style.zIndex="10"),"valueFrom"===this.thumbAttr&&this.thumbPercent<100&&(this.thumbElement.style.zIndex="5"),"valueTo"===this.thumbAttr&&0===this.thumbPercent&&(this.thumbElement.style.zIndex="10"),"valueTo"===this.thumbAttr&&this.thumbPercent>0&&(this.thumbElement.style.zIndex="5"))}handleThumbTouch(e){if(e.preventDefault(),void 0===this.thumbElement)return;const t=this.thumbElement.getBoundingClientRect()[this.startPoint];this.moved=e.touches[0][this.direction]-(t+this.thumbElement.getBoundingClientRect()[this.size]/2),super.performTouchMove(this.moved,this.thumbAttr)}handleThumbPointerDown(e){e.preventDefault(),void 0!==this.thumbElement&&(this.moved=e[this.direction]-(this.thumbElement.getBoundingClientRect()[this.startPoint]+this.thumbElement.getBoundingClientRect()[this.size]/2),this.checkZInd(),super.performPointerMove(this.moved,this.thumbAttr))}handleThumbKeyDown(e){if("Tab"===e.key)return;e.preventDefault();const{key:t}=e;"ArrowLeft"!==t&&"ArrowUp"!==t&&"ArrowRight"!==t&&"ArrowDown"!==t||e.preventDefault(),("ArrowLeft"===t&&!this.isVertical||"ArrowUp"===t&&this.isVertical)&&super.performKeyDown("decrement",this.thumbAttr),("ArrowRight"===t&&!this.isVertical||"ArrowDown"===t&&this.isVertical)&&super.performKeyDown("increment",this.thumbAttr)}};var T=class extends b{constructor(e){const{root:t,percentPosition:s,valueTip:i,isVertical:a}=e;super(t,a),this.percentPosition=s,this.valueTip=i,this.tip=this.createTip(),this.addTip()}setValueTip(e){this.tip.innerText=`${e}`}hideTip(){this.tip.style.display="none"}showTip(){this.tip.style.display=""}setPosition(e,t){this.tip.style[this.startPoint]=`${e}%`,this.tip.innerText=`${t}`}createTip(){const e=b.createElement("plugin-slider__tip js-plugin-slider__tip");return e.classList.add(`plugin-slider__tip_${this.mod}`),e.innerText=`${this.valueTip}`,e.style[super.startPoint]=`${this.percentPosition}%`,e}addTip(){this.root.append(this.tip)}};class V extends c{constructor(e,t){super(),this.state=t,this.dom={slider:void 0,scaleElement:void 0,root:e},this.numberVariables={tipValueFrom:0,thumbPercentFrom:0,thumbPercentTo:void 0,tipValueTo:void 0},this.booleanVariables={isProgress:!1,isRange:!1,isVertical:!1,isTip:!1,isScaleMarks:!1},this.classElements={thumbFrom:void 0,thumbTo:void 0,scale:void 0,scaleMarks:void 0,tipFrom:void 0,tipTo:void 0,progress:void 0,sliderComponents:void 0},this.createVariables(e,t),this.init(),this.setState(t)}static createSlider(){const e=document.createElement("div");return e.className="plugin-slider js-plugin-slider",e}update(e,t){if(void 0===this.dom)return;if(void 0===this.classElements.sliderComponents||void 0===this.dom.scaleElement)return;const{size:s}=this.classElements.sliderComponents,i=this.dom.scaleElement.getBoundingClientRect()[s];if(t===o){const t=Object.assign(Object.assign({},e),{scaleSize:i});this.emit(n,t)}else this.emit(n,e)}setState(e){const{thumbPercentFrom:t,valueFrom:s,isRange:i,thumbPercentTo:a,valueTo:r}=e;this.setThumbs(t,a,i),this.setTips(s,r,i),this.setProgress(t,a,i)}setThumbs(e,t,s){if(void 0!==this.classElements.thumbFrom&&void 0!==this.numberVariables&&void 0!==this.dom){if(this.numberVariables.thumbPercentFrom=e,this.classElements.thumbFrom.setPosition(this.numberVariables.thumbPercentFrom),s&&void 0!==this.dom.slider){null===this.dom.slider.querySelector('[data-thumb-attr="valueTo"')&&void 0!==t&&this.setThumb("valueTo",t)}s&&void 0!==t&&this.classElements.thumbTo&&(this.numberVariables.thumbPercentTo=t,this.classElements.thumbTo.setPosition(this.numberVariables.thumbPercentTo))}}setThumb(e,t){const s="valueTo"===e?"thumbTo":"thumbFrom";void 0!==this.dom&&void 0!==this.booleanVariables&&void 0!==this.dom.scaleElement&&void 0!==this.booleanVariables.isVertical&&(this.classElements[s]=new g({root:this.dom.scaleElement,thumbPercent:t,attr:e,isVertical:this.booleanVariables.isVertical,minValue:this.state.min,maxValue:this.state.max}))}setTips(e,t,s){var i,a,r;if(void 0===this.booleanVariables)return;if(void 0===this.numberVariables)return;const{isTip:o}=this.booleanVariables;if(o&&this.classElements.tipFrom){if(this.numberVariables.tipValueFrom=e,void 0===this.numberVariables.thumbPercentFrom)return;this.classElements.tipFrom.setPosition(this.numberVariables.thumbPercentFrom,this.numberVariables.tipValueFrom)}this.isNeedDoubleTip()?(null===(i=this.classElements.tipFrom)||void 0===i||i.setValueTip(`${e} - ${t}`),null===(a=this.classElements.tipTo)||void 0===a||a.hideTip()):null===(r=this.classElements.tipTo)||void 0===r||r.showTip(),s&&this.classElements.tipTo&&void 0!==t&&this.numberVariables.thumbPercentTo&&(this.numberVariables.tipValueTo=t,this.classElements.tipTo.setPosition(this.numberVariables.thumbPercentTo,this.numberVariables.tipValueTo))}setTip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"valueFrom";var t;const s="valueFrom"===e?"tipValueFrom":"tipValueTo",i="valueFrom"===e?"tipFrom":"tipTo",a="valueFrom"===e?"thumbPercentFrom":"thumbPercentTo";void 0!==this.numberVariables&&void 0!==this.dom&&void 0!==this.booleanVariables&&("valueTo"===e&&void 0===this.numberVariables[a]||void 0!==this.dom.scaleElement&&void 0!==this.booleanVariables.isVertical&&(this.classElements[i]=new T({root:this.dom.scaleElement,percentPosition:null!==(t=this.numberVariables[a])&&void 0!==t?t:0,valueTip:s,isVertical:this.booleanVariables.isVertical})))}setProgress(e,t,s){var i,a,r;if(void 0===this.dom)return;if(void 0===this.booleanVariables)return;if(void 0===this.numberVariables)return;if(void 0===this.dom.slider)return;if(null===this.dom.slider.querySelector(".js-plugin-slider__progress")){const e="number"==typeof t?t:0;if(void 0===this.dom.scaleElement||void 0===this.booleanVariables.isVertical||void 0===this.numberVariables.thumbPercentFrom)return;this.classElements.progress=new d({root:this.dom.scaleElement,positionStart:this.numberVariables.thumbPercentFrom,positionEnd:e,isVertical:this.booleanVariables.isVertical})}this.booleanVariables.isProgress&&s&&t&&(null===(i=this.classElements.progress)||void 0===i||i.setProgressPosition(this.numberVariables.thumbPercentFrom,t-e)),this.booleanVariables.isProgress&&t===e&&(null===(a=this.classElements.progress)||void 0===a||a.setProgressPosition(0,0)),this.booleanVariables.isProgress&&!s&&(null===(r=this.classElements.progress)||void 0===r||r.setProgressPosition(0,this.numberVariables.thumbPercentFrom))}init(){void 0!==this.dom&&(this.dom.slider=V.createSlider(),this.createElements(),this.addSlider())}createVariables(e,t){const{isTip:s,valueFrom:i,valueTo:a,thumbPercentFrom:r,thumbPercentTo:o,isProgress:n,isRange:l,scaleMap:h,isVertical:m,scaleMarks:u}=t;void 0!==this.numberVariables&&(this.numberVariables.thumbPercentFrom=r,o&&(this.numberVariables.thumbPercentTo=o),void 0!==this.booleanVariables&&(this.booleanVariables.isTip=s||!1,this.numberVariables.tipValueFrom=i||0,this.numberVariables.tipValueTo=a||0,this.booleanVariables.isProgress=n||!1,this.booleanVariables.isRange=l||!1,this.booleanVariables.isVertical=m||!1,this.scaleMap=h,this.booleanVariables.isScaleMarks=u,void 0!==this.dom&&(this.dom.root=e)))}createElements(){void 0!==this.dom&&void 0!==this.booleanVariables&&void 0!==this.numberVariables&&void 0!==this.dom.slider&&void 0!==this.booleanVariables.isVertical&&void 0!==this.numberVariables.thumbPercentFrom&&(this.classElements.sliderComponents=new b(this.dom.slider,this.booleanVariables.isVertical),this.classElements.scale=new v(this.dom.slider,this.booleanVariables.isVertical),this.dom.scaleElement=this.classElements.scale.getScale(),this.setThumb("valueFrom",this.numberVariables.thumbPercentFrom),this.booleanVariables.isRange&&void 0!==this.numberVariables.thumbPercentTo&&this.setThumb("valueTo",this.numberVariables.thumbPercentTo),this.booleanVariables.isTip&&this.setTip("valueFrom"),this.booleanVariables.isTip&&this.numberVariables.thumbPercentTo&&this.booleanVariables.isRange&&void 0!==this.numberVariables.tipValueTo&&this.setTip("valueTo"),void 0!==this.booleanVariables.isRange&&this.setProgress(this.numberVariables.thumbPercentFrom,0,this.booleanVariables.isRange),this.scaleMap&&this.booleanVariables.isScaleMarks&&(this.classElements.scaleMarks=new P(this.dom.scaleElement,this.scaleMap,this.booleanVariables.isVertical)))}addSlider(){void 0!==this.dom&&void 0!==this.dom.root&&void 0!==this.dom.slider&&this.dom.root.append(this.dom.slider)}isNeedDoubleTip(){return void 0!==this.booleanVariables&&void 0!==this.numberVariables&&(void 0!==this.numberVariables.thumbPercentTo&&void 0!==this.booleanVariables.isRange&&void 0!==this.numberVariables.thumbPercentFrom&&void 0!==this.booleanVariables.isTip&&(this.numberVariables.thumbPercentTo-this.numberVariables.thumbPercentFrom<=2||0===this.numberVariables.thumbPercentTo&&0===this.numberVariables.thumbPercentFrom))}}var E=V;var F=class extends c{constructor(e,t){super(),this.state=t,this.init(e,t)}updateSlider(e){void 0!==this.slider&&this.slider.setState(e)}update(e,t){t===n&&this.emit(l,e),t===l&&this.updateSlider(e)}getRoot(){return this.root}setRoot(e){this.root=e}getSlider(){return this.slider}setSlider(e){this.slider=e}init(e,t){const{isRange:s}=t;this.root=e,this.isRange=s,this.slider=new E(e,t),this.addSubscribeSlider()}addSubscribeSlider(){void 0!==this.slider&&void 0!==this.slider.classElements&&void 0!==this.slider.booleanVariables&&(void 0!==this.slider.classElements.thumbFrom&&(this.slider.classElements.thumbFrom.addSubscriber(o,this.slider),this.slider.classElements.thumbFrom.addSubscriber(m,this.slider)),this.isRange&&this.slider.classElements.thumbTo&&(this.slider.classElements.thumbTo.addSubscriber(o,this.slider),this.slider.classElements.thumbTo.addSubscriber(m,this.slider)),void 0!==this.slider.classElements.scale&&(this.slider.classElements.scale.addSubscriber(h,this.slider),this.slider.booleanVariables.isScaleMarks&&void 0!==this.slider.classElements.scaleMarks&&this.slider.classElements.scaleMarks.addSubscriber(u,this.slider)),this.slider.addSubscriber(h,this),this.slider.addSubscriber(n,this))}};var S=class{constructor(e){this.handleSliderClick=(e,t)=>{const s=this.findSuitablePercent(e);this.updateStateMove(s.value,t)},this.handleMouseMove=(e,t)=>{const s=this.findPercent(e,t),{value:i}=s;void 0!==i&&"number"==typeof i&&this.updateStateMove(i,t)},this.getValue=e=>this.state[e],this.getPercentVal=()=>{const{valueFrom:e,min:t,max:s}=this.state;return Number((e/(s-t)*100).toFixed(3))},this.getStepsCount=()=>Math.ceil((this.state.max-this.state.min)/this.state.step),this.updateStateMove=(e,t)=>{if(Number.isNaN(e)||e<this.state.min||e>this.state.max)throw new Error("Invalid value provided while updating the model.");this.setState({[t]:e})},this.state=e}setState(e){this.state=Object.assign(Object.assign({},this.state),e)}getState(){return this.state}findSuitablePercent(e){const{step:t,min:s,max:i}=this.state,a=Math.round(e/(100/this.getStepsCount())),r=100/this.getStepsCount()*a;let o;return o=100===r?i:s+t*a,{value:o,percent:r}}findPercent(e,t){const{min:s,max:i,step:a,isRange:r}=this.state,o="valueFrom"===t?"thumbPercentFrom":"thumbPercentTo";let n=this.state[o],l=this.state[t];void 0===l&&(l=s),void 0===n&&("number"==typeof l?void 0===n&&(n=(l-s)/(i-s)*100):(l=s,n=(l-s)/(i-s)*100));const h=n+100/this.getStepsCount(),m=n-100/this.getStepsCount(),u=s+Math.floor(e/100*this.getStepsCount())*a,c=s+Math.ceil(e/100*this.getStepsCount())*a,b=e>=h?u:e<=m?c:l,d=e>=h?(u-s)/(i-s)*100:e<=m?(c-s)/(i-s)*100:e;if("number"!=typeof b)throw new Error("value should be a number");if("valueFrom"===t&&void 0!==this.state.valueTo&&b>this.state.valueTo&&r){const{valueTo:e,thumbPercentTo:t}=this.state;return{valueTo:e,thumbPercentTo:t}}if("valueTo"===t&&void 0!==this.state.valueFrom&&b<this.state.valueFrom&&r){const{valueFrom:e,thumbPercentFrom:t}=this.state;return{valueFrom:e,thumbPercentFrom:t}}return{value:b,percent:d}}};var f=class{constructor(e){this.data=e,this.DEFAULT_GAP=20,this.baseParams={min:0,max:100,valueFrom:0,step:1,valueTo:void 0,stepPercent:10,thumbPercentFrom:void 0,thumbPercentTo:void 0},this.booleanVariables={isTip:!1,isVertical:!1,isProgress:!1,scaleMarks:!1,isRange:!1},this.validateData(e)}validateData(e){return this.setBooleans(e),this.setData(e),this.resultObject=Object.assign(Object.assign(Object.assign({},e),this.booleanVariables),{thumbPercentFrom:0,thumbPercentTo:void 0}),this.checkRange(),this.checkStep(),this.checkValues(),this.checkPercents(),this.resultObject}performMoveToPercent(e){const{coordsMove:t,scaleSize:s,keyEvent:i,ThumbAttr:a}=e;if(void 0!==i&&void 0!==this.baseParams.stepPercent&&void 0!==this.baseParams.thumbPercentFrom){if("increment"===i&&"valueFrom"===a)return this.baseParams.thumbPercentFrom+this.baseParams.stepPercent;if("decrement"===i&&"valueFrom"===a)return this.baseParams.thumbPercentFrom-this.baseParams.stepPercent;if("increment"===i&&"valueTo"===a&&void 0!==this.baseParams.thumbPercentTo)return this.baseParams.thumbPercentTo+this.baseParams.stepPercent;if("decrement"===i&&"valueTo"===a&&void 0!==this.baseParams.thumbPercentTo)return this.baseParams.thumbPercentTo-this.baseParams.stepPercent}if(void 0===t||void 0===s)return 0;let r=Number((t/(s/100)).toFixed(2));return r<0&&(r=0),r>100&&(r=100),r}validateMarks(e){const{step:t,max:s,min:i,gap:a}=e,r=new Map,o=this.validateGap(a),n=this.findRange()/100,l=t/n,h=t*Math.ceil(o/l),m=Math.ceil(h/n);for(let e=0;e<=100;e+=m)if(e<=100-m){const s=t*Math.round(e/l),a=s/n,o=i+s;r.set(o,a)}return r.set(s,100),r}validateThumbAttr(e){if(void 0===this.baseParams.thumbPercentFrom)return"valueTo";if(!this.booleanVariables.isRange)return"valueFrom";if(e<this.baseParams.thumbPercentFrom)return"valueFrom";if(void 0!==this.baseParams.thumbPercentTo&&e>this.baseParams.thumbPercentTo)return"valueTo";if(void 0!==this.baseParams.thumbPercentTo&&e>this.baseParams.thumbPercentFrom&&e<this.baseParams.thumbPercentTo){const t=e-this.baseParams.thumbPercentFrom,s=this.baseParams.thumbPercentTo-e;if(t===s||t<s)return"valueFrom";if(t>s)return"valueTo"}return"valueTo"}validatePercent(e,t,s){const{isRange:i}=s;if(!i){const i=Object.assign(Object.assign({},s),{valueFrom:t,thumbPercentFrom:e});return this.validateData(i)}if(void 0!==s.thumbPercentTo){const{thumbPercentFrom:i,thumbPercentTo:a}=s;let r="thumbPercentFrom",o="valueFrom";if(e>a)r="thumbPercentTo",o="valueTo";else if(e>i&&e<a){e-i>=(a-i)/2&&(r="thumbPercentTo",o="valueTo")}const n=Object.assign(Object.assign({},s),{[o]:t,[r]:e});return this.validateData(n)}return s}setData(e){const{min:t,max:s,valueFrom:i,step:a,scalePercentGap:r,valueTo:o}=e;this.baseParams.min=t,this.baseParams.max=s,this.baseParams.valueFrom=i,this.baseParams.step=a,this.scalePercentGap="number"==typeof r?r:void 0,this.booleanVariables.isRange&&void 0!==o&&(this.baseParams.valueTo=o),this.baseParams.stepPercent=this.baseParams.step/(this.findRange()/100)}setBooleans(e){const{isRange:t,isTip:s,isVertical:i,isProgress:a,scaleMarks:r}=e;this.booleanVariables.isRange="boolean"==typeof t&&t,this.booleanVariables.isTip="boolean"==typeof s&&s,this.booleanVariables.isVertical="boolean"==typeof i&&i,this.booleanVariables.isProgress="boolean"==typeof a&&a,this.booleanVariables.scaleMarks="boolean"==typeof r&&r}validateGap(e){let t=e;return(t<0||t>100)&&(t=this.DEFAULT_GAP),t}checkRange(){Number.isNaN(this.baseParams.min)&&(this.baseParams.min=0),Number.isNaN(this.baseParams.max)&&(this.baseParams.max=10),this.baseParams.min===this.baseParams.max&&(this.baseParams.max=this.baseParams.min+this.baseParams.step),this.baseParams.min>this.baseParams.max&&([this.baseParams.min,this.baseParams.max]=[this.baseParams.max,this.baseParams.min]),this.resultObject.min=this.baseParams.min,this.resultObject.max=this.baseParams.max}checkStep(){Number.isNaN(this.baseParams.step)&&(this.baseParams.step=1);const e=this.findRange();this.baseParams.step>e&&(this.baseParams.step=e),this.baseParams.step<.001&&(this.baseParams.step=.001),this.resultObject.step=this.baseParams.step}findRange(){return this.baseParams.max-this.baseParams.min}checkValues(){this.baseParams.valueFrom=this.checkValue(this.baseParams.valueFrom),this.booleanVariables.isRange&&void 0!==this.baseParams.valueTo&&(this.baseParams.valueTo=this.checkValue(this.baseParams.valueTo)),void 0!==this.baseParams.valueTo&&this.baseParams.valueFrom>this.baseParams.valueTo&&this.booleanVariables.isRange&&([this.baseParams.valueFrom,this.baseParams.valueTo]=[this.baseParams.valueTo,this.baseParams.valueFrom]),this.resultObject.valueFrom=this.baseParams.valueFrom,this.booleanVariables.isRange&&(this.resultObject.valueTo=this.baseParams.valueTo)}checkValue(e){let t=e;if(Number.isNaN(t)&&(t=0),t===this.baseParams.max)return t;if(t%this.baseParams.step!=0&&t!==this.baseParams.min){const e=Math.round((t-this.baseParams.min)/this.baseParams.step);t=this.baseParams.min+this.baseParams.step*e}return t>this.baseParams.max&&(t=this.baseParams.max),t<this.baseParams.min&&(t=this.baseParams.min),t}checkPercents(){this.baseParams.thumbPercentFrom=this.checkPercent("valueFrom"),this.resultObject.thumbPercentFrom=this.baseParams.thumbPercentFrom,this.booleanVariables.isRange&&(this.baseParams.thumbPercentTo=this.checkPercent("valueTo"),this.resultObject.thumbPercentTo=this.baseParams.thumbPercentTo)}checkPercent(e){let t=0;if(e in this.baseParams&&(t=this.baseParams[e]),void 0===t)return 0;const s=t-this.baseParams.min;return Number((s/(this.findRange()/100)).toFixed(3))}};var k=class extends c{constructor(e){super(),this.validator=new f(e);const t=this.validator.validateData(e);this.model=new S(t)}setState(e){const t=this.validator.validateData(e);this.model.setState(t)}getState(){if(this.model.getState().scaleMarks){const e=this.validGapMarks();return Object.assign(Object.assign({},this.model.getState()),{scaleMap:e})}return this.model.getState()}getValue(e){return this.model.getState()[e]}update(e){if(void 0===e.percent){const t=this.validator.performMoveToPercent(e);if(void 0!==e.ThumbAttr&&this.model.handleMouseMove(t,e.ThumbAttr),void 0===e.ThumbAttr){const e=this.validator.validateThumbAttr(t);this.model.handleSliderClick(t,e)}const s=this.model.getState(),i=this.validator.validateData(s);this.model.setState(i),s.scaleMarks?this.emit(r,Object.assign(Object.assign({},this.model.getState()),{scaleMap:this.validGapMarks()})):this.emit(r,this.model.getState())}else{const{percent:t,value:s}=e,i=this.validator.validatePercent(t,s,this.model.getState());this.model.setState(i),this.emit(r,this.model.getState())}}setValue(e,t){const s=this.model.getState(),i=Object.assign(Object.assign({},s),{[e]:t}),a=this.validator.validateData(i);this.model.setState(a),this.emit(r,this.model.getState())}validGapMarks(){const{scalePercentGap:e,min:t,max:s,step:i}=this.model.getState(),a=null!=e?e:20;return this.validator.validateMarks({min:t,max:s,step:i,gap:a})}};var _=class extends c{constructor(e,t){super(),this.modelFacade=new k(t),this.view=new F(e,this.modelFacade.getState()),this.subscribeModel(),this.subscribeSlider()}getState(){return this.modelFacade.getState()}setState(e){this.modelFacade.setState(e)}setValue(e,t){this.modelFacade.setValue(e,t)}getValue(e){return this.modelFacade.getValue(e)}subscribeSlider(){this.view.addSubscriber(l,this.modelFacade)}subscribeModel(){this.modelFacade.addSubscriber(r,this.view)}};var M={min:0,max:100,valueFrom:0,valueTo:0,step:1,scalePercentGap:10,scaleMarks:!1,isTip:!1,isProgress:!1,isRange:!1,isVertical:!1};a().fn.sliderPlugin=function(e){const t=Object.assign(Object.assign({},M),e);return new _(this[0],t)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxHQUVwQyxPQURlLElBQUlpRCxFQUFVL1EsS0FBSyxHQUFJK0gsRUFFeEMsQyIsInNvdXJjZXMiOlsid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL09ic2VydmVyL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9PYnNlcnZlci9PYnNlcnZlci50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9jb21wb25lbnRzL1ZpZXcvc3ViVmlld3MvU2xpZGVyQ29tcG9uZW50cy9TbGlkZXJDb21wb25lbnRzLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9Qcm9ncmVzcy9Qcm9ncmVzcy50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9jb21wb25lbnRzL1ZpZXcvc3ViVmlld3MvU2NhbGUvU2NhbGUudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9WaWV3L3N1YlZpZXdzL1NjYWxlTWFya3MvY29uc3RhbnRzLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9TY2FsZU1hcmtzL1NjYWxlTWFya3MudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9WaWV3L3N1YlZpZXdzL1RodW1iL1RodW1iLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9UaXAvVGlwLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9zdWJWaWV3cy9TbGlkZXIvU2xpZGVyLnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvVmlldy9WaWV3LnRzIiwid2VicGFjazovL21ldGEtc2xpZGVyLy4vc3JjL2NvbXBvbmVudHMvTW9kZWwvTW9kZWwudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9Nb2RlbC9WYWxpZGF0b3IudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvY29tcG9uZW50cy9Nb2RlbC9Nb2RlbEZhY2FkZS50cyIsIndlYnBhY2s6Ly9tZXRhLXNsaWRlci8uL3NyYy9jb21wb25lbnRzL1ByZXNlbnRlci9QcmVzZW50ZXIudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvc3RhdGUudHMiLCJ3ZWJwYWNrOi8vbWV0YS1zbGlkZXIvLi9zcmMvc2xpZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1PREVMX0VWRU5UUyA9IHtcclxuICBWQUxVRV9DSEFOR0VEOiAnVkFMVUVfQ0hBTkdFRCcsXHJcbn07XHJcblxyXG5jb25zdCBTTElERVJfRVZFTlRTID0ge1xyXG4gIFZBTFVFX1NUQVJUX0NIQU5HRTogJ1ZBTFVFX1NUQVJUX0NIQU5HRScsXHJcbiAgREFUQV9DT0xMRUNURUQ6ICdEQVRBX0NPTExFQ1RFRCcsXHJcbiAgVkFMVUVfQ0hBTkdFRDogJ1ZBTFVFX0NIQU5HRUQnLFxyXG4gIFNDQUxFX0NMSUNLRUQ6ICcgU0NBTEVfQ0xJQ0tFRCcsXHJcbiAgS0VZX0RPV046ICdLRVlfRE9XTicsXHJcbiAgTUFSS19DTElDS0VEOiAnTUFSS19DTElDS0VEJyxcclxufTtcclxuXHJcbmV4cG9ydCB7IE1PREVMX0VWRU5UUywgU0xJREVSX0VWRU5UUyB9O1xyXG4iLCJpbnRlcmZhY2UgVmFsdWVPYnNlcnZlckVudHJ5IHtcclxuICB1cGRhdGUoZGF0YTogb2JqZWN0LCBldmVudDogc3RyaW5nKTogdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIE9ic2VydmVycyB7XHJcbiAgW2luZGV4OiBzdHJpbmddOiBWYWx1ZU9ic2VydmVyRW50cnlbXVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBPYnNlcnZlciB7XHJcbiAgcHVibGljIG9ic2VydmVyczogT2JzZXJ2ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuXHJcbiAgcHVibGljIGFkZFN1YnNjcmliZXIoZXZlbnQ6IHN0cmluZywgb2JzZXJ2ZXI6IFZhbHVlT2JzZXJ2ZXJFbnRyeSk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkge1xyXG4gICAgICBjb25zdCBrZXlzID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdO1xyXG4gICAgICB0aGlzLm9ic2VydmVyc1tldmVudF0gPSBbLi4ua2V5cywgb2JzZXJ2ZXJdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vYnNlcnZlcnNbZXZlbnRdID0gW29ic2VydmVyXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVTdWJzY3JpYmVyKGV2ZW50OiBzdHJpbmcsIG9ic2VydmVyOiBWYWx1ZU9ic2VydmVyRW50cnkpOiB2b2lkIHtcclxuICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSA9ICh0aGlzLm9ic2VydmVyc1tldmVudF0gfHwgW10pLmZpbHRlcigob2JzKSA9PiBvYnMgIT09IG9ic2VydmVyKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBlbWl0KGV2ZW50OiBzdHJpbmcsIGRhdGE6IG9iamVjdCk6IHZvaWQge1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNbZXZlbnRdIHx8IFtdO1xyXG4gICAgb2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIG9ic2VydmVyLnVwZGF0ZShkYXRhLCBldmVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE9ic2VydmVyO1xyXG4iLCJpbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnQHNyYy9PYnNlcnZlci9PYnNlcnZlcic7XHJcbmltcG9ydCB7IFNMSURFUl9FVkVOVFMgfSBmcm9tICdAc3JjL09ic2VydmVyL2V2ZW50cyc7XHJcbmltcG9ydCB7XHJcbiAgS2V5RXZlbnQsXHJcbiAgU2l6ZVBvaW50LFxyXG4gIFN0YXJ0UG9pbnQsXHJcbiAgVGh1bWJBdHRyLFxyXG59IGZyb20gJ0BzcmMvY29tcG9uZW50cy9JbnRlcmZhY2VzJztcclxuXHJcbmNsYXNzIFNsaWRlckNvbXBvbmVudHMgZXh0ZW5kcyBPYnNlcnZlciB7XHJcbiAgcmVhZG9ubHkgc2l6ZTogU2l6ZVBvaW50O1xyXG5cclxuICBwcm90ZWN0ZWQgc2NhbGVFbGVtZW50PzogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIHByb3RlY3RlZCByZWFkb25seSByb290OiBFbGVtZW50O1xyXG5cclxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGlyZWN0aW9uOiAnY2xpZW50WScgfCAnY2xpZW50WCc7XHJcblxyXG4gIHByb3RlY3RlZCByZWFkb25seSBzdGFydFBvaW50OiBTdGFydFBvaW50O1xyXG5cclxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbW9kOiAndmVydGljYWwnIHwgJ2hvcml6b250YWwnO1xyXG5cclxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgaXNWZXJ0aWNhbDogYm9vbGVhbjtcclxuXHJcbiAgY29uc3RydWN0b3Iocm9vdDogRWxlbWVudCwgaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XHJcbiAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuaXNWZXJ0aWNhbCA/ICdjbGllbnRZJyA6ICdjbGllbnRYJztcclxuICAgIHRoaXMuc3RhcnRQb2ludCA9IHRoaXMuaXNWZXJ0aWNhbCA/ICd0b3AnIDogJ2xlZnQnO1xyXG4gICAgdGhpcy5zaXplID0gdGhpcy5pc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xyXG4gICAgdGhpcy5tb2QgPSB0aGlzLmlzVmVydGljYWwgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnO1xyXG4gICAgdGhpcy5yb290ID0gcm9vdDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVFbGVtZW50KGNsYXNzTmFtZTogc3RyaW5nKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwZXJmb3JtUG9pbnRlck1vdmUodGh1bWJQb3M6IG51bWJlciwgYXR0cjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBoYW5kbGVUaHVtYlBvaW50ZXJNb3ZlID0gKGU6IFBvaW50ZXJFdmVudCkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGVsZW1TaXplID0gdGhpcy5yb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc3RhcnRQb2ludF07XHJcbiAgICAgIGNvbnN0IG5ld1BvcyA9IGVbdGhpcy5kaXJlY3Rpb25dIC0gdGh1bWJQb3MgLSBlbGVtU2l6ZTtcclxuICAgICAgdGhpcy5lbWl0KFNMSURFUl9FVkVOVFMuVkFMVUVfU1RBUlRfQ0hBTkdFLCB7XHJcbiAgICAgICAgY29vcmRzTW92ZTogbmV3UG9zLFxyXG4gICAgICAgIFRodW1iQXR0cjogYXR0cixcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVRodW1iUG9pbnRlclVwID0gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVRodW1iUG9pbnRlck1vdmUpO1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVUaHVtYlBvaW50ZXJVcCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlVGh1bWJQb2ludGVyTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVUaHVtYlBvaW50ZXJVcCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGVyZm9ybVRvdWNoTW92ZSh0aHVtYlBvczogbnVtYmVyLCBpZDogVGh1bWJBdHRyKTogdm9pZCB7XHJcbiAgICBjb25zdCBoYW5kbGVUaHVtYlRvdWNoTW92ZSA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IGVsZW1TaXplID0gdGhpcy5yb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc3RhcnRQb2ludF07XHJcbiAgICAgIGNvbnN0IG5ld1BvcyA9IGUudG91Y2hlc1swXVt0aGlzLmRpcmVjdGlvbl0gLSB0aHVtYlBvcyAtIGVsZW1TaXplO1xyXG4gICAgICB0aGlzLmVtaXQoU0xJREVSX0VWRU5UUy5WQUxVRV9TVEFSVF9DSEFOR0UsIHtcclxuICAgICAgICBjb29yZHNNb3ZlOiBuZXdQb3MsXHJcbiAgICAgICAgVGh1bWJBdHRyOiBpZCxcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGhhbmRsZVRodW1iVG91Y2hFbmQgPSAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRodW1iVG91Y2hNb3ZlKTtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVUaHVtYlRvdWNoRW5kKTtcclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlVGh1bWJUb3VjaE1vdmUpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5kbGVUaHVtYlRvdWNoRW5kKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwZXJmb3JtS2V5RG93bihrZXlFdmVudDogS2V5RXZlbnQsIGlkOiBUaHVtYkF0dHIpOiB2b2lkIHtcclxuICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLktFWV9ET1dOLCB7XHJcbiAgICAgIGtleUV2ZW50LFxyXG4gICAgICBUaHVtYkF0dHI6IGlkLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgcGVyZm9ybUNsaWNrTWFyayhwZXJjZW50OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLk1BUktfQ0xJQ0tFRCwge1xyXG4gICAgICBwZXJjZW50LFxyXG4gICAgICB2YWx1ZSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2xpZGVyQ29tcG9uZW50cztcclxuIiwiaW1wb3J0IHsgUHJvZ3Jlc3NEYXRhIH0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xyXG5pbXBvcnQgJy4vcHJvZ3Jlc3Muc2Nzcyc7XHJcblxyXG5jbGFzcyBQcm9ncmVzcyBleHRlbmRzIFNsaWRlckNvbXBvbmVudHMge1xyXG4gIHByaXZhdGUgcG9zaXRpb25TdGFydDogbnVtYmVyO1xyXG5cclxuICBwcml2YXRlIHBvc2l0aW9uRW5kOiBudW1iZXI7XHJcblxyXG4gIHByaXZhdGUgcHJvZ3Jlc3M6IEhUTUxEaXZFbGVtZW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihkYXRhOiBQcm9ncmVzc0RhdGEpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcm9vdCxcclxuICAgICAgcG9zaXRpb25TdGFydCxcclxuICAgICAgcG9zaXRpb25FbmQsXHJcbiAgICAgIGlzVmVydGljYWwsXHJcbiAgICB9ID0gZGF0YTtcclxuXHJcbiAgICBzdXBlcihyb290LCBpc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMucG9zaXRpb25TdGFydCA9IHBvc2l0aW9uU3RhcnQ7XHJcbiAgICB0aGlzLnBvc2l0aW9uRW5kID0gcG9zaXRpb25FbmQ7XHJcbiAgICB0aGlzLnByb2dyZXNzID0gU2xpZGVyQ29tcG9uZW50cy5jcmVhdGVFbGVtZW50KCdwbHVnaW4tc2xpZGVyX19wcm9ncmVzcyBqcy1wbHVnaW4tc2xpZGVyX19wcm9ncmVzcycpO1xyXG4gICAgdGhpcy5zZXRQcm9ncmVzcygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFByb2dyZXNzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5wcm9ncmVzcy5zdHlsZVt0aGlzLnN0YXJ0UG9pbnRdID0gYCR7dGhpcy5wb3NpdGlvblN0YXJ0fSVgO1xyXG4gICAgdGhpcy5wcm9ncmVzcy5zdHlsZVt0aGlzLnNpemVdID0gYCR7dGhpcy5wb3NpdGlvbkVuZH0lYDtcclxuICAgIHRoaXMucm9vdC5hcHBlbmQodGhpcy5wcm9ncmVzcyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0UHJvZ3Jlc3NQb3NpdGlvbihwb3NpdGlvblN0YXJ0ID0gMCwgcG9zaXRpb25FbmQgPSAxMDApOiB2b2lkIHtcclxuICAgIHRoaXMucHJvZ3Jlc3Muc3R5bGVbdGhpcy5zdGFydFBvaW50XSA9IGAke3Bvc2l0aW9uU3RhcnR9JWA7XHJcbiAgICB0aGlzLnByb2dyZXNzLnN0eWxlW3RoaXMuc2l6ZV0gPSBgJHtwb3NpdGlvbkVuZH0lYDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb2dyZXNzO1xyXG4iLCJpbXBvcnQgeyBTTElERVJfRVZFTlRTIH0gZnJvbSAnQHNyYy9PYnNlcnZlci9ldmVudHMnO1xyXG5pbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xyXG5pbXBvcnQgJy4vc2NhbGUuc2Nzcyc7XHJcblxyXG5jbGFzcyBTY2FsZSBleHRlbmRzIFNsaWRlckNvbXBvbmVudHMge1xyXG4gIHB1YmxpYyBzY2FsZTogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEhUTUxEaXZFbGVtZW50LCBpc1ZlcnRpY2FsOiBib29sZWFuKSB7XHJcbiAgICBzdXBlcihyb290LCBpc1ZlcnRpY2FsKTtcclxuXHJcbiAgICB0aGlzLnNjYWxlID0gU2xpZGVyQ29tcG9uZW50cy5jcmVhdGVFbGVtZW50KCdwbHVnaW4tc2xpZGVyX19zY2FsZSBqcy1wbHVnaW4tc2xpZGVyX19zY2FsZScpO1xyXG4gICAgdGhpcy5oYW5kbGVTY2FsZVBvaW50ZXJEb3duID0gdGhpcy5oYW5kbGVTY2FsZVBvaW50ZXJEb3duLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRTY2FsZSgpOiBIVE1MRGl2RWxlbWVudCB7XHJcbiAgICBpZiAoIXRoaXMuc2NhbGUpIHtcclxuICAgICAgdGhpcy5zY2FsZSA9IFNsaWRlckNvbXBvbmVudHMuY3JlYXRlRWxlbWVudCgncGx1Z2luLXNsaWRlcl9fc2NhbGUnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnNjYWxlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xyXG4gICAgY29uc3Qgc2NhbGVDbGFzcyA9IHRoaXMuaXNWZXJ0aWNhbCA/ICdwbHVnaW4tc2xpZGVyX19zY2FsZV9vcmllbnRhdGlvbl92ZXJ0aWNhbCcgOiAncGx1Z2luLXNsaWRlcl9fc2NhbGVfb3JpZW50YXRpb25faG9yaXpvbnRhbCc7XHJcbiAgICB0aGlzLnNjYWxlLmNsYXNzTGlzdC5hZGQoc2NhbGVDbGFzcyk7XHJcbiAgICB0aGlzLmFkZFNjYWxlKCk7XHJcbiAgICB0aGlzLmFkZExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRTY2FsZSgpOiB2b2lkIHtcclxuICAgIHRoaXMucm9vdC5hcHBlbmQodGhpcy5zY2FsZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZExpc3RlbmVycygpOiB2b2lkIHtcclxuICAgIHRoaXMuc2NhbGUuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLmhhbmRsZVNjYWxlUG9pbnRlckRvd24pO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY2FsZVBvaW50ZXJEb3duKGU6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgRWxlbWVudDtcclxuXHJcbiAgICBpZiAoIXRhcmdldC5jbG9zZXN0KCcucGx1Z2luLXNsaWRlcl9fc2NhbGUnKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbHVnaW4tc2xpZGVyX19tYXJrLXZhbHVlJykpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNjYWxlUmVjdCA9IHRoaXMuc2NhbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBzY2FsZVNpemUgPSBzY2FsZVJlY3RbdGhpcy5zaXplXTtcclxuICAgIGNvbnN0IHNjYWxlU3RhcnQgPSBzY2FsZVJlY3RbdGhpcy5zdGFydFBvaW50XTtcclxuICAgIGNvbnN0IGNvb3Jkc01vdmUgPSBlW3RoaXMuZGlyZWN0aW9uXSAtIHNjYWxlU3RhcnQ7XHJcblxyXG4gICAgaWYgKGNvb3Jkc01vdmUgPiBzY2FsZVNpemUgfHwgY29vcmRzTW92ZSA8IDApIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmVtaXREYXRhKGNvb3Jkc01vdmUsIHNjYWxlU2l6ZSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVtaXREYXRhKGNvb3Jkc01vdmU6IG51bWJlciwgc2NhbGVTaXplOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGNvb3Jkc01vdmUsXHJcbiAgICAgIHNjYWxlU2l6ZSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5lbWl0KFNMSURFUl9FVkVOVFMuU0NBTEVfQ0xJQ0tFRCwgZGF0YSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZTtcclxuIiwiZXhwb3J0IGNvbnN0IE1JTl9TUEFDRSA9IDU7IFxyXG5leHBvcnQgY29uc3QgTUFSS1NfSElEREVOID0gXCJwbHVnaW4tc2xpZGVyX19tYXJrX2hpZGRlblwiOyIsImltcG9ydCB7IE1hcmtzLCBNYXJrVmFsdWUsIE1hcmtQZXJjZW50IH0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBNSU5fU1BBQ0UsIE1BUktTX0hJRERFTiB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0ICcuL3NjYWxlTWFya3Muc2Nzcyc7XHJcblxyXG5jbGFzcyBTY2FsZU1hcmtzIGV4dGVuZHMgU2xpZGVyQ29tcG9uZW50cyB7XHJcbiAgcHVibGljIG1hcmtzOiBNYXJrcztcclxuXHJcbiAgY29uc3RydWN0b3Iocm9vdDogSFRNTERpdkVsZW1lbnQsIG1hcmtzOiBNYXJrcywgaXNWZXJ0aWNhbDogYm9vbGVhbikge1xyXG4gICAgc3VwZXIocm9vdCwgaXNWZXJ0aWNhbCk7XHJcbiAgICB0aGlzLm1hcmtzID0gbWFya3M7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuY3JlYXRlTWFya3MoKTtcclxuICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLmFkanVzdE1hcmtWaXNpYmlsaXR5KCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZExpc3RlbmVycygpOiB2b2lkIHtcclxuICAgIHRoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUm9vdENsaWNrLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVSb290Q2xpY2soZTogRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgY29uc3QgeyB2YWx1ZSwgcGVyY2VudCB9ID0gdGFyZ2V0LmRhdGFzZXQ7XHJcblxyXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BsdWdpbi1zbGlkZXJfX21hcmstdmFsdWUnKSAmJiBwZXJjZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5wZXJmb3JtQ2xpY2tNYXJrKE51bWJlcihwZXJjZW50KSwgTnVtYmVyKHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmtzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5tYXJrcy5mb3JFYWNoKChwZXJjZW50OiBNYXJrVmFsdWUsIHZhbHVlOiBNYXJrUGVyY2VudCkgPT4ge1xyXG4gICAgICB0aGlzLmNyZWF0ZU1hcmsodmFsdWUsIHBlcmNlbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmsodmFsdWU6IE1hcmtWYWx1ZSwgcGVyY2VudDogTWFya1BlcmNlbnQpOiB2b2lkIHtcclxuICAgIGNvbnN0IG1hcmsgPSB0aGlzLmNyZWF0ZU1hcmtFbGVtZW50KHBlcmNlbnQpO1xyXG4gICAgY29uc3QgbWFya1ZhbHVlID0gdGhpcy5jcmVhdGVNYXJrVmFsdWVFbGVtZW50KHZhbHVlLCBwZXJjZW50KTtcclxuICAgIG1hcmsuYXBwZW5kKG1hcmtWYWx1ZSk7XHJcbiAgICB0aGlzLnJvb3QuYXBwZW5kKG1hcmspO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVNYXJrRWxlbWVudChwZXJjZW50OiBNYXJrUGVyY2VudCk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgIGNvbnN0IG1hcmsgPSBTbGlkZXJDb21wb25lbnRzLmNyZWF0ZUVsZW1lbnQoJ3BsdWdpbi1zbGlkZXJfX21hcmsganMtcGx1Z2luLXNsaWRlcl9fbWFyaycpO1xyXG4gICAgbWFyay5jbGFzc0xpc3QuYWRkKGBwbHVnaW4tc2xpZGVyX19tYXJrXyR7dGhpcy5tb2R9YCk7XHJcbiAgICBtYXJrLnN0eWxlW3RoaXMuc3RhcnRQb2ludF0gPSBgJHtwZXJjZW50fSVgO1xyXG4gICAgcmV0dXJuIG1hcms7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU1hcmtWYWx1ZUVsZW1lbnQodmFsdWU6IE1hcmtWYWx1ZSwgcGVyY2VudDogTWFya1BlcmNlbnQpOiBIVE1MU3BhbkVsZW1lbnQge1xyXG4gICAgY29uc3QgbWFya1ZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgbWFya1ZhbHVlLmNsYXNzTmFtZSA9IGBwbHVnaW4tc2xpZGVyX19tYXJrLXZhbHVlIHBsdWdpbi1zbGlkZXJfX21hcmstdmFsdWVfJHt0aGlzLm1vZH1gO1xyXG4gICAgbWFya1ZhbHVlLmRhdGFzZXQudmFsdWUgPSBgJHt2YWx1ZX1gO1xyXG4gICAgbWFya1ZhbHVlLmRhdGFzZXQucGVyY2VudCA9IGAke3BlcmNlbnR9YDtcclxuICAgIG1hcmtWYWx1ZS5pbm5lclRleHQgPSBgJHt2YWx1ZX1gO1xyXG4gICAgcmV0dXJuIG1hcmtWYWx1ZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRqdXN0TWFya1Zpc2liaWxpdHkoKTogdm9pZCB7XHJcbiAgICBjb25zdCBtYXJrRWxlbWVudHMgPSBBcnJheS5mcm9tKHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcucGx1Z2luLXNsaWRlcl9fbWFyaycpKTtcclxuICAgIGxldCBsYXN0VmlzaWJsZU1hcmtQb3NpdGlvbjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgbWFya0VsZW1lbnRzLmZvckVhY2goKG1hcmspID0+IHtcclxuICAgICAgY29uc3QgbWFya1ZhbHVlRWxlbWVudCA9IG1hcmsucXVlcnlTZWxlY3RvcignLnBsdWdpbi1zbGlkZXJfX21hcmstdmFsdWUnKTtcclxuICAgICAgY29uc3QgbWFya1BlcmNlbnQgPSBtYXJrVmFsdWVFbGVtZW50ID8gTnVtYmVyKG1hcmtWYWx1ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnQnKSkgOiBudWxsO1xyXG5cclxuICAgICAgaWYgKGxhc3RWaXNpYmxlTWFya1Bvc2l0aW9uID09PSBudWxsKSB7XHJcbiAgICAgICAgbWFyay5jbGFzc0xpc3QucmVtb3ZlKE1BUktTX0hJRERFTik7XHJcbiAgICAgICAgbGFzdFZpc2libGVNYXJrUG9zaXRpb24gPSBtYXJrUGVyY2VudDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRpc3RhbmNlVG9MYXN0ID0gbWFya1BlcmNlbnQgIT09IG51bGwgPyBtYXJrUGVyY2VudCAtIGxhc3RWaXNpYmxlTWFya1Bvc2l0aW9uIDogMDtcclxuXHJcbiAgICAgIGlmIChkaXN0YW5jZVRvTGFzdCA8IE1JTl9TUEFDRSkge1xyXG4gICAgICAgIG1hcmsuY2xhc3NMaXN0LmFkZChNQVJLU19ISURERU4pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1hcmsuY2xhc3NMaXN0LnJlbW92ZShNQVJLU19ISURERU4pO1xyXG4gICAgICAgIGxhc3RWaXNpYmxlTWFya1Bvc2l0aW9uID0gbWFya1BlcmNlbnQ7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGVNYXJrcztcclxuIiwiaW1wb3J0IHsgVGh1bWJBcmdzLCBUaHVtYkF0dHIgfSBmcm9tICdAc3JjL2NvbXBvbmVudHMvSW50ZXJmYWNlcyc7XHJcbmltcG9ydCBTbGlkZXJDb21wb25lbnRzIGZyb20gJy4uL1NsaWRlckNvbXBvbmVudHMvU2xpZGVyQ29tcG9uZW50cyc7XHJcbmltcG9ydCAnLi90aHVtYi5zY3NzJztcclxuXHJcbmNsYXNzIFRodW1iIGV4dGVuZHMgU2xpZGVyQ29tcG9uZW50cyB7XHJcbiAgcHJpdmF0ZSBtb3ZlZD86IG51bWJlcjtcclxuICB0aHVtYlBlcmNlbnQ6IG51bWJlcjtcclxuICB0aHVtYkVsZW1lbnQ/OiBIVE1MRGl2RWxlbWVudDtcclxuICB0aHVtYkF0dHI6IFRodW1iQXR0cjtcclxuICBtaW5WYWx1ZTogbnVtYmVyO1xyXG4gIG1heFZhbHVlOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHZhbHVlczogVGh1bWJBcmdzKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHJvb3QsXHJcbiAgICAgIHRodW1iUGVyY2VudCA9IDAsXHJcbiAgICAgIGF0dHIgPSAndmFsdWVGcm9tJyxcclxuICAgICAgaXNWZXJ0aWNhbCxcclxuICAgICAgbWluVmFsdWUsXHJcbiAgICAgIG1heFZhbHVlXHJcbiAgICB9ID0gdmFsdWVzO1xyXG5cclxuICAgIHN1cGVyKHJvb3QsIGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy50aHVtYlBlcmNlbnQgPSB0aHVtYlBlcmNlbnQ7XHJcbiAgICB0aGlzLnRodW1iQXR0ciA9IGF0dHI7XHJcbiAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7XHJcbiAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7XHJcblxyXG4gICAgdGhpcy5oYW5kbGVUaHVtYlBvaW50ZXJEb3duID0gdGhpcy5oYW5kbGVUaHVtYlBvaW50ZXJEb3duLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZVRodW1iS2V5RG93biA9IHRoaXMuaGFuZGxlVGh1bWJLZXlEb3duLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLmhhbmRsZVRodW1iVG91Y2ggPSB0aGlzLmhhbmRsZVRodW1iVG91Y2guYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy50aHVtYkVsZW1lbnQgPSB0aGlzLmNyZWF0ZVRodW1iKCk7XHJcbiAgICB0aGlzLnRodW1iRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGh1bWItYXR0cicsIHRoaXMudGh1bWJBdHRyKTtcclxuICAgIHRoaXMudGh1bWJFbGVtZW50LnRhYkluZGV4ID0gMTtcclxuICAgIHRoaXMucm9vdC5hcHBlbmQodGhpcy50aHVtYkVsZW1lbnQpO1xyXG4gICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnRodW1iUGVyY2VudCk7XHJcbiAgICB0aGlzLmFkZExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFBvc2l0aW9uKHRodW1iUGVyY2VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLnRodW1iUGVyY2VudCA9IHRodW1iUGVyY2VudDtcclxuICAgIHRoaXMuY2hlY2taSW5kKCk7XHJcbiAgICBpZiAodGhpcy50aHVtYkVsZW1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLnRodW1iRWxlbWVudC5zdHlsZVt0aGlzLnN0YXJ0UG9pbnRdID0gYCR7dGhpcy50aHVtYlBlcmNlbnR9JWA7XHJcblxyXG4gICAgICBjb25zdCBzY2FsZVZhbHVlID0gdGhpcy5taW5WYWx1ZSArICh0aGlzLnRodW1iUGVyY2VudCAvIDEwMCkgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICB0aGlzLnRodW1iRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCBzY2FsZVZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFRodW1iKCk6IEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLnRodW1iRWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRUaHVtYkF0dHIoKTogVGh1bWJBdHRyIHtcclxuICAgIHJldHVybiB0aGlzLnRodW1iQXR0cjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkTGlzdGVuZXJzKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMudGh1bWJFbGVtZW50ID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIHRoaXMudGh1bWJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5oYW5kbGVUaHVtYlBvaW50ZXJEb3duKTtcclxuICAgIHRoaXMudGh1bWJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZVRodW1iS2V5RG93bik7XHJcbiAgICB0aGlzLnRodW1iRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAndG91Y2hzdGFydCcsXHJcbiAgICAgIHRoaXMuaGFuZGxlVGh1bWJUb3VjaCxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVRodW1iKCk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgIGNvbnN0IHRodW1iRWxlbWVudCA9IFNsaWRlckNvbXBvbmVudHMuY3JlYXRlRWxlbWVudCgncGx1Z2luLXNsaWRlcl9fdGh1bWIganMtcGx1Z2luLXNsaWRlcl9fdGh1bWInKTtcclxuICAgIHRodW1iRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnc2xpZGVyJyk7XHJcbiAgICB0aHVtYkVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJywgdGhpcy5taW5WYWx1ZS50b1N0cmluZygpKTtcclxuICAgIHRodW1iRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtYXgnLCB0aGlzLm1heFZhbHVlLnRvU3RyaW5nKCkpO1xyXG4gICAgdGh1bWJFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIHRoaXMudGh1bWJQZXJjZW50LnRvU3RyaW5nKCkpO1xyXG4gICAgdGh1bWJFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdWYWx1ZSBzbGlkZXInKTtcclxuICAgIHJldHVybiB0aHVtYkVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrWkluZCgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnRodW1iRWxlbWVudCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy50aHVtYkF0dHIgPT09ICd2YWx1ZUZyb20nICYmIHRoaXMudGh1bWJQZXJjZW50ID09PSAxMDApIHtcclxuICAgICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUuekluZGV4ID0gJzEwJztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRodW1iQXR0ciA9PT0gJ3ZhbHVlRnJvbScgJiYgdGhpcy50aHVtYlBlcmNlbnQgPCAxMDApIHtcclxuICAgICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUuekluZGV4ID0gJzUnO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudGh1bWJBdHRyID09PSAndmFsdWVUbycgJiYgdGhpcy50aHVtYlBlcmNlbnQgPT09IDApIHtcclxuICAgICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUuekluZGV4ID0gJzEwJztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRodW1iQXR0ciA9PT0gJ3ZhbHVlVG8nICYmIHRoaXMudGh1bWJQZXJjZW50ID4gMCkge1xyXG4gICAgICB0aGlzLnRodW1iRWxlbWVudC5zdHlsZS56SW5kZXggPSAnNSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVRodW1iVG91Y2goZTogVG91Y2hFdmVudCk6IHZvaWQge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKHRoaXMudGh1bWJFbGVtZW50ID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGNvbnN0IHNpemVFbGVtZW50ID0gdGhpcy50aHVtYkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5zdGFydFBvaW50XTtcclxuICAgIHRoaXMubW92ZWQgPSBlLnRvdWNoZXNbMF1bdGhpcy5kaXJlY3Rpb25dIC0gKHNpemVFbGVtZW50XHJcbiAgICAgICsgKHRoaXMudGh1bWJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMuc2l6ZV0gLyAyKSk7XHJcbiAgICBzdXBlci5wZXJmb3JtVG91Y2hNb3ZlKHRoaXMubW92ZWQsIHRoaXMudGh1bWJBdHRyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGFuZGxlVGh1bWJQb2ludGVyRG93bihlOiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmICh0aGlzLnRodW1iRWxlbWVudCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICB0aGlzLm1vdmVkID0gZVt0aGlzLmRpcmVjdGlvbl0gLSAodGhpcy50aHVtYkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5zdGFydFBvaW50XVxyXG4gICAgICArICh0aGlzLnRodW1iRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVt0aGlzLnNpemVdIC8gMikpO1xyXG4gICAgdGhpcy5jaGVja1pJbmQoKTtcclxuICAgIHN1cGVyLnBlcmZvcm1Qb2ludGVyTW92ZSh0aGlzLm1vdmVkLCB0aGlzLnRodW1iQXR0cik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhbmRsZVRodW1iS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICBpZihlLmtleSA9PT0gJ1RhYicpIHJldHVybjtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHsga2V5IH0gPSBlO1xyXG4gICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcgfHwga2V5ID09PSAnQXJyb3dVcCcgfHwga2V5ID09PSAnQXJyb3dSaWdodCcgfHwga2V5ID09PSAnQXJyb3dEb3duJykgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKChrZXkgPT09ICdBcnJvd0xlZnQnICYmICF0aGlzLmlzVmVydGljYWwpIHx8IChrZXkgPT09ICdBcnJvd1VwJyAmJiB0aGlzLmlzVmVydGljYWwpKSB7XHJcbiAgICAgIHN1cGVyLnBlcmZvcm1LZXlEb3duKCdkZWNyZW1lbnQnLCB0aGlzLnRodW1iQXR0cik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKChrZXkgPT09ICdBcnJvd1JpZ2h0JyAmJiAhdGhpcy5pc1ZlcnRpY2FsKSB8fCAoa2V5ID09PSAnQXJyb3dEb3duJyAmJiB0aGlzLmlzVmVydGljYWwpKSB7XHJcbiAgICAgIHN1cGVyLnBlcmZvcm1LZXlEb3duKCdpbmNyZW1lbnQnLCB0aGlzLnRodW1iQXR0cik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUaHVtYjtcclxuIiwiaW1wb3J0IHsgVGlwRGF0YSB9IGZyb20gJ0BzcmMvY29tcG9uZW50cy9JbnRlcmZhY2VzJztcclxuaW1wb3J0IFNsaWRlckNvbXBvbmVudHMgZnJvbSAnLi4vU2xpZGVyQ29tcG9uZW50cy9TbGlkZXJDb21wb25lbnRzJztcclxuaW1wb3J0ICcuL3RpcC5zY3NzJztcclxuXHJcbmNsYXNzIFRpcCBleHRlbmRzIFNsaWRlckNvbXBvbmVudHMge1xyXG4gIHRpcDogSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gIHZhbHVlVGlwOiBudW1iZXIgfCBzdHJpbmc7XHJcblxyXG4gIHByaXZhdGUgcGVyY2VudFBvc2l0aW9uOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGE6IFRpcERhdGEpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcm9vdCxcclxuICAgICAgcGVyY2VudFBvc2l0aW9uLFxyXG4gICAgICB2YWx1ZVRpcCxcclxuICAgICAgaXNWZXJ0aWNhbCxcclxuICAgIH0gPSBkYXRhO1xyXG5cclxuICAgIHN1cGVyKHJvb3QsIGlzVmVydGljYWwpO1xyXG4gICAgdGhpcy5wZXJjZW50UG9zaXRpb24gPSBwZXJjZW50UG9zaXRpb247XHJcbiAgICB0aGlzLnZhbHVlVGlwID0gdmFsdWVUaXA7XHJcblxyXG4gICAgdGhpcy50aXAgPSB0aGlzLmNyZWF0ZVRpcCgpO1xyXG4gICAgdGhpcy5hZGRUaXAoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRWYWx1ZVRpcCh2YWx1ZVRpcDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLnRpcC5pbm5lclRleHQgPSBgJHt2YWx1ZVRpcH1gO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhpZGVUaXAoKTogdm9pZCB7XHJcbiAgICB0aGlzLnRpcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNob3dUaXAoKTogdm9pZCB7XHJcbiAgICB0aGlzLnRpcC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0UG9zaXRpb24ocGVyY2VudFBvc2l0aW9uOiBudW1iZXIsIHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMudGlwLnN0eWxlW3RoaXMuc3RhcnRQb2ludF0gPSBgJHtwZXJjZW50UG9zaXRpb259JWA7XHJcbiAgICB0aGlzLnRpcC5pbm5lclRleHQgPSBgJHt2YWx1ZX1gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVUaXAoKTogSFRNTERpdkVsZW1lbnQge1xyXG4gICAgY29uc3QgdGlwID0gU2xpZGVyQ29tcG9uZW50cy5jcmVhdGVFbGVtZW50KCdwbHVnaW4tc2xpZGVyX190aXAganMtcGx1Z2luLXNsaWRlcl9fdGlwJyk7XHJcbiAgICB0aXAuY2xhc3NMaXN0LmFkZChgcGx1Z2luLXNsaWRlcl9fdGlwXyR7dGhpcy5tb2R9YCk7XHJcbiAgICB0aXAuaW5uZXJUZXh0ID0gYCR7dGhpcy52YWx1ZVRpcH1gO1xyXG4gICAgdGlwLnN0eWxlW3N1cGVyLnN0YXJ0UG9pbnRdID0gYCR7dGhpcy5wZXJjZW50UG9zaXRpb259JWA7XHJcbiAgICByZXR1cm4gdGlwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRUaXAoKSB7XHJcbiAgICB0aGlzLnJvb3QuYXBwZW5kKHRoaXMudGlwKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRpcDtcclxuIiwiaW1wb3J0IE9ic2VydmVyIGZyb20gJ0BzcmMvT2JzZXJ2ZXIvT2JzZXJ2ZXInO1xyXG5pbXBvcnQgeyBTTElERVJfRVZFTlRTIH0gZnJvbSAnQHNyYy9PYnNlcnZlci9ldmVudHMnO1xyXG5pbXBvcnQge1xyXG4gIFNsaWRlck9wdGlvbnMsXHJcbiAgU2xpZGVyRXZlbnRWYWxDaGFuZ2VkRGF0YSxcclxuICBTY2FsZUNsaWNrRGF0YSxcclxuICBUaHVtYkF0dHIsXHJcbn0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi4vUHJvZ3Jlc3MvUHJvZ3Jlc3MnO1xyXG5pbXBvcnQgU2NhbGUgZnJvbSAnLi4vU2NhbGUvU2NhbGUnO1xyXG5pbXBvcnQgU2NhbGVNYXJrcyBmcm9tICcuLi9TY2FsZU1hcmtzL1NjYWxlTWFya3MnO1xyXG5pbXBvcnQgU2xpZGVyQ29tcG9uZW50cyBmcm9tICcuLi9TbGlkZXJDb21wb25lbnRzL1NsaWRlckNvbXBvbmVudHMnO1xyXG5pbXBvcnQgVGh1bWIgZnJvbSAnLi4vVGh1bWIvVGh1bWInO1xyXG5pbXBvcnQgVGlwIGZyb20gJy4uL1RpcC9UaXAnO1xyXG5pbXBvcnQgJy4vc2xpZGVyLnNjc3MnO1xyXG5cclxuY2xhc3MgU2xpZGVyIGV4dGVuZHMgT2JzZXJ2ZXIge1xyXG5cclxuICBwdWJsaWMgY2xhc3NFbGVtZW50czoge1xyXG4gICAgdGh1bWJGcm9tOiBUaHVtYiB8IHVuZGVmaW5lZDtcclxuICAgIHRodW1iVG86IFRodW1iIHwgdW5kZWZpbmVkO1xyXG4gICAgc2NhbGU6IFNjYWxlIHwgdW5kZWZpbmVkO1xyXG4gICAgc2NhbGVNYXJrczogU2NhbGVNYXJrcyB8IHVuZGVmaW5lZDtcclxuICAgIHRpcEZyb206IFRpcCB8IHVuZGVmaW5lZDtcclxuICAgIHRpcFRvOiBUaXAgfCB1bmRlZmluZWQ7XHJcbiAgICBwcm9ncmVzczogUHJvZ3Jlc3MgfCB1bmRlZmluZWQ7XHJcbiAgICBzbGlkZXJDb21wb25lbnRzOiBTbGlkZXJDb21wb25lbnRzIHwgdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBib29sZWFuVmFyaWFibGVzOiB7XHJcbiAgICBpc1Byb2dyZXNzOiBib29sZWFuO1xyXG4gICAgaXNSYW5nZTogYm9vbGVhbjtcclxuICAgIGlzVmVydGljYWw6IGJvb2xlYW47XHJcbiAgICBpc1RpcDogYm9vbGVhbjtcclxuICAgIGlzU2NhbGVNYXJrczogYm9vbGVhbjtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIG51bWJlclZhcmlhYmxlczoge1xyXG4gICAgdGlwVmFsdWVGcm9tOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgICB0aHVtYlBlcmNlbnRGcm9tOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgICB0aHVtYlBlcmNlbnRUbzogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgdGlwVmFsdWVUbzogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgZG9tOiB7XHJcbiAgICBzbGlkZXI6IHVuZGVmaW5lZCB8IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgc2NhbGVFbGVtZW50OiB1bmRlZmluZWQgfCBIVE1MRGl2RWxlbWVudDtcclxuICAgIHJvb3Q/OiBFbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc2NhbGVNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gfCB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEVsZW1lbnQsIHByb3RlY3RlZCByZWFkb25seSBzdGF0ZTogU2xpZGVyT3B0aW9ucykge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmRvbSA9IHtcclxuICAgICAgc2xpZGVyOiB1bmRlZmluZWQsXHJcbiAgICAgIHNjYWxlRWxlbWVudDogdW5kZWZpbmVkLFxyXG4gICAgICByb290LFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm51bWJlclZhcmlhYmxlcyA9IHtcclxuICAgICAgdGlwVmFsdWVGcm9tOiAwLFxyXG4gICAgICB0aHVtYlBlcmNlbnRGcm9tOiAwLFxyXG4gICAgICB0aHVtYlBlcmNlbnRUbzogdW5kZWZpbmVkLFxyXG4gICAgICB0aXBWYWx1ZVRvOiB1bmRlZmluZWQsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcyA9IHtcclxuICAgICAgaXNQcm9ncmVzczogZmFsc2UsXHJcbiAgICAgIGlzUmFuZ2U6IGZhbHNlLFxyXG4gICAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgICAgaXNUaXA6IGZhbHNlLFxyXG4gICAgICBpc1NjYWxlTWFya3M6IGZhbHNlLFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsYXNzRWxlbWVudHMgPSB7XHJcbiAgICAgIHRodW1iRnJvbTogdW5kZWZpbmVkLFxyXG4gICAgICB0aHVtYlRvOiB1bmRlZmluZWQsXHJcbiAgICAgIHNjYWxlOiB1bmRlZmluZWQsXHJcbiAgICAgIHNjYWxlTWFya3M6IHVuZGVmaW5lZCxcclxuICAgICAgdGlwRnJvbTogdW5kZWZpbmVkLFxyXG4gICAgICB0aXBUbzogdW5kZWZpbmVkLFxyXG4gICAgICBwcm9ncmVzczogdW5kZWZpbmVkLFxyXG4gICAgICBzbGlkZXJDb21wb25lbnRzOiB1bmRlZmluZWQsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY3JlYXRlVmFyaWFibGVzKHJvb3QsIHN0YXRlKTtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlU2xpZGVyKCk6IEhUTUxEaXZFbGVtZW50IHtcclxuICAgIGNvbnN0IHNsaWRlcldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHNsaWRlcldyYXBwZXIuY2xhc3NOYW1lID0gJ3BsdWdpbi1zbGlkZXIganMtcGx1Z2luLXNsaWRlcic7XHJcbiAgICByZXR1cm4gc2xpZGVyV3JhcHBlcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoXHJcbiAgICBkYXRhOiBTbGlkZXJFdmVudFZhbENoYW5nZWREYXRhIHwgU2NhbGVDbGlja0RhdGEsXHJcbiAgICBldmVudDogc3RyaW5nLFxyXG4gICk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZG9tID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLmNsYXNzRWxlbWVudHMuc2xpZGVyQ29tcG9uZW50cyA9PT0gdW5kZWZpbmVkXHJcbiAgICAgIHx8IHRoaXMuZG9tLnNjYWxlRWxlbWVudCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBjb25zdCB7IHNpemUgfSA9IHRoaXMuY2xhc3NFbGVtZW50cy5zbGlkZXJDb21wb25lbnRzO1xyXG4gICAgY29uc3Qgc2NhbGVTaXplID0gdGhpcy5kb20uc2NhbGVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3NpemVdO1xyXG5cclxuICAgIGlmIChldmVudCA9PT0gU0xJREVSX0VWRU5UUy5WQUxVRV9TVEFSVF9DSEFOR0UpIHtcclxuICAgICAgY29uc3Qgc2xpZGVyRGF0YSA9IHsgLi4uZGF0YSwgc2NhbGVTaXplIH07XHJcbiAgICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLkRBVEFfQ09MTEVDVEVELCBzbGlkZXJEYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLkRBVEFfQ09MTEVDVEVELCBkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRTdGF0ZShkYXRhOiBTbGlkZXJPcHRpb25zKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHRodW1iUGVyY2VudEZyb20sXHJcbiAgICAgIHZhbHVlRnJvbSxcclxuICAgICAgaXNSYW5nZSxcclxuICAgICAgdGh1bWJQZXJjZW50VG8sXHJcbiAgICAgIHZhbHVlVG8sXHJcbiAgICB9ID0gZGF0YTtcclxuXHJcbiAgICB0aGlzLnNldFRodW1icyh0aHVtYlBlcmNlbnRGcm9tLCB0aHVtYlBlcmNlbnRUbywgaXNSYW5nZSk7XHJcbiAgICB0aGlzLnNldFRpcHModmFsdWVGcm9tLCB2YWx1ZVRvLCBpc1JhbmdlKTtcclxuICAgIHRoaXMuc2V0UHJvZ3Jlc3ModGh1bWJQZXJjZW50RnJvbSwgdGh1bWJQZXJjZW50VG8sIGlzUmFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRUaHVtYnMoXHJcbiAgICB0aHVtYlBlcmNlbnRGcm9tOiBudW1iZXIsXHJcbiAgICB0aHVtYlBlcmNlbnRUbzogbnVtYmVyIHwgdW5kZWZpbmVkLFxyXG4gICAgaXNSYW5nZTogYm9vbGVhbixcclxuICApIHtcclxuICAgIGlmICh0aGlzLmNsYXNzRWxlbWVudHMudGh1bWJGcm9tID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLm51bWJlclZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5kb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudEZyb20gPSB0aHVtYlBlcmNlbnRGcm9tO1xyXG4gICAgdGhpcy5jbGFzc0VsZW1lbnRzLnRodW1iRnJvbS5zZXRQb3NpdGlvbih0aGlzLm51bWJlclZhcmlhYmxlcy50aHVtYlBlcmNlbnRGcm9tKTtcclxuXHJcbiAgICBpZiAoaXNSYW5nZSAmJiB0aGlzLmRvbS5zbGlkZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCBzZWNvbmRUaHVtYiA9IHRoaXMuZG9tLnNsaWRlci5xdWVyeVNlbGVjdG9yKGBbZGF0YS10aHVtYi1hdHRyPVwidmFsdWVUb1wiYCk7IFxyXG4gICAgICBpZiAoc2Vjb25kVGh1bWIgPT09IG51bGwgJiYgdGh1bWJQZXJjZW50VG8gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGh1bWIoJ3ZhbHVlVG8nLCB0aHVtYlBlcmNlbnRUbyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNSYW5nZSAmJiB0aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY2xhc3NFbGVtZW50cy50aHVtYlRvKSB7XHJcbiAgICAgIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvID0gdGh1bWJQZXJjZW50VG87XHJcbiAgICAgIHRoaXMuY2xhc3NFbGVtZW50cy50aHVtYlRvLnNldFBvc2l0aW9uKHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0VGh1bWIoYXR0cjogVGh1bWJBdHRyLCB0aHVtYlBlcmNlbnQ6IG51bWJlcikge1xyXG4gICAgY29uc3QgdGh1bWIgPSBhdHRyID09PSAndmFsdWVUbycgPyAndGh1bWJUbycgOiAndGh1bWJGcm9tJztcclxuICAgIGlmICh0aGlzLmRvbSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuYm9vbGVhblZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5kb20uc2NhbGVFbGVtZW50ID09PSB1bmRlZmluZWRcclxuICAgICAgfHwgdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVmVydGljYWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuY2xhc3NFbGVtZW50c1t0aHVtYl0gPSBuZXcgVGh1bWIoe1xyXG4gICAgICByb290OiB0aGlzLmRvbS5zY2FsZUVsZW1lbnQsXHJcbiAgICAgIHRodW1iUGVyY2VudCxcclxuICAgICAgYXR0cjogYXR0cixcclxuICAgICAgaXNWZXJ0aWNhbDogdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVmVydGljYWwsXHJcbiAgICAgIG1pblZhbHVlOiB0aGlzLnN0YXRlLm1pbixcclxuICAgICAgbWF4VmFsdWU6IHRoaXMuc3RhdGUubWF4LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRpcHModmFsdWVGcm9tOiBudW1iZXIsIHZhbHVlVG86IG51bWJlciB8IHVuZGVmaW5lZCwgaXNSYW5nZTogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5udW1iZXJWYXJpYWJsZXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHsgaXNUaXAgfSA9IHRoaXMuYm9vbGVhblZhcmlhYmxlcztcclxuICAgIGlmIChpc1RpcCAmJiB0aGlzLmNsYXNzRWxlbWVudHMudGlwRnJvbSkge1xyXG4gICAgICB0aGlzLm51bWJlclZhcmlhYmxlcy50aXBWYWx1ZUZyb20gPSB2YWx1ZUZyb207XHJcbiAgICAgIGlmICh0aGlzLm51bWJlclZhcmlhYmxlcy50aHVtYlBlcmNlbnRGcm9tID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgdGhpcy5jbGFzc0VsZW1lbnRzLnRpcEZyb20uc2V0UG9zaXRpb24oXHJcbiAgICAgICAgdGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSxcclxuICAgICAgICB0aGlzLm51bWJlclZhcmlhYmxlcy50aXBWYWx1ZUZyb20sXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNOZWVkRG91YmxlVGlwKCkpIHtcclxuICAgICAgdGhpcy5jbGFzc0VsZW1lbnRzLnRpcEZyb20/LnNldFZhbHVlVGlwKGAke3ZhbHVlRnJvbX0gLSAke3ZhbHVlVG99YCk7XHJcbiAgICAgIHRoaXMuY2xhc3NFbGVtZW50cy50aXBUbz8uaGlkZVRpcCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGFzc0VsZW1lbnRzLnRpcFRvPy5zaG93VGlwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUmFuZ2VcclxuICAgICAgJiYgdGhpcy5jbGFzc0VsZW1lbnRzLnRpcFRvICYmIHZhbHVlVG8gIT09IHVuZGVmaW5lZCAmJiB0aGlzLm51bWJlclZhcmlhYmxlcy50aHVtYlBlcmNlbnRUbykge1xyXG4gICAgICB0aGlzLm51bWJlclZhcmlhYmxlcy50aXBWYWx1ZVRvID0gdmFsdWVUbztcclxuICAgICAgdGhpcy5jbGFzc0VsZW1lbnRzLnRpcFRvLnNldFBvc2l0aW9uKFxyXG4gICAgICAgIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvLFxyXG4gICAgICAgIHRoaXMubnVtYmVyVmFyaWFibGVzLnRpcFZhbHVlVG8sXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRpcCh2YWx1ZURpcmVjdGlvbiA9ICd2YWx1ZUZyb20nKSB7XHJcbiAgICBjb25zdCB0aXBWYWx1ZSA9IHZhbHVlRGlyZWN0aW9uID09PSAndmFsdWVGcm9tJyA/ICd0aXBWYWx1ZUZyb20nIDogJ3RpcFZhbHVlVG8nO1xyXG4gICAgY29uc3QgdGlwID0gdmFsdWVEaXJlY3Rpb24gPT09ICd2YWx1ZUZyb20nID8gJ3RpcEZyb20nIDogJ3RpcFRvJztcclxuICAgIGNvbnN0IHBlcmNlbnRQb3NpdGlvbiA9IHZhbHVlRGlyZWN0aW9uID09PSAndmFsdWVGcm9tJyA/ICd0aHVtYlBlcmNlbnRGcm9tJyA6ICd0aHVtYlBlcmNlbnRUbyc7XHJcblxyXG4gICAgaWYgKHRoaXMubnVtYmVyVmFyaWFibGVzID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLmRvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5ib29sZWFuVmFyaWFibGVzID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuXHJcbiAgICBpZiAodmFsdWVEaXJlY3Rpb24gPT09ICd2YWx1ZVRvJyAmJiB0aGlzLm51bWJlclZhcmlhYmxlc1twZXJjZW50UG9zaXRpb25dID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLmRvbS5zY2FsZUVsZW1lbnQgPT09IHVuZGVmaW5lZFxyXG4gICAgICB8fCB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNWZXJ0aWNhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5jbGFzc0VsZW1lbnRzW3RpcF0gPSBuZXcgVGlwKHtcclxuICAgICAgcm9vdDogdGhpcy5kb20uc2NhbGVFbGVtZW50LFxyXG4gICAgICBwZXJjZW50UG9zaXRpb246IHRoaXMubnVtYmVyVmFyaWFibGVzW3BlcmNlbnRQb3NpdGlvbl0gID8/IDAsXHJcbiAgICAgIHZhbHVlVGlwOiB0aXBWYWx1ZSxcclxuICAgICAgaXNWZXJ0aWNhbDogdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVmVydGljYWwsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0UHJvZ3Jlc3MoXHJcbiAgICB0aHVtYlBlcmNlbnRGcm9tOiBudW1iZXIsXHJcbiAgICB0aHVtYlBlcmNlbnRUbzogbnVtYmVyIHwgdW5kZWZpbmVkLFxyXG4gICAgaXNSYW5nZTogYm9vbGVhbixcclxuICApIHtcclxuICAgIGlmICh0aGlzLmRvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5ib29sZWFuVmFyaWFibGVzID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLm51bWJlclZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5kb20uc2xpZGVyID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBwcm9ncmVzcyA9IHRoaXMuZG9tLnNsaWRlci5xdWVyeVNlbGVjdG9yKCcuanMtcGx1Z2luLXNsaWRlcl9fcHJvZ3Jlc3MnKTtcclxuICAgIGlmIChwcm9ncmVzcyA9PT0gbnVsbCkge1xyXG4gICAgICBjb25zdCBwb3NpdGlvbkVuZCA9IHR5cGVvZiB0aHVtYlBlcmNlbnRUbyA9PT0gJ251bWJlcicgPyB0aHVtYlBlcmNlbnRUbyA6IDA7XHJcblxyXG4gICAgICBpZiAodGhpcy5kb20uc2NhbGVFbGVtZW50ID09PSB1bmRlZmluZWRcclxuICAgICAgICB8fCB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNWZXJ0aWNhbCA9PT0gdW5kZWZpbmVkXHJcbiAgICAgICAgfHwgdGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgIHRoaXMuY2xhc3NFbGVtZW50cy5wcm9ncmVzcyA9IG5ldyBQcm9ncmVzcyh7XHJcbiAgICAgICAgcm9vdDogdGhpcy5kb20uc2NhbGVFbGVtZW50LFxyXG4gICAgICAgIHBvc2l0aW9uU3RhcnQ6IHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudEZyb20sXHJcbiAgICAgICAgcG9zaXRpb25FbmQsXHJcbiAgICAgICAgaXNWZXJ0aWNhbDogdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVmVydGljYWwsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1Byb2dyZXNzICYmIGlzUmFuZ2UgJiYgdGh1bWJQZXJjZW50VG8pIHtcclxuICAgICAgdGhpcy5jbGFzc0VsZW1lbnRzLnByb2dyZXNzPy5zZXRQcm9ncmVzc1Bvc2l0aW9uKFxyXG4gICAgICAgIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudEZyb20sXHJcbiAgICAgICAgdGh1bWJQZXJjZW50VG8gLSB0aHVtYlBlcmNlbnRGcm9tLFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1Byb2dyZXNzICYmIHRodW1iUGVyY2VudFRvID09PSB0aHVtYlBlcmNlbnRGcm9tKSB7XHJcbiAgICAgIHRoaXMuY2xhc3NFbGVtZW50cy5wcm9ncmVzcz8uc2V0UHJvZ3Jlc3NQb3NpdGlvbigwLCAwKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNQcm9ncmVzcyAmJiAhaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmNsYXNzRWxlbWVudHMucHJvZ3Jlc3M/LnNldFByb2dyZXNzUG9zaXRpb24oMCwgdGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5kb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgdGhpcy5kb20uc2xpZGVyID0gU2xpZGVyLmNyZWF0ZVNsaWRlcigpO1xyXG4gICAgdGhpcy5jcmVhdGVFbGVtZW50cygpO1xyXG4gICAgdGhpcy5hZGRTbGlkZXIoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVmFyaWFibGVzKHJvb3Q6IEVsZW1lbnQsIHN0YXRlOiBTbGlkZXJPcHRpb25zKTogdm9pZCB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGlzVGlwLFxyXG4gICAgICB2YWx1ZUZyb20sXHJcbiAgICAgIHZhbHVlVG8sXHJcbiAgICAgIHRodW1iUGVyY2VudEZyb20sXHJcbiAgICAgIHRodW1iUGVyY2VudFRvLFxyXG4gICAgICBpc1Byb2dyZXNzLFxyXG4gICAgICBpc1JhbmdlLFxyXG4gICAgICBzY2FsZU1hcCxcclxuICAgICAgaXNWZXJ0aWNhbCxcclxuICAgICAgc2NhbGVNYXJrcyxcclxuICAgIH0gPSBzdGF0ZTtcclxuXHJcbiAgICBpZiAodGhpcy5udW1iZXJWYXJpYWJsZXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgdGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSA9IHRodW1iUGVyY2VudEZyb207XHJcbiAgICBpZiAodGh1bWJQZXJjZW50VG8pIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvID0gdGh1bWJQZXJjZW50VG87XHJcblxyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNUaXAgPSBpc1RpcCB8fCBmYWxzZTtcclxuICAgIHRoaXMubnVtYmVyVmFyaWFibGVzLnRpcFZhbHVlRnJvbSA9IHZhbHVlRnJvbSB8fCAwO1xyXG4gICAgdGhpcy5udW1iZXJWYXJpYWJsZXMudGlwVmFsdWVUbyA9IHZhbHVlVG8gfHwgMDtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1Byb2dyZXNzID0gaXNQcm9ncmVzcyB8fCBmYWxzZTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1JhbmdlID0gaXNSYW5nZSB8fCBmYWxzZTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbCB8fCBmYWxzZTtcclxuICAgIHRoaXMuc2NhbGVNYXAgPSBzY2FsZU1hcDtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1NjYWxlTWFya3MgPSBzY2FsZU1hcmtzO1xyXG5cclxuICAgIGlmICh0aGlzLmRvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICB0aGlzLmRvbS5yb290ID0gcm9vdDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlRWxlbWVudHMoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5kb20gPT09IHVuZGVmaW5lZCB8fCB0aGlzLmJvb2xlYW5WYXJpYWJsZXMgPT09IHVuZGVmaW5lZFxyXG4gICAgICB8fCB0aGlzLm51bWJlclZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy5kb20uc2xpZGVyID09PSB1bmRlZmluZWQgfHwgdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVmVydGljYWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudEZyb20gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuY2xhc3NFbGVtZW50cy5zbGlkZXJDb21wb25lbnRzID0gbmV3IFNsaWRlckNvbXBvbmVudHMoXHJcbiAgICAgIHRoaXMuZG9tLnNsaWRlcixcclxuICAgICAgdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVmVydGljYWwsXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuY2xhc3NFbGVtZW50cy5zY2FsZSA9IG5ldyBTY2FsZSh0aGlzLmRvbS5zbGlkZXIsIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1ZlcnRpY2FsKTtcclxuICAgIHRoaXMuZG9tLnNjYWxlRWxlbWVudCA9IHRoaXMuY2xhc3NFbGVtZW50cy5zY2FsZS5nZXRTY2FsZSgpO1xyXG4gICAgdGhpcy5zZXRUaHVtYigndmFsdWVGcm9tJywgdGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1JhbmdlICYmIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5zZXRUaHVtYigndmFsdWVUbycsIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVGlwKSB7XHJcbiAgICAgIHRoaXMuc2V0VGlwKCd2YWx1ZUZyb20nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5ib29sZWFuVmFyaWFibGVzLmlzVGlwICYmIHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvXHJcbiAgICAgICYmIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1JhbmdlICYmIHRoaXMubnVtYmVyVmFyaWFibGVzLnRpcFZhbHVlVG8gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLnNldFRpcCgndmFsdWVUbycpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNSYW5nZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc2V0UHJvZ3Jlc3ModGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSwgMCwgdGhpcy5ib29sZWFuVmFyaWFibGVzLmlzUmFuZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnNjYWxlTWFwICYmIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1NjYWxlTWFya3MpIHtcclxuICAgICAgdGhpcy5jbGFzc0VsZW1lbnRzLnNjYWxlTWFya3MgPSBuZXcgU2NhbGVNYXJrcyhcclxuICAgICAgICB0aGlzLmRvbS5zY2FsZUVsZW1lbnQsXHJcbiAgICAgICAgdGhpcy5zY2FsZU1hcCxcclxuICAgICAgICB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNWZXJ0aWNhbCxcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkU2xpZGVyKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZG9tID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIGlmICh0aGlzLmRvbS5yb290ID09PSB1bmRlZmluZWQgfHwgdGhpcy5kb20uc2xpZGVyID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgIHRoaXMuZG9tLnJvb3QuYXBwZW5kKHRoaXMuZG9tLnNsaWRlcik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzTmVlZERvdWJsZVRpcCgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLmJvb2xlYW5WYXJpYWJsZXMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLm51bWJlclZhcmlhYmxlcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50VG8gPT09IHVuZGVmaW5lZFxyXG4gICAgICB8fCB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNSYW5nZSA9PT0gdW5kZWZpbmVkXHJcbiAgICAgIHx8IHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudEZyb20gPT09IHVuZGVmaW5lZFxyXG4gICAgICB8fCB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNUaXAgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHJldHVybiAoKHRoaXMubnVtYmVyVmFyaWFibGVzLnRodW1iUGVyY2VudFRvIC0gdGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50RnJvbSA8PSAyKVxyXG4gICAgICB8fCAodGhpcy5udW1iZXJWYXJpYWJsZXMudGh1bWJQZXJjZW50VG8gPT09IDBcclxuICAgICAgICAmJiB0aGlzLm51bWJlclZhcmlhYmxlcy50aHVtYlBlcmNlbnRGcm9tID09PSAwKSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTbGlkZXI7IiwiaW1wb3J0IE9ic2VydmVyIGZyb20gJ0BzcmMvT2JzZXJ2ZXIvT2JzZXJ2ZXInO1xyXG5pbXBvcnQgeyBTTElERVJfRVZFTlRTIH0gZnJvbSAnQHNyYy9PYnNlcnZlci9ldmVudHMnO1xyXG5pbXBvcnQgeyBTbGlkZXJPcHRpb25zIH0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vc3ViVmlld3MvU2xpZGVyL1NsaWRlcic7XHJcblxyXG5jbGFzcyBWaWV3IGV4dGVuZHMgT2JzZXJ2ZXIge1xyXG4gIHByaXZhdGUgcm9vdD86IEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgc2xpZGVyPzogU2xpZGVyO1xyXG5cclxuICBwcm90ZWN0ZWQgaXNSYW5nZT86IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEVsZW1lbnQsIHByb3RlY3RlZCByZWFkb25seSBzdGF0ZTogU2xpZGVyT3B0aW9ucykge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMuaW5pdChyb290LCBzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdXBkYXRlU2xpZGVyKGRhdGE6IFNsaWRlck9wdGlvbnMpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnNsaWRlciA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICB0aGlzLnNsaWRlci5zZXRTdGF0ZShkYXRhKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGUoZGF0YTogU2xpZGVyT3B0aW9ucywgZXZlbnQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgaWYgKGV2ZW50ID09PSBTTElERVJfRVZFTlRTLkRBVEFfQ09MTEVDVEVEKSB7XHJcbiAgICAgIHRoaXMuZW1pdChTTElERVJfRVZFTlRTLlZBTFVFX0NIQU5HRUQsIGRhdGEpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50ID09PSBTTElERVJfRVZFTlRTLlZBTFVFX0NIQU5HRUQpIHtcclxuICAgICAgdGhpcy51cGRhdGVTbGlkZXIoZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Um9vdCgpOiBFbGVtZW50IHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLnJvb3Q7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Um9vdChyb290OiBFbGVtZW50KSB7XHJcbiAgICB0aGlzLnJvb3QgPSByb290O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFNsaWRlcigpOiBTbGlkZXIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuc2xpZGVyO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFNsaWRlcihzbGlkZXI6IFNsaWRlcikge1xyXG4gICAgdGhpcy5zbGlkZXIgPSBzbGlkZXI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXQocm9vdDogRWxlbWVudCwgc3RhdGU6IFNsaWRlck9wdGlvbnMpOiB2b2lkIHtcclxuICAgIGNvbnN0IHsgaXNSYW5nZSB9ID0gc3RhdGU7XHJcbiAgICB0aGlzLnJvb3QgPSByb290O1xyXG4gICAgdGhpcy5pc1JhbmdlID0gaXNSYW5nZTtcclxuICAgIHRoaXMuc2xpZGVyID0gbmV3IFNsaWRlcihyb290LCBzdGF0ZSk7XHJcbiAgICB0aGlzLmFkZFN1YnNjcmliZVNsaWRlcigpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRTdWJzY3JpYmVTbGlkZXIoKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5zbGlkZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMuc2xpZGVyLmNsYXNzRWxlbWVudHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMuc2xpZGVyLmJvb2xlYW5WYXJpYWJsZXMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG4gICAgaWYgKHRoaXMuc2xpZGVyLmNsYXNzRWxlbWVudHMudGh1bWJGcm9tICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5zbGlkZXIuY2xhc3NFbGVtZW50cy50aHVtYkZyb20uYWRkU3Vic2NyaWJlcihcclxuICAgICAgICBTTElERVJfRVZFTlRTLlZBTFVFX1NUQVJUX0NIQU5HRSxcclxuICAgICAgICB0aGlzLnNsaWRlcixcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5zbGlkZXIuY2xhc3NFbGVtZW50cy50aHVtYkZyb20uYWRkU3Vic2NyaWJlcihTTElERVJfRVZFTlRTLktFWV9ET1dOLCB0aGlzLnNsaWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNSYW5nZSAmJiB0aGlzLnNsaWRlci5jbGFzc0VsZW1lbnRzLnRodW1iVG8pIHtcclxuICAgICAgdGhpcy5zbGlkZXIuY2xhc3NFbGVtZW50cy50aHVtYlRvLmFkZFN1YnNjcmliZXIoXHJcbiAgICAgICAgU0xJREVSX0VWRU5UUy5WQUxVRV9TVEFSVF9DSEFOR0UsXHJcbiAgICAgICAgdGhpcy5zbGlkZXIsXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuc2xpZGVyLmNsYXNzRWxlbWVudHMudGh1bWJUby5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuS0VZX0RPV04sIHRoaXMuc2xpZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5zbGlkZXIuY2xhc3NFbGVtZW50cy5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuc2xpZGVyLmNsYXNzRWxlbWVudHMuc2NhbGUuYWRkU3Vic2NyaWJlcihTTElERVJfRVZFTlRTLlNDQUxFX0NMSUNLRUQsIHRoaXMuc2xpZGVyKTtcclxuICAgICAgaWYgKHRoaXMuc2xpZGVyLmJvb2xlYW5WYXJpYWJsZXMuaXNTY2FsZU1hcmtzXHJcbiAgICAgICAgJiYgdGhpcy5zbGlkZXIuY2xhc3NFbGVtZW50cy5zY2FsZU1hcmtzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLnNsaWRlci5jbGFzc0VsZW1lbnRzLnNjYWxlTWFya3MuYWRkU3Vic2NyaWJlcihTTElERVJfRVZFTlRTLk1BUktfQ0xJQ0tFRCwgdGhpcy5zbGlkZXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnNsaWRlci5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuU0NBTEVfQ0xJQ0tFRCwgdGhpcyk7XHJcbiAgICB0aGlzLnNsaWRlci5hZGRTdWJzY3JpYmVyKFNMSURFUl9FVkVOVFMuREFUQV9DT0xMRUNURUQsIHRoaXMpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmlldztcclxuIiwiaW1wb3J0IHtcclxuICBNb2RlbE9wdGlvbnMsXHJcbiAgTW9kZWxWYWx1ZSxcclxuICBUaHVtYkF0dHIsXHJcbn0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5cclxuY2xhc3MgTW9kZWwge1xyXG4gIHByaXZhdGUgc3RhdGU6IE1vZGVsT3B0aW9ucztcclxuXHJcbiAgY29uc3RydWN0b3Ioc3RhdGU6IE1vZGVsT3B0aW9ucykge1xyXG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFN0YXRlKHN0YXRlOiBQYXJ0aWFsPE1vZGVsT3B0aW9ucz4pOiB2b2lkIHtcclxuICAgIHRoaXMuc3RhdGUgPSB7IC4uLnRoaXMuc3RhdGUsIC4uLnN0YXRlIH07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0U3RhdGUoKTogTW9kZWxPcHRpb25zIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGhhbmRsZVNsaWRlckNsaWNrID0gKGNsaWNrUG9zOiBudW1iZXIsIHRodW1iOiBUaHVtYkF0dHIpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHZhbHVlVGh1bWJPYmplY3QgPSB0aGlzLmZpbmRTdWl0YWJsZVBlcmNlbnQoY2xpY2tQb3MpO1xyXG4gICAgdGhpcy51cGRhdGVTdGF0ZU1vdmUodmFsdWVUaHVtYk9iamVjdC52YWx1ZSwgdGh1bWIpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBoYW5kbGVNb3VzZU1vdmUgPSAobW92ZWRUbzogbnVtYmVyLCB0aHVtYjogVGh1bWJBdHRyKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB2YWx1ZVRodW1iT2JqZWN0ID0gdGhpcy5maW5kUGVyY2VudChtb3ZlZFRvLCB0aHVtYik7XHJcbiAgICBjb25zdCB7IHZhbHVlIH0gPSB2YWx1ZVRodW1iT2JqZWN0O1xyXG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgdGhpcy51cGRhdGVTdGF0ZU1vdmUodmFsdWUsIHRodW1iKTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgZ2V0VmFsdWUgPSAodmFsOiBNb2RlbFZhbHVlKTogbnVtYmVyIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt2YWxdO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBnZXRQZXJjZW50VmFsID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICBjb25zdCB7IHZhbHVlRnJvbSwgbWluLCBtYXggfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCByYW5nZTogbnVtYmVyID0gbWF4IC0gbWluO1xyXG4gICAgcmV0dXJuIE51bWJlcigoKHZhbHVlRnJvbSAvIHJhbmdlKSAqIDEwMCkudG9GaXhlZCgzKSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBmaW5kU3VpdGFibGVQZXJjZW50KHBlcmNlbnRNb3ZlOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHsgc3RlcCwgbWluLCBtYXggfSA9IHRoaXMuc3RhdGU7XHJcbiAgICBjb25zdCBuZWFyZXN0U3RlcCA9IE1hdGgucm91bmQocGVyY2VudE1vdmUgLyAoMTAwIC8gdGhpcy5nZXRTdGVwc0NvdW50KCkpKTtcclxuICAgIGNvbnN0IHBlcmNlbnQgPSAoMTAwIC8gdGhpcy5nZXRTdGVwc0NvdW50KCkpICogbmVhcmVzdFN0ZXA7XHJcblxyXG4gICAgbGV0IHZhbHVlOiBudW1iZXI7XHJcbiAgICBpZiAocGVyY2VudCA9PT0gMTAwKSB7XHJcbiAgICAgIHZhbHVlID0gbWF4O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFsdWUgPSBtaW4gKyBzdGVwICogbmVhcmVzdFN0ZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHBlcmNlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBmaW5kUGVyY2VudChwZXJjZW50TW92ZTogbnVtYmVyLCB0aHVtYjogVGh1bWJBdHRyKSB7XHJcbiAgICBjb25zdCB7IG1pbiwgbWF4LCBzdGVwLCBpc1JhbmdlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgY29uc3QgcGVyY2VudFZhbHVlID0gdGh1bWIgPT09ICd2YWx1ZUZyb20nID8gJ3RodW1iUGVyY2VudEZyb20nIDogJ3RodW1iUGVyY2VudFRvJztcclxuICBcclxuICAgIGxldCBjdXJyZW50UGVyY2VudCA9IHRoaXMuc3RhdGVbcGVyY2VudFZhbHVlXTtcclxuICAgIGxldCBjdXJyZW50VmFsdWUgPSB0aGlzLnN0YXRlW3RodW1iIGFzIGtleW9mIE1vZGVsT3B0aW9uc107XHJcblxyXG4gICAgaWYgKGN1cnJlbnRWYWx1ZSA9PT0gdW5kZWZpbmVkKSBjdXJyZW50VmFsdWUgPSBtaW47XHJcbiAgICBpZiAoY3VycmVudFBlcmNlbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRWYWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBpZiAoY3VycmVudFBlcmNlbnQgPT09IHVuZGVmaW5lZCkgY3VycmVudFBlcmNlbnQgPSAoY3VycmVudFZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pICogMTAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnRWYWx1ZSA9IG1pbjtcclxuICAgICAgICBjdXJyZW50UGVyY2VudCA9IChjdXJyZW50VmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiAxMDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIGNvbnN0IG5leHRQZXJjZW50ID0gY3VycmVudFBlcmNlbnQgKyAoMTAwIC8gdGhpcy5nZXRTdGVwc0NvdW50KCkpO1xyXG4gICAgY29uc3QgcHJldlBlcmNlbnQgPSBjdXJyZW50UGVyY2VudCAtICgxMDAgLyB0aGlzLmdldFN0ZXBzQ291bnQoKSk7XHJcbiAgXHJcbiAgICBjb25zdCBuZWFyZXN0UHJldlN0ZXAgPSBNYXRoLmZsb29yKChwZXJjZW50TW92ZSAvIDEwMCkgKiB0aGlzLmdldFN0ZXBzQ291bnQoKSk7XHJcbiAgICBjb25zdCBuZWFyZXN0TmV4dFN0ZXAgPSBNYXRoLmNlaWwoKHBlcmNlbnRNb3ZlIC8gMTAwKSAqIHRoaXMuZ2V0U3RlcHNDb3VudCgpKTtcclxuICBcclxuICAgIGNvbnN0IG5lYXJlc3RQcmV2VmFsdWUgPSAgbWluICsgbmVhcmVzdFByZXZTdGVwICogc3RlcDtcclxuICAgIGNvbnN0IG5lYXJlc3ROZXh0VmFsdWUgPSBtaW4gKyBuZWFyZXN0TmV4dFN0ZXAgKiBzdGVwO1xyXG4gICAgY29uc3QgbmVhcmVzdFByZXZQZXJjZW50ID0gKG5lYXJlc3RQcmV2VmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikgKiAxMDA7XHJcbiAgICBjb25zdCBuZWFyZXN0TmV4dFBlcmNlbnQgPSAobmVhcmVzdE5leHRWYWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKSAqIDEwMDtcclxuICBcclxuICBcclxuICAgIGNvbnN0IHZhbHVlID0gcGVyY2VudE1vdmUgPj0gbmV4dFBlcmNlbnQgPyBuZWFyZXN0UHJldlZhbHVlXHJcbiAgICAgIDogcGVyY2VudE1vdmUgPD0gcHJldlBlcmNlbnQgPyBuZWFyZXN0TmV4dFZhbHVlXHJcbiAgICAgIDogY3VycmVudFZhbHVlO1xyXG4gIFxyXG4gICAgY29uc3QgcGVyY2VudCA9IHBlcmNlbnRNb3ZlID49IG5leHRQZXJjZW50ID8gbmVhcmVzdFByZXZQZXJjZW50XHJcbiAgICAgIDogcGVyY2VudE1vdmUgPD0gcHJldlBlcmNlbnQgPyBuZWFyZXN0TmV4dFBlcmNlbnRcclxuICAgICAgOiBwZXJjZW50TW92ZTtcclxuICBcclxuICAgIGlmKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHRocm93IG5ldyBFcnJvcigndmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyJyk7XHJcbiAgICBpZiAodGh1bWIgPT09ICd2YWx1ZUZyb20nICYmIHRoaXMuc3RhdGUudmFsdWVUbyAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID4gdGhpcy5zdGF0ZS52YWx1ZVRvICYmIGlzUmFuZ2UpIHtcclxuICAgICAgY29uc3QgeyB2YWx1ZVRvLCB0aHVtYlBlcmNlbnRUbyB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2YWx1ZVRvLFxyXG4gICAgICAgIHRodW1iUGVyY2VudFRvLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgaWYgKHRodW1iID09PSAndmFsdWVUbycgJiYgdGhpcy5zdGF0ZS52YWx1ZUZyb20gIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA8IHRoaXMuc3RhdGUudmFsdWVGcm9tICYmIGlzUmFuZ2UpIHtcclxuICAgICAgY29uc3QgeyB2YWx1ZUZyb20sIHRodW1iUGVyY2VudEZyb20gfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdmFsdWVGcm9tLFxyXG4gICAgICAgIHRodW1iUGVyY2VudEZyb20sXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgcGVyY2VudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgZ2V0U3RlcHNDb3VudCA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5zdGF0ZS5tYXggLSB0aGlzLnN0YXRlLm1pbikgLyB0aGlzLnN0YXRlLnN0ZXApO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlU3RhdGVNb3ZlID0gKHZhbDogbnVtYmVyLCB0aHVtYjogVGh1bWJBdHRyKTogdm9pZCA9PiB7XHJcbiAgICBpZiAoTnVtYmVyLmlzTmFOKHZhbCkgfHwgdmFsIDwgdGhpcy5zdGF0ZS5taW4gfHwgdmFsID4gdGhpcy5zdGF0ZS5tYXgpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIHByb3ZpZGVkIHdoaWxlIHVwZGF0aW5nIHRoZSBtb2RlbC4nKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgW3RodW1iXTogdmFsLFxyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7XHJcbiIsImltcG9ydCB7XHJcbiAgTW9kZWxJbnB1dFN0YXRlLFxyXG4gIE1vZGVsT3B0aW9ucyxcclxuICBTdGVwc01hcCxcclxuICBUaHVtYkF0dHIsXHJcbiAgVmFsaWRTbGlkZXJEYXRhLFxyXG59IGZyb20gJ0BzcmMvY29tcG9uZW50cy9JbnRlcmZhY2VzJztcclxuXHJcbmNsYXNzIFZhbGlkYXRvciB7XHJcbiAgcHJpdmF0ZSBERUZBVUxUX0dBUCA9IDIwO1xyXG5cclxuICBib29sZWFuVmFyaWFibGVzOiB7XHJcbiAgICBpc1RpcDogYm9vbGVhbjtcclxuICAgIGlzVmVydGljYWw6IGJvb2xlYW47XHJcbiAgICBpc1Byb2dyZXNzOiBib29sZWFuO1xyXG4gICAgc2NhbGVNYXJrczogYm9vbGVhbjtcclxuICAgIGlzUmFuZ2U6IGJvb2xlYW47XHJcbiAgfTtcclxuXHJcbiAgYmFzZVBhcmFtczoge1xyXG4gICAgbWluOiBudW1iZXI7XHJcbiAgICBtYXg6IG51bWJlcjtcclxuICAgIHZhbHVlRnJvbTogbnVtYmVyO1xyXG4gICAgdmFsdWVUbz86IG51bWJlciB8IHVuZGVmaW5lZDtcclxuICAgIHN0ZXA6IG51bWJlclxyXG4gICAgc3RlcFBlcmNlbnQ/OiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgICB0aHVtYlBlcmNlbnRGcm9tPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xyXG4gICAgdGh1bWJQZXJjZW50VG8/OiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSByZXN1bHRPYmplY3Q/OiBNb2RlbE9wdGlvbnM7XHJcbiAgc2NhbGVQZXJjZW50R2FwOiBudW1iZXIgfCB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGRhdGE6IE1vZGVsSW5wdXRTdGF0ZSkge1xyXG4gICAgdGhpcy5iYXNlUGFyYW1zID0ge1xyXG4gICAgICBtaW46IDAsXHJcbiAgICAgIG1heDogMTAwLFxyXG4gICAgICB2YWx1ZUZyb206IDAsXHJcbiAgICAgIHN0ZXA6IDEsXHJcbiAgICAgIHZhbHVlVG86IHVuZGVmaW5lZCxcclxuICAgICAgc3RlcFBlcmNlbnQ6IDEwLFxyXG4gICAgICB0aHVtYlBlcmNlbnRGcm9tOiB1bmRlZmluZWQsXHJcbiAgICAgIHRodW1iUGVyY2VudFRvOiB1bmRlZmluZWQsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcyA9IHtcclxuICAgICAgaXNUaXA6IGZhbHNlLFxyXG4gICAgICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgICAgaXNQcm9ncmVzczogZmFsc2UsXHJcbiAgICAgIHNjYWxlTWFya3M6IGZhbHNlLFxyXG4gICAgICBpc1JhbmdlOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy52YWxpZGF0ZURhdGEoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmFsaWRhdGVEYXRhKGRhdGE6IE1vZGVsSW5wdXRTdGF0ZSk6IE1vZGVsT3B0aW9ucyB7XHJcbiAgICB0aGlzLnNldEJvb2xlYW5zKGRhdGEpO1xyXG4gICAgdGhpcy5zZXREYXRhKGRhdGEpO1xyXG4gICAgdGhpcy5yZXN1bHRPYmplY3QgPSB7XHJcbiAgICAgIC4uLmRhdGEsXHJcbiAgICAgIC4uLnRoaXMuYm9vbGVhblZhcmlhYmxlcyxcclxuICAgICAgdGh1bWJQZXJjZW50RnJvbTogMCxcclxuICAgICAgdGh1bWJQZXJjZW50VG86IHVuZGVmaW5lZCxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jaGVja1JhbmdlKCk7XHJcbiAgICB0aGlzLmNoZWNrU3RlcCgpO1xyXG4gICAgdGhpcy5jaGVja1ZhbHVlcygpO1xyXG4gICAgdGhpcy5jaGVja1BlcmNlbnRzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5yZXN1bHRPYmplY3Q7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGVyZm9ybU1vdmVUb1BlcmNlbnQoZGF0YTogVmFsaWRTbGlkZXJEYXRhKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHsgY29vcmRzTW92ZSwgc2NhbGVTaXplLCBrZXlFdmVudCwgVGh1bWJBdHRyIH0gPSBkYXRhO1xyXG5cclxuICAgIGlmIChrZXlFdmVudCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuYmFzZVBhcmFtcy5zdGVwUGVyY2VudCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRGcm9tICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKGtleUV2ZW50ID09PSAnaW5jcmVtZW50JyAmJiBUaHVtYkF0dHIgPT09ICd2YWx1ZUZyb20nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRGcm9tICsgdGhpcy5iYXNlUGFyYW1zLnN0ZXBQZXJjZW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoa2V5RXZlbnQgPT09ICdkZWNyZW1lbnQnICYmIFRodW1iQXR0ciA9PT0gJ3ZhbHVlRnJvbScpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlUGFyYW1zLnRodW1iUGVyY2VudEZyb20gLSB0aGlzLmJhc2VQYXJhbXMuc3RlcFBlcmNlbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChrZXlFdmVudCA9PT0gJ2luY3JlbWVudCcgJiYgVGh1bWJBdHRyID09PSAndmFsdWVUbycgJiYgdGhpcy5iYXNlUGFyYW1zLnRodW1iUGVyY2VudFRvICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlUGFyYW1zLnRodW1iUGVyY2VudFRvICsgdGhpcy5iYXNlUGFyYW1zLnN0ZXBQZXJjZW50O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoa2V5RXZlbnQgPT09ICdkZWNyZW1lbnQnICYmIFRodW1iQXR0ciA9PT0gJ3ZhbHVlVG8nICYmIHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRUbyAtIHRoaXMuYmFzZVBhcmFtcy5zdGVwUGVyY2VudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb29yZHNNb3ZlID09PSB1bmRlZmluZWQgfHwgc2NhbGVTaXplID09PSB1bmRlZmluZWQpIHJldHVybiAwO1xyXG5cclxuICAgIGNvbnN0IHBlcmNlbnQgPSBzY2FsZVNpemUgLyAxMDA7XHJcbiAgICBsZXQgcGVyY2VudE1vdmUgPSBOdW1iZXIoKGNvb3Jkc01vdmUgLyBwZXJjZW50KS50b0ZpeGVkKDIpKTtcclxuICAgIGlmIChwZXJjZW50TW92ZSA8IDApIHBlcmNlbnRNb3ZlID0gMDtcclxuICAgIGlmIChwZXJjZW50TW92ZSA+IDEwMCkgcGVyY2VudE1vdmUgPSAxMDA7XHJcbiAgICByZXR1cm4gcGVyY2VudE1vdmU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmFsaWRhdGVNYXJrcyhvcHRpb25zOiB7IG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgc3RlcDogbnVtYmVyLCBnYXA6IG51bWJlciB9KTogU3RlcHNNYXAge1xyXG4gICAgY29uc3QgeyBzdGVwLCBtYXgsIG1pbiwgZ2FwIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgbWFwU3RlcHM6IFN0ZXBzTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgY29uc3QgdmFsaWRHYXAgPSB0aGlzLnZhbGlkYXRlR2FwKGdhcCk7XHJcbiAgICBjb25zdCByYW5nZSA9IHRoaXMuZmluZFJhbmdlKCk7XHJcbiAgICBjb25zdCBwZXJjZW50ID0gcmFuZ2UgLyAxMDA7XHJcbiAgICBjb25zdCBzdGVwUGVyY2VudCA9IHN0ZXAgLyBwZXJjZW50O1xyXG4gICAgY29uc3Qgc3RlcENvdW50R2FwID0gc3RlcCAqIE1hdGguY2VpbCh2YWxpZEdhcCAvIHN0ZXBQZXJjZW50KTtcclxuICAgIGNvbnN0IHBlcmNlbnRDb3VudHNHYXAgPSBNYXRoLmNlaWwoc3RlcENvdW50R2FwIC8gcGVyY2VudCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMTAwOyBpICs9IHBlcmNlbnRDb3VudHNHYXApIHtcclxuICAgICAgaWYgKGkgPD0gMTAwIC0gcGVyY2VudENvdW50c0dhcCkge1xyXG4gICAgICAgIGNvbnN0IHN0ZXBDb3VudCA9IE1hdGgucm91bmQoaSAvIHN0ZXBQZXJjZW50KTtcclxuICAgICAgICBjb25zdCB2YWx1ZVN0ZXBzID0gc3RlcCAqIHN0ZXBDb3VudDtcclxuICAgICAgICBjb25zdCBwZXJjZW50U2NhbGUgPSB2YWx1ZVN0ZXBzIC8gcGVyY2VudDtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IG1pbiArIHZhbHVlU3RlcHM7XHJcblxyXG4gICAgICAgIG1hcFN0ZXBzLnNldCh2YWx1ZSwgcGVyY2VudFNjYWxlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1hcFN0ZXBzLnNldChtYXgsIDEwMCk7XHJcbiAgICByZXR1cm4gbWFwU3RlcHM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmFsaWRhdGVUaHVtYkF0dHIobW92ZWRUbzogbnVtYmVyKTogVGh1bWJBdHRyIHtcclxuICAgIGlmICh0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50RnJvbSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJ3ZhbHVlVG8nO1xyXG4gICAgaWYgKCF0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNSYW5nZSkgcmV0dXJuICd2YWx1ZUZyb20nO1xyXG4gICAgaWYgKG1vdmVkVG8gPCB0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50RnJvbSkgcmV0dXJuICd2YWx1ZUZyb20nO1xyXG4gICAgaWYgKHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkICYmIG1vdmVkVG8gPiB0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50VG8pIHJldHVybiAndmFsdWVUbyc7XHJcblxyXG4gICAgaWYgKHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRUbyAhPT0gdW5kZWZpbmVkICYmIG1vdmVkVG8gPiB0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50RnJvbSAmJiBtb3ZlZFRvIDwgdGhpcy5iYXNlUGFyYW1zLnRodW1iUGVyY2VudFRvKSB7XHJcbiAgICAgIGNvbnN0IGRpZmZGcm9tID0gbW92ZWRUbyAtIHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRGcm9tO1xyXG4gICAgICBjb25zdCBkaWZmVG8gPSB0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50VG8gLSBtb3ZlZFRvO1xyXG5cclxuICAgICAgaWYgKGRpZmZGcm9tID09PSBkaWZmVG8gfHwgZGlmZkZyb20gPCBkaWZmVG8pIHJldHVybiAndmFsdWVGcm9tJztcclxuICAgICAgaWYgKGRpZmZGcm9tID4gZGlmZlRvKSByZXR1cm4gJ3ZhbHVlVG8nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAndmFsdWVUbyc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdmFsaWRhdGVQZXJjZW50KHBlcmNlbnQ6IG51bWJlciwgdmFsdWU6IG51bWJlciwgb2xkU3RhdGU6IE1vZGVsT3B0aW9ucyk6IE1vZGVsT3B0aW9ucyB7XHJcbiAgICBjb25zdCB7IGlzUmFuZ2UgfSA9IG9sZFN0YXRlO1xyXG5cclxuICAgIGlmICghaXNSYW5nZSkge1xyXG4gICAgICBjb25zdCBuZXdEYXRhID0geyAuLi5vbGRTdGF0ZSwgdmFsdWVGcm9tOiB2YWx1ZSwgdGh1bWJQZXJjZW50RnJvbTogcGVyY2VudCB9O1xyXG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZURhdGEobmV3RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9sZFN0YXRlLnRodW1iUGVyY2VudFRvICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc3QgeyB0aHVtYlBlcmNlbnRGcm9tLCB0aHVtYlBlcmNlbnRUbyB9ID0gb2xkU3RhdGU7XHJcbiAgICAgIGxldCB0aHVtYlBlcmNlbnQgPSAndGh1bWJQZXJjZW50RnJvbSc7XHJcbiAgICAgIGxldCB0aHVtYlZhbHVlOiBrZXlvZiBNb2RlbE9wdGlvbnMgPSAndmFsdWVGcm9tJztcclxuXHJcbiAgICAgIGlmIChwZXJjZW50ID4gdGh1bWJQZXJjZW50VG8pIHtcclxuICAgICAgICB0aHVtYlBlcmNlbnQgPSAndGh1bWJQZXJjZW50VG8nO1xyXG4gICAgICAgIHRodW1iVmFsdWUgPSAndmFsdWVUbyc7XHJcbiAgICAgIH0gZWxzZSBpZiAocGVyY2VudCA+IHRodW1iUGVyY2VudEZyb20gJiYgcGVyY2VudCA8IHRodW1iUGVyY2VudFRvKSB7XHJcbiAgICAgICAgY29uc3QgZGlmZmVyZW50UGVyY2VudCA9IHRodW1iUGVyY2VudFRvIC0gdGh1bWJQZXJjZW50RnJvbTtcclxuICAgICAgICBjb25zdCBwZXJjZW50VmFsdWUgPSBwZXJjZW50IC0gdGh1bWJQZXJjZW50RnJvbTtcclxuICAgICAgICBjb25zdCBtaWRkbGUgPSBkaWZmZXJlbnRQZXJjZW50IC8gMjtcclxuXHJcbiAgICAgICAgaWYgKHBlcmNlbnRWYWx1ZSA+PSBtaWRkbGUpIHtcclxuICAgICAgICAgIHRodW1iUGVyY2VudCA9ICd0aHVtYlBlcmNlbnRUbyc7XHJcbiAgICAgICAgICB0aHVtYlZhbHVlID0gJ3ZhbHVlVG8nO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbmV3RGF0YSA9IHsgLi4ub2xkU3RhdGUsIFt0aHVtYlZhbHVlXTogdmFsdWUsIFt0aHVtYlBlcmNlbnRdOiBwZXJjZW50IH07XHJcbiAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlRGF0YShuZXdEYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gb2xkU3RhdGU7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldERhdGEoZGF0YTogTW9kZWxJbnB1dFN0YXRlKTogdm9pZCB7XHJcbiAgICBjb25zdCB7IG1pbiwgbWF4LCB2YWx1ZUZyb20sIHN0ZXAsIHNjYWxlUGVyY2VudEdhcCwgdmFsdWVUbyB9ID0gZGF0YTtcclxuICAgIHRoaXMuYmFzZVBhcmFtcy5taW4gPSBtaW47XHJcbiAgICB0aGlzLmJhc2VQYXJhbXMubWF4ID0gbWF4O1xyXG4gICAgdGhpcy5iYXNlUGFyYW1zLnZhbHVlRnJvbSA9IHZhbHVlRnJvbTtcclxuICAgIHRoaXMuYmFzZVBhcmFtcy5zdGVwID0gc3RlcDtcclxuICAgIHRoaXMuc2NhbGVQZXJjZW50R2FwID0gdHlwZW9mIHNjYWxlUGVyY2VudEdhcCA9PT0gJ251bWJlcicgPyBzY2FsZVBlcmNlbnRHYXAgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1JhbmdlICYmIHZhbHVlVG8gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmJhc2VQYXJhbXMudmFsdWVUbyA9IHZhbHVlVG87XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5iYXNlUGFyYW1zLnN0ZXBQZXJjZW50ID0gdGhpcy5iYXNlUGFyYW1zLnN0ZXAgLyAodGhpcy5maW5kUmFuZ2UoKSAvIDEwMCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEJvb2xlYW5zKGRhdGE6IE1vZGVsSW5wdXRTdGF0ZSk6IHZvaWQge1xyXG4gICAgY29uc3QgeyBpc1JhbmdlLCBpc1RpcCwgaXNWZXJ0aWNhbCwgaXNQcm9ncmVzcywgc2NhbGVNYXJrcyB9ID0gZGF0YTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1JhbmdlID0gdHlwZW9mIGlzUmFuZ2UgPT09ICdib29sZWFuJyA/IGlzUmFuZ2UgOiBmYWxzZTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1RpcCA9IHR5cGVvZiBpc1RpcCA9PT0gJ2Jvb2xlYW4nID8gaXNUaXAgOiBmYWxzZTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1ZlcnRpY2FsID0gdHlwZW9mIGlzVmVydGljYWwgPT09ICdib29sZWFuJyA/IGlzVmVydGljYWwgOiBmYWxzZTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1Byb2dyZXNzID0gdHlwZW9mIGlzUHJvZ3Jlc3MgPT09ICdib29sZWFuJyA/IGlzUHJvZ3Jlc3MgOiBmYWxzZTtcclxuICAgIHRoaXMuYm9vbGVhblZhcmlhYmxlcy5zY2FsZU1hcmtzID0gdHlwZW9mIHNjYWxlTWFya3MgPT09ICdib29sZWFuJyA/IHNjYWxlTWFya3MgOiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdmFsaWRhdGVHYXAoYmFzaXNQZXJjZW50OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgbGV0IHJlc3VsdCA9IGJhc2lzUGVyY2VudDtcclxuICAgIGlmIChyZXN1bHQgPCAwIHx8IHJlc3VsdCA+IDEwMCkgcmVzdWx0ID0gdGhpcy5ERUZBVUxUX0dBUDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUmFuZ2UoKTogdm9pZCB7XHJcbiAgICBpZiAoTnVtYmVyLmlzTmFOKHRoaXMuYmFzZVBhcmFtcy5taW4pKSB0aGlzLmJhc2VQYXJhbXMubWluID0gMDtcclxuICAgIGlmIChOdW1iZXIuaXNOYU4odGhpcy5iYXNlUGFyYW1zLm1heCkpIHRoaXMuYmFzZVBhcmFtcy5tYXggPSAxMDtcclxuXHJcbiAgICBpZiAodGhpcy5iYXNlUGFyYW1zLm1pbiA9PT0gdGhpcy5iYXNlUGFyYW1zLm1heCkge1xyXG4gICAgICB0aGlzLmJhc2VQYXJhbXMubWF4ID0gdGhpcy5iYXNlUGFyYW1zLm1pbiArIHRoaXMuYmFzZVBhcmFtcy5zdGVwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmJhc2VQYXJhbXMubWluID4gdGhpcy5iYXNlUGFyYW1zLm1heCkge1xyXG4gICAgICBbdGhpcy5iYXNlUGFyYW1zLm1pbiwgdGhpcy5iYXNlUGFyYW1zLm1heF0gPSBbdGhpcy5iYXNlUGFyYW1zLm1heCwgdGhpcy5iYXNlUGFyYW1zLm1pbl07XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXN1bHRPYmplY3QhLm1pbiA9IHRoaXMuYmFzZVBhcmFtcy5taW47XHJcbiAgICB0aGlzLnJlc3VsdE9iamVjdCEubWF4ID0gdGhpcy5iYXNlUGFyYW1zLm1heDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tTdGVwKCk6IHZvaWQge1xyXG4gICAgaWYgKE51bWJlci5pc05hTih0aGlzLmJhc2VQYXJhbXMuc3RlcCkpIHRoaXMuYmFzZVBhcmFtcy5zdGVwID0gMTtcclxuICAgIGNvbnN0IGFsbFJhbmdlID0gdGhpcy5maW5kUmFuZ2UoKTtcclxuXHJcbiAgICBpZiAodGhpcy5iYXNlUGFyYW1zLnN0ZXAgPiBhbGxSYW5nZSkge1xyXG4gICAgICB0aGlzLmJhc2VQYXJhbXMuc3RlcCA9IGFsbFJhbmdlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmJhc2VQYXJhbXMuc3RlcCA8IDAuMDAxKSB0aGlzLmJhc2VQYXJhbXMuc3RlcCA9IDAuMDAxO1xyXG5cclxuICAgIHRoaXMucmVzdWx0T2JqZWN0IS5zdGVwID0gdGhpcy5iYXNlUGFyYW1zLnN0ZXA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZpbmRSYW5nZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuYmFzZVBhcmFtcy5tYXggLSB0aGlzLmJhc2VQYXJhbXMubWluO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1ZhbHVlcygpOiB2b2lkIHtcclxuICAgIHRoaXMuYmFzZVBhcmFtcy52YWx1ZUZyb20gPSB0aGlzLmNoZWNrVmFsdWUodGhpcy5iYXNlUGFyYW1zLnZhbHVlRnJvbSk7XHJcblxyXG4gICAgaWYgKHRoaXMuYm9vbGVhblZhcmlhYmxlcy5pc1JhbmdlICYmIHRoaXMuYmFzZVBhcmFtcy52YWx1ZVRvICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5iYXNlUGFyYW1zLnZhbHVlVG8gPSB0aGlzLmNoZWNrVmFsdWUodGhpcy5iYXNlUGFyYW1zLnZhbHVlVG8pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmJhc2VQYXJhbXMudmFsdWVUbyAhPT0gdW5kZWZpbmVkICYmIHRoaXMuYmFzZVBhcmFtcy52YWx1ZUZyb20gPiB0aGlzLmJhc2VQYXJhbXMudmFsdWVUbyAmJiB0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNSYW5nZSkge1xyXG4gICAgICBbdGhpcy5iYXNlUGFyYW1zLnZhbHVlRnJvbSwgdGhpcy5iYXNlUGFyYW1zLnZhbHVlVG9dID0gW3RoaXMuYmFzZVBhcmFtcy52YWx1ZVRvLCB0aGlzLmJhc2VQYXJhbXMudmFsdWVGcm9tXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc3VsdE9iamVjdCEudmFsdWVGcm9tID0gdGhpcy5iYXNlUGFyYW1zLnZhbHVlRnJvbTtcclxuICAgIGlmICh0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNSYW5nZSkgdGhpcy5yZXN1bHRPYmplY3QhLnZhbHVlVG8gPSB0aGlzLmJhc2VQYXJhbXMudmFsdWVUbztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tWYWx1ZSh2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGxldCByZXN1bHQgPSB2YWx1ZTtcclxuICAgIGlmIChOdW1iZXIuaXNOYU4ocmVzdWx0KSkgcmVzdWx0ID0gMDtcclxuICAgIGlmIChyZXN1bHQgPT09IHRoaXMuYmFzZVBhcmFtcy5tYXgpIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgaWYgKHJlc3VsdCAlIHRoaXMuYmFzZVBhcmFtcy5zdGVwICE9PSAwICYmIHJlc3VsdCAhPT0gdGhpcy5iYXNlUGFyYW1zLm1pbikge1xyXG4gICAgICBjb25zdCBjb3VudFN0ZXAgPSBNYXRoLnJvdW5kKChyZXN1bHQgLSB0aGlzLmJhc2VQYXJhbXMubWluKSAvIHRoaXMuYmFzZVBhcmFtcy5zdGVwKTtcclxuICAgICAgY29uc3QgY291bnRWYWwgPSB0aGlzLmJhc2VQYXJhbXMubWluICsgdGhpcy5iYXNlUGFyYW1zLnN0ZXAgKiBjb3VudFN0ZXA7XHJcbiAgICAgIHJlc3VsdCA9IGNvdW50VmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZXN1bHQgPiB0aGlzLmJhc2VQYXJhbXMubWF4KSB7XHJcbiAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVBhcmFtcy5tYXg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlc3VsdCA8IHRoaXMuYmFzZVBhcmFtcy5taW4pIHtcclxuICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlUGFyYW1zLm1pbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja1BlcmNlbnRzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5iYXNlUGFyYW1zLnRodW1iUGVyY2VudEZyb20gPSB0aGlzLmNoZWNrUGVyY2VudCgndmFsdWVGcm9tJyk7XHJcbiAgICB0aGlzLnJlc3VsdE9iamVjdCEudGh1bWJQZXJjZW50RnJvbSA9IHRoaXMuYmFzZVBhcmFtcy50aHVtYlBlcmNlbnRGcm9tO1xyXG5cclxuICAgIGlmICh0aGlzLmJvb2xlYW5WYXJpYWJsZXMuaXNSYW5nZSkge1xyXG4gICAgICB0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50VG8gPSB0aGlzLmNoZWNrUGVyY2VudCgndmFsdWVUbycpO1xyXG4gICAgICB0aGlzLnJlc3VsdE9iamVjdCEudGh1bWJQZXJjZW50VG8gPSB0aGlzLmJhc2VQYXJhbXMudGh1bWJQZXJjZW50VG87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrUGVyY2VudCh2YWx1ZTogVGh1bWJBdHRyKTogbnVtYmVyIHtcclxuICAgIGxldCB2YXJpYWJsZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gMDtcclxuICAgIGlmICh2YWx1ZSBpbiB0aGlzLmJhc2VQYXJhbXMpIHtcclxuICAgICAgdmFyaWFibGUgPSAodGhpcy5iYXNlUGFyYW1zIGFzIGFueSlbdmFsdWVdIGFzIG51bWJlcjtcclxuICAgIH1cclxuICAgIGlmICh2YXJpYWJsZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMDtcclxuICAgIGNvbnN0IHZhbHVlT2ZSYW5nZSA9IHZhcmlhYmxlIC0gdGhpcy5iYXNlUGFyYW1zLm1pbjtcclxuICAgIGNvbnN0IGN1cnJlbnRQZXJjZW50ID0gTnVtYmVyKCh2YWx1ZU9mUmFuZ2UgLyAodGhpcy5maW5kUmFuZ2UoKSAvIDEwMCkpLnRvRml4ZWQoMykpO1xyXG4gICAgcmV0dXJuIGN1cnJlbnRQZXJjZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmFsaWRhdG9yO1xyXG4iLCJpbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnQHNyYy9PYnNlcnZlci9PYnNlcnZlcic7XHJcbmltcG9ydCB7IE1PREVMX0VWRU5UUyB9IGZyb20gJ0BzcmMvT2JzZXJ2ZXIvZXZlbnRzJztcclxuaW1wb3J0IHtcclxuICBNb2RlbElucHV0U3RhdGUsXHJcbiAgTW9kZWxPcHRpb25zLFxyXG4gIE1vZGVsVmFsdWUsXHJcbiAgU2xpZGVyT3B0aW9ucyxcclxuICBTdGVwc01hcCxcclxuICBWYWxpZFNsaWRlckRhdGEsXHJcbn0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgTW9kZWwgZnJvbSAnLi9Nb2RlbCc7XHJcbmltcG9ydCBWYWxpZGF0b3IgZnJvbSAnLi9WYWxpZGF0b3InO1xyXG5cclxuY2xhc3MgTW9kZWxGYWNhZGUgZXh0ZW5kcyBPYnNlcnZlciB7XHJcbiAgcHJpdmF0ZSBtb2RlbDogTW9kZWw7XHJcbiAgcHJpdmF0ZSB2YWxpZGF0b3I6IFZhbGlkYXRvcjtcclxuXHJcbiAgY29uc3RydWN0b3Ioc3RhdGU6IE1vZGVsSW5wdXRTdGF0ZSkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMudmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcihzdGF0ZSk7XHJcbiAgICBjb25zdCB2YWxpZFN0YXRlID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVEYXRhKHN0YXRlKTtcclxuICAgIHRoaXMubW9kZWwgPSBuZXcgTW9kZWwodmFsaWRTdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IE1vZGVsSW5wdXRTdGF0ZSk6IHZvaWQge1xyXG4gICAgY29uc3QgdmFsaWRTdGF0ZSA9IHRoaXMudmFsaWRhdG9yLnZhbGlkYXRlRGF0YShzdGF0ZSk7XHJcbiAgICB0aGlzLm1vZGVsLnNldFN0YXRlKHZhbGlkU3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldFN0YXRlKCk6IFNsaWRlck9wdGlvbnMge1xyXG4gICAgaWYgKHRoaXMubW9kZWwuZ2V0U3RhdGUoKS5zY2FsZU1hcmtzKSB7XHJcbiAgICAgIGNvbnN0IHNsaWRlck1hcmtzID0gdGhpcy52YWxpZEdhcE1hcmtzKCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4udGhpcy5tb2RlbC5nZXRTdGF0ZSgpLFxyXG4gICAgICAgIHNjYWxlTWFwOiBzbGlkZXJNYXJrcyxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLm1vZGVsLmdldFN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0VmFsdWUodmFsdWU6IE1vZGVsVmFsdWUpIHtcclxuICAgIHJldHVybiB0aGlzLm1vZGVsLmdldFN0YXRlKClbdmFsdWVdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVwZGF0ZShkYXRhOiBWYWxpZFNsaWRlckRhdGEpOiB2b2lkIHtcclxuICAgIGNvbnN0IGlzU2NhbGVNb3ZlID0gZGF0YS5wZXJjZW50ID09PSB1bmRlZmluZWQ7XHJcblxyXG4gICAgaWYgKGlzU2NhbGVNb3ZlKSB7XHJcbiAgICAgIGNvbnN0IG1vdmVkVG8gPSB0aGlzLnZhbGlkYXRvci5wZXJmb3JtTW92ZVRvUGVyY2VudChkYXRhKTtcclxuXHJcbiAgICAgIGlmIChkYXRhLlRodW1iQXR0ciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5oYW5kbGVNb3VzZU1vdmUobW92ZWRUbywgZGF0YS5UaHVtYkF0dHIpO1xyXG4gICAgICB9IFxyXG5cclxuICAgICAgaWYgKGRhdGEuVGh1bWJBdHRyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjb25zdCBUaHVtYkF0dHIgPSB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZVRodW1iQXR0cihtb3ZlZFRvKTtcclxuICAgICAgICB0aGlzLm1vZGVsLmhhbmRsZVNsaWRlckNsaWNrKG1vdmVkVG8sIFRodW1iQXR0cik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gdGhpcy5tb2RlbC5nZXRTdGF0ZSgpO1xyXG4gICAgICBjb25zdCB2YWxpZFN0YXRlID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVEYXRhKG5ld1N0YXRlKTtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRTdGF0ZSh2YWxpZFN0YXRlKTtcclxuXHJcbiAgICAgIGlmIChuZXdTdGF0ZS5zY2FsZU1hcmtzKSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KE1PREVMX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB7XHJcbiAgICAgICAgICAuLi50aGlzLm1vZGVsLmdldFN0YXRlKCksXHJcbiAgICAgICAgICBzY2FsZU1hcDogdGhpcy52YWxpZEdhcE1hcmtzKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5lbWl0KE1PREVMX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB0aGlzLm1vZGVsLmdldFN0YXRlKCkpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB7IHBlcmNlbnQsIHZhbHVlIH0gPSBkYXRhO1xyXG4gICAgICBjb25zdCBwZXJmb3JtZWREYXRhID0gdGhpcy52YWxpZGF0b3IudmFsaWRhdGVQZXJjZW50KFxyXG4gICAgICAgIHBlcmNlbnQhLFxyXG4gICAgICAgIHZhbHVlISxcclxuICAgICAgICB0aGlzLm1vZGVsLmdldFN0YXRlKClcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5tb2RlbC5zZXRTdGF0ZShwZXJmb3JtZWREYXRhKTtcclxuICAgICAgdGhpcy5lbWl0KE1PREVMX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB0aGlzLm1vZGVsLmdldFN0YXRlKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFZhbHVlKHBhcmFtOiBNb2RlbFZhbHVlLCB2YWx1ZTogbnVtYmVyIHwgYm9vbGVhbik6IHZvaWQge1xyXG4gICAgY29uc3Qgb2xkU3RhdGUgPSB0aGlzLm1vZGVsLmdldFN0YXRlKCk7XHJcbiAgICBjb25zdCBuZXdTdGF0ZTogTW9kZWxPcHRpb25zID0geyAuLi5vbGRTdGF0ZSwgW3BhcmFtXTogdmFsdWUgfTtcclxuICAgIGNvbnN0IHZhbGlkU3RhdGUgPSB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZURhdGEobmV3U3RhdGUpO1xyXG4gICAgdGhpcy5tb2RlbC5zZXRTdGF0ZSh2YWxpZFN0YXRlKTtcclxuICAgIHRoaXMuZW1pdChNT0RFTF9FVkVOVFMuVkFMVUVfQ0hBTkdFRCwgdGhpcy5tb2RlbC5nZXRTdGF0ZSgpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB2YWxpZEdhcE1hcmtzKCk6IFN0ZXBzTWFwIHtcclxuICAgIGNvbnN0IHsgc2NhbGVQZXJjZW50R2FwLCBtaW4sIG1heCwgc3RlcCB9ID0gdGhpcy5tb2RlbC5nZXRTdGF0ZSgpO1xyXG4gICAgY29uc3QgZ2FwID0gc2NhbGVQZXJjZW50R2FwID8/IDIwO1xyXG4gICAgY29uc3Qgc2xpZGVyTWFya3MgPSB0aGlzLnZhbGlkYXRvci52YWxpZGF0ZU1hcmtzKHsgbWluLCBtYXgsIHN0ZXAsIGdhcCB9KTtcclxuICAgIHJldHVybiBzbGlkZXJNYXJrcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsRmFjYWRlO1xyXG4iLCJpbXBvcnQgeyBNT0RFTF9FVkVOVFMsIFNMSURFUl9FVkVOVFMgfSBmcm9tICdAc3JjL09ic2VydmVyL2V2ZW50cyc7XHJcbmltcG9ydCBPYnNlcnZlciBmcm9tICdAc3JjL09ic2VydmVyL09ic2VydmVyJztcclxuaW1wb3J0IHsgTW9kZWxJbnB1dFN0YXRlLCBNb2RlbFZhbHVlLCBTbGlkZXJPcHRpb25zIH0gZnJvbSAnQHNyYy9jb21wb25lbnRzL0ludGVyZmFjZXMnO1xyXG5pbXBvcnQgVmlldyBmcm9tICcuLi9WaWV3L1ZpZXcnO1xyXG5pbXBvcnQgTW9kZWxGYWNhZGUgZnJvbSAnLi4vTW9kZWwvTW9kZWxGYWNhZGUnO1xyXG5cclxuY2xhc3MgUHJlc2VudGVyIGV4dGVuZHMgT2JzZXJ2ZXIge1xyXG4gIHByaXZhdGUgbW9kZWxGYWNhZGU6IE1vZGVsRmFjYWRlO1xyXG5cclxuICBwcml2YXRlIHZpZXc6IFZpZXc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJvb3Q6IEhUTUxFbGVtZW50LCBzdGF0ZTogTW9kZWxJbnB1dFN0YXRlKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5tb2RlbEZhY2FkZSA9IG5ldyBNb2RlbEZhY2FkZShzdGF0ZSk7XHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhyb290LCB0aGlzLm1vZGVsRmFjYWRlLmdldFN0YXRlKCkpO1xyXG4gICAgdGhpcy5zdWJzY3JpYmVNb2RlbCgpO1xyXG4gICAgdGhpcy5zdWJzY3JpYmVTbGlkZXIoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRTdGF0ZSgpOiBTbGlkZXJPcHRpb25zIHtcclxuICAgIHJldHVybiB0aGlzLm1vZGVsRmFjYWRlLmdldFN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0U3RhdGUoc3RhdGU6IE1vZGVsSW5wdXRTdGF0ZSk6IHZvaWQge1xyXG4gICAgdGhpcy5tb2RlbEZhY2FkZS5zZXRTdGF0ZShzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0VmFsdWUocGFyYW06IE1vZGVsVmFsdWUsIHZhbHVlOiBudW1iZXIgfCBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vZGVsRmFjYWRlLnNldFZhbHVlKHBhcmFtLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0VmFsdWUocGFyYW06IE1vZGVsVmFsdWUpOiBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLm1vZGVsRmFjYWRlLmdldFZhbHVlKHBhcmFtKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3Vic2NyaWJlU2xpZGVyKCk6IHZvaWQge1xyXG4gICAgdGhpcy52aWV3LmFkZFN1YnNjcmliZXIoU0xJREVSX0VWRU5UUy5WQUxVRV9DSEFOR0VELCB0aGlzLm1vZGVsRmFjYWRlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3Vic2NyaWJlTW9kZWwoKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vZGVsRmFjYWRlLmFkZFN1YnNjcmliZXIoTU9ERUxfRVZFTlRTLlZBTFVFX0NIQU5HRUQsIHRoaXMudmlldyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcmVzZW50ZXI7XHJcbiIsImNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcclxuICBtaW46IDAsXHJcbiAgbWF4OiAxMDAsXHJcbiAgdmFsdWVGcm9tOiAwLFxyXG4gIHZhbHVlVG86IDAsXHJcbiAgc3RlcDogMSxcclxuICBzY2FsZVBlcmNlbnRHYXA6IDEwLFxyXG4gIHNjYWxlTWFya3M6IGZhbHNlLFxyXG4gIGlzVGlwOiBmYWxzZSxcclxuICBpc1Byb2dyZXNzOiBmYWxzZSxcclxuICBpc1JhbmdlOiBmYWxzZSxcclxuICBpc1ZlcnRpY2FsOiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGluaXRpYWxTdGF0ZTtcclxuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFByZXNlbnRlciBmcm9tICcuL2NvbXBvbmVudHMvUHJlc2VudGVyL1ByZXNlbnRlcic7XHJcbmltcG9ydCBpbml0aWFsU3RhdGUgZnJvbSAnLi9zdGF0ZSc7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgaW50ZXJmYWNlIEpRdWVyeSB7XHJcbiAgICBzbGlkZXJQbHVnaW4ob3B0aW9uczogb2JqZWN0KTogUHJlc2VudGVyXHJcbiAgfVxyXG59XHJcblxyXG4kLmZuLnNsaWRlclBsdWdpbiA9IGZ1bmN0aW9uIHNsaWRlclBsdWdpbihvcHRpb25zOiBvYmplY3QpOiBQcmVzZW50ZXIge1xyXG4gIGNvbnN0IHN0YXRlID0geyAuLi5pbml0aWFsU3RhdGUsIC4uLm9wdGlvbnMgfTtcclxuICBjb25zdCBzbGlkZXIgPSBuZXcgUHJlc2VudGVyKHRoaXNbMF0sIHN0YXRlKTtcclxuICByZXR1cm4gc2xpZGVyO1xyXG59OyJdLCJuYW1lcyI6WyJNT0RFTF9FVkVOVFMiLCJTTElERVJfRVZFTlRTIiwiY29uc3RydWN0b3IiLCJvYnNlcnZlcnMiLCJPYmplY3QiLCJjcmVhdGUiLCJhZGRTdWJzY3JpYmVyIiwiZXZlbnQiLCJvYnNlcnZlciIsInRoaXMiLCJrZXlzIiwicmVtb3ZlU3Vic2NyaWJlciIsImZpbHRlciIsIm9icyIsImVtaXQiLCJkYXRhIiwiZm9yRWFjaCIsInVwZGF0ZSIsIk9ic2VydmVyIiwicm9vdCIsImlzVmVydGljYWwiLCJzdXBlciIsImRpcmVjdGlvbiIsInN0YXJ0UG9pbnQiLCJzaXplIiwibW9kIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsInBlcmZvcm1Qb2ludGVyTW92ZSIsInRodW1iUG9zIiwiYXR0ciIsImhhbmRsZVRodW1iUG9pbnRlck1vdmUiLCJlIiwicHJldmVudERlZmF1bHQiLCJlbGVtU2l6ZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm5ld1BvcyIsImNvb3Jkc01vdmUiLCJUaHVtYkF0dHIiLCJoYW5kbGVUaHVtYlBvaW50ZXJVcCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicGVyZm9ybVRvdWNoTW92ZSIsImlkIiwiaGFuZGxlVGh1bWJUb3VjaE1vdmUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJ0b3VjaGVzIiwiaGFuZGxlVGh1bWJUb3VjaEVuZCIsInBlcmZvcm1LZXlEb3duIiwia2V5RXZlbnQiLCJwZXJmb3JtQ2xpY2tNYXJrIiwicGVyY2VudCIsInZhbHVlIiwiU2xpZGVyQ29tcG9uZW50cyIsInBvc2l0aW9uU3RhcnQiLCJwb3NpdGlvbkVuZCIsInByb2dyZXNzIiwic2V0UHJvZ3Jlc3MiLCJzdHlsZSIsImFwcGVuZCIsInNldFByb2dyZXNzUG9zaXRpb24iLCJzY2FsZSIsImhhbmRsZVNjYWxlUG9pbnRlckRvd24iLCJiaW5kIiwiaW5pdCIsImdldFNjYWxlIiwic2NhbGVDbGFzcyIsImNsYXNzTGlzdCIsImFkZCIsImFkZFNjYWxlIiwiYWRkTGlzdGVuZXJzIiwidGFyZ2V0IiwiY2xvc2VzdCIsImNvbnRhaW5zIiwic2NhbGVSZWN0Iiwic2NhbGVTaXplIiwic2NhbGVTdGFydCIsImVtaXREYXRhIiwiTUFSS1NfSElEREVOIiwibWFya3MiLCJjcmVhdGVNYXJrcyIsImFkanVzdE1hcmtWaXNpYmlsaXR5IiwiaGFuZGxlUm9vdENsaWNrIiwiZGF0YXNldCIsInVuZGVmaW5lZCIsIk51bWJlciIsImNyZWF0ZU1hcmsiLCJtYXJrIiwiY3JlYXRlTWFya0VsZW1lbnQiLCJtYXJrVmFsdWUiLCJjcmVhdGVNYXJrVmFsdWVFbGVtZW50IiwiaW5uZXJUZXh0IiwibWFya0VsZW1lbnRzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImxhc3RWaXNpYmxlTWFya1Bvc2l0aW9uIiwibWFya1ZhbHVlRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtYXJrUGVyY2VudCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZSIsInZhbHVlcyIsInRodW1iUGVyY2VudCIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJ0aHVtYkF0dHIiLCJoYW5kbGVUaHVtYlBvaW50ZXJEb3duIiwiaGFuZGxlVGh1bWJLZXlEb3duIiwiaGFuZGxlVGh1bWJUb3VjaCIsInRodW1iRWxlbWVudCIsImNyZWF0ZVRodW1iIiwic2V0QXR0cmlidXRlIiwidGFiSW5kZXgiLCJzZXRQb3NpdGlvbiIsImNoZWNrWkluZCIsInNjYWxlVmFsdWUiLCJ0b1N0cmluZyIsImdldFRodW1iIiwiZ2V0VGh1bWJBdHRyIiwiekluZGV4Iiwic2l6ZUVsZW1lbnQiLCJtb3ZlZCIsImtleSIsInBlcmNlbnRQb3NpdGlvbiIsInZhbHVlVGlwIiwidGlwIiwiY3JlYXRlVGlwIiwiYWRkVGlwIiwic2V0VmFsdWVUaXAiLCJoaWRlVGlwIiwiZGlzcGxheSIsInNob3dUaXAiLCJTbGlkZXIiLCJzdGF0ZSIsImRvbSIsInNsaWRlciIsInNjYWxlRWxlbWVudCIsIm51bWJlclZhcmlhYmxlcyIsInRpcFZhbHVlRnJvbSIsInRodW1iUGVyY2VudEZyb20iLCJ0aHVtYlBlcmNlbnRUbyIsInRpcFZhbHVlVG8iLCJib29sZWFuVmFyaWFibGVzIiwiaXNQcm9ncmVzcyIsImlzUmFuZ2UiLCJpc1RpcCIsImlzU2NhbGVNYXJrcyIsImNsYXNzRWxlbWVudHMiLCJ0aHVtYkZyb20iLCJ0aHVtYlRvIiwic2NhbGVNYXJrcyIsInRpcEZyb20iLCJ0aXBUbyIsInNsaWRlckNvbXBvbmVudHMiLCJjcmVhdGVWYXJpYWJsZXMiLCJzZXRTdGF0ZSIsImNyZWF0ZVNsaWRlciIsInNsaWRlcldyYXBwZXIiLCJzbGlkZXJEYXRhIiwidmFsdWVGcm9tIiwidmFsdWVUbyIsInNldFRodW1icyIsInNldFRpcHMiLCJzZXRUaHVtYiIsInRodW1iIiwiVGh1bWIiLCJtaW4iLCJtYXgiLCJpc05lZWREb3VibGVUaXAiLCJzZXRUaXAiLCJ2YWx1ZURpcmVjdGlvbiIsInRpcFZhbHVlIiwiVGlwIiwiUHJvZ3Jlc3MiLCJjcmVhdGVFbGVtZW50cyIsImFkZFNsaWRlciIsInNjYWxlTWFwIiwiU2NhbGUiLCJTY2FsZU1hcmtzIiwidXBkYXRlU2xpZGVyIiwiZ2V0Um9vdCIsInNldFJvb3QiLCJnZXRTbGlkZXIiLCJzZXRTbGlkZXIiLCJhZGRTdWJzY3JpYmVTbGlkZXIiLCJoYW5kbGVTbGlkZXJDbGljayIsImNsaWNrUG9zIiwidmFsdWVUaHVtYk9iamVjdCIsImZpbmRTdWl0YWJsZVBlcmNlbnQiLCJ1cGRhdGVTdGF0ZU1vdmUiLCJoYW5kbGVNb3VzZU1vdmUiLCJtb3ZlZFRvIiwiZmluZFBlcmNlbnQiLCJnZXRWYWx1ZSIsInZhbCIsImdldFBlcmNlbnRWYWwiLCJ0b0ZpeGVkIiwiZ2V0U3RlcHNDb3VudCIsIk1hdGgiLCJjZWlsIiwic3RlcCIsImlzTmFOIiwiRXJyb3IiLCJnZXRTdGF0ZSIsInBlcmNlbnRNb3ZlIiwibmVhcmVzdFN0ZXAiLCJyb3VuZCIsInBlcmNlbnRWYWx1ZSIsImN1cnJlbnRQZXJjZW50IiwiY3VycmVudFZhbHVlIiwibmV4dFBlcmNlbnQiLCJwcmV2UGVyY2VudCIsIm5lYXJlc3RQcmV2VmFsdWUiLCJmbG9vciIsIm5lYXJlc3ROZXh0VmFsdWUiLCJERUZBVUxUX0dBUCIsImJhc2VQYXJhbXMiLCJzdGVwUGVyY2VudCIsInZhbGlkYXRlRGF0YSIsInNldEJvb2xlYW5zIiwic2V0RGF0YSIsInJlc3VsdE9iamVjdCIsImNoZWNrUmFuZ2UiLCJjaGVja1N0ZXAiLCJjaGVja1ZhbHVlcyIsImNoZWNrUGVyY2VudHMiLCJwZXJmb3JtTW92ZVRvUGVyY2VudCIsInZhbGlkYXRlTWFya3MiLCJvcHRpb25zIiwiZ2FwIiwibWFwU3RlcHMiLCJNYXAiLCJ2YWxpZEdhcCIsInZhbGlkYXRlR2FwIiwiZmluZFJhbmdlIiwic3RlcENvdW50R2FwIiwicGVyY2VudENvdW50c0dhcCIsImkiLCJ2YWx1ZVN0ZXBzIiwicGVyY2VudFNjYWxlIiwic2V0IiwidmFsaWRhdGVUaHVtYkF0dHIiLCJkaWZmRnJvbSIsImRpZmZUbyIsInZhbGlkYXRlUGVyY2VudCIsIm9sZFN0YXRlIiwibmV3RGF0YSIsInRodW1iVmFsdWUiLCJzY2FsZVBlcmNlbnRHYXAiLCJiYXNpc1BlcmNlbnQiLCJyZXN1bHQiLCJhbGxSYW5nZSIsImNoZWNrVmFsdWUiLCJjb3VudFN0ZXAiLCJjaGVja1BlcmNlbnQiLCJ2YXJpYWJsZSIsInZhbHVlT2ZSYW5nZSIsInZhbGlkYXRvciIsIlZhbGlkYXRvciIsInZhbGlkU3RhdGUiLCJtb2RlbCIsIk1vZGVsIiwic2xpZGVyTWFya3MiLCJ2YWxpZEdhcE1hcmtzIiwibmV3U3RhdGUiLCJwZXJmb3JtZWREYXRhIiwic2V0VmFsdWUiLCJwYXJhbSIsIm1vZGVsRmFjYWRlIiwiTW9kZWxGYWNhZGUiLCJ2aWV3IiwiVmlldyIsInN1YnNjcmliZU1vZGVsIiwic3Vic2NyaWJlU2xpZGVyIiwiJCIsInNsaWRlclBsdWdpbiIsImluaXRpYWxTdGF0ZSIsIlByZXNlbnRlciJdLCJzb3VyY2VSb290IjoiIn0=